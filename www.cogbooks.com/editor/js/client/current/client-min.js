/*! canvas 2018-07-24 */

function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function");
}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function _inherits(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);
a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(a,b){
if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function _inherits(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);
a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(a,b){
if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function _inherits(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);
a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(a,b){
if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function _inherits(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),
b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function _inherits(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function _classCallCheck(a,b){
if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function _inherits(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);
a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(a,b){
if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function _inherits(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);
a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(a,b){
if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function _inherits(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function _classCallCheck(a,b){
if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function _inherits(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);
a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function _inherits(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function _classCallCheck(a,b){
if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function _inherits(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);
a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function _inherits(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function _classCallCheck(a,b){
if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function _inherits(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);
a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function _inherits(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function _classCallCheck(a,b){
if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function _inherits(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);
a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function _inherits(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function _classCallCheck(a,b){
if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function _inherits(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);
a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function _inherits(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function _classCallCheck(a,b){
if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function _inherits(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);
a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function _inherits(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function _classCallCheck(a,b){
if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function _inherits(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);
a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function _inherits(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function _classCallCheck(a,b){
if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function _inherits(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function _classCallCheck(a,b){
if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function _inherits(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);
a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function _inherits(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function _classCallCheck(a,b){
if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function _inherits(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);
a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function _inherits(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function _classCallCheck(a,b){
if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function _inherits(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);
a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function _inherits(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function _classCallCheck(a,b){
if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function _inherits(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);
a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function isJSON(a){try{return JSON.parse(a)&&!!a}catch(a){return!1}}function clamp(a,b,c){return Math.max(b,Math.min(c,a));
}function arrayCopy(a){var b,c,d;b=Array.isArray(a)?[]:{};for(d in a)c=a[d],b[d]="object"===("undefined"==typeof c?"undefined":_typeof(c))?arrayCopy(c):c;return b}function isNumeric(a){return!isNaN(parseFloat(a))&&isFinite(a)}function getTouchPos(a,b){return{x:b.pageX-getOffsetLeft(a),y:b.pageY-getOffsetTop(a)}}function getOffset(a){for(var b=0,c=0;a&&!isNaN(a.offsetLeft)&&!isNaN(a.offsetTop);)b+=a.offsetLeft-a.scrollLeft,
c+=a.offsetTop-a.scrollTop,a=a.offsetParent;return{y:c,x:b}}function getOffsetTop(a){var b=0;do isNaN(a.offsetTop)||(b+=a.offsetTop);while(a=a.offsetParent);return b}function getOffsetLeft(a){var b=0;do isNaN(a.offsetLeft)||(b+=a.offsetLeft);while(a=a.offsetParent);return b}function getRandom(a,b){return Math.random()*(b-a+1)+a}function getRandomNotZero(a,b){for(var c=Math.random()*(b-a+1)+a;0===c;)c=getRandom(a,b);
return c}function getRandomInt(a,b){return Math.floor(Math.random()*(b-a+1))+a}function getRandomIntNotZero(a,b){for(var c=Math.floor(Math.random()*(b-a+1))+a;0===c;)c=getRandomIntNotZero(a,b);return c}function roundDownTo(a,b){var c=a/b;return Math.floor(c)*b}function getParameterByName(a){var b=RegExp("[?&]"+a+"=([^&]*)").exec(window.location.search);return b&&decodeURIComponent(b[1].replace(/\+/g," "));
}function getMousePos(a,b){var c=a.getBoundingClientRect(),d={x:Math.round((b.clientX-c.left)/(c.right-c.left)*(a.width/a.scaleFactor)),y:Math.round((b.clientY-c.top)/(c.bottom-c.top)*(a.height/a.scaleFactor))};return d}function getDistanceFromLine(a,b,c,d,e,f){var g=getClosestPointToLine(a,b,c,d,e,f);return Math.sqrt((a-g.x)*(a-g.x)+(b-g.y)*(b-g.y))}function getClosestPointToLine(a,b,c,d,e,f){var g=e-c,h=f-d;
if(0===g&&0===h)return{x:0,y:0};var i,j=((a-c)*g+(b-d)*h)/(g*g+h*h);return i=j<0?{x:c,y:d}:j>1?{x:e,y:f}:{x:c+j*g,y:d+j*h}}function isOverLap(a,b,c){var d=c||"whole";return"whole"===d?isOverlapWhole(a,b):"partial"===d?isOverlapPartial(a,b):void 0}function isOverlapWhole(a,b){if(b.shapeType===ShapeType.RECTILINEAR){if(a.position.x<=b.position.x&&a.position.y<=b.position.y&&a.position.x+a.xLength>=b.position.x+b.xLength&&a.position.y+a.yLength>=b.position.y+b.yLength)return!0;
}else if(b.containerType===SelectionType.MultiLine||b.selectionType===SelectionType.MultiLine){for(var c={top:700,bottom:0,left:736,right:0},d=0;d<b.points.length;d++)c.left=b.points[d].x+b.position.x<c.left?b.points[d].x+b.position.x:c.left,c.right=b.points[d].x+b.position.x>c.right?b.points[d].x+b.position.x:c.right,c.top=b.points[d].y+b.position.y<c.top?b.points[d].y+b.position.y:c.top,c.bottom=b.points[d].y+b.position.y>c.bottom?b.points[d].y+b.position.y:c.bottom;
if(a.position.x<=c.left&&a.position.x+a.xLength>=c.right&&a.position.y<=c.top&&a.position.y+a.yLength>=c.bottom)return!0}else if(b.shapeType===ShapeType.VECTOR){if(a.position.x<=b.startPosition.x&&a.position.x+a.xLength>=b.startPosition.x&&a.position.y<=b.startPosition.y&&a.position.y+a.yLength>=b.startPosition.y&&a.position.x<=b.endPosition.x&&a.position.x+a.xLength>=b.endPosition.x&&a.position.y<=b.endPosition.y&&a.position.y+a.yLength>=b.endPosition.y)return!0;
}else if(b.shapeType===ShapeType.CIRCULAR&&a.position.x<=b.position.x-b.radius&&a.position.y<=b.position.y-b.radius&&a.position.x+a.xLength>=b.position.x+b.radius&&a.position.y+a.yLength>=b.position.y+b.radius)return!0;return!1}function isOverlapPartial(a,b){var c;if(b.shapeType===ShapeType.RECTILINEAR)return a.position.x<b.position.x+b.xLength&&a.position.x+a.xLength>b.position.x&&a.position.y<b.position.y+b.yLength&&a.position.y+a.yLength>b.position.y;
if(b.shapeType===ShapeType.VECTOR){if(b.selectionType===SelectionType.Line){c=getEdges(a);for(var d=0;d<c.length;d++)if(linearIntersect(b.startPosition,b.endPosition,c[d].start,c[d].end))return!0;return isOverlapWhole(a,b)}if(b.selectionType===SelectionType.MultiLine){c=getEdges(a);var e=!0,f=!1,g=void 0;try{for(var h,i=c[Symbol.iterator]();!(e=(h=i.next()).done);e=!0)for(var j=h.value,k=1;k<b.points.length;k++)if(linearIntersect(j.start,j.end,{
x:b.position.x+b.points[k-1].x,y:b.position.y+b.points[k-1].y},{x:b.position.x+b.points[k].x,y:b.position.y+b.points[k].y}))return!0}catch(a){f=!0,g=a}finally{try{!e&&i.return&&i.return()}finally{if(f)throw g}}return isOverlapWhole(a,b)}}}function isIrregularOverLap(a,b,c){var d=0;return"whole"===c?getWholeOverlap(a,b):"partial"===c?(d=getPartialOverlap(a,b),0!==d||getWholeOverlap(a,b)):void 0}function getContrastColor(a){
a=Array.prototype.join.call(arguments).match(/(-?[0-9\.]+)/g);var b=200;if(a.length){b=0;for(var c=0;c<a.length;c++)b+=Number(a[c])}return b>160?"rgb(0, 0, 0)":"rgb(255, 255, 255)"}function setInstruction(a){editor.instructions.fontColor=Instructions[a].type,editor.instructions.labelText=Instructions[a].text,editor.instructionPanel.fillStyle=InstructionFill[Instructions[a].type],editor.invalid=!0}function isInFront(a,b,c){
for(var d=0,e=0;e<b.length;e++)b[e]===a&&(d=e);for(e=b.length-1;e>d;e--)if(isHit(b[e],c))return!1;return!0}function isTextOverlap(a,b){var c=[],d=!0,e=!1,f=void 0;try{for(var g,h=b[Symbol.iterator]();!(d=(g=h.next()).done);d=!0){var i=g.value;a!==i&&isOverlapPartial(a,i)&&i.text&&"Rollover"!==i.itemType&&c.push(i)}}catch(a){e=!0,f=a}finally{try{!d&&h.return&&h.return()}finally{if(e)throw f}}return c.length?c:void 0;
}function crossDomain(a,b,c,d,e){var f;XMLHttpRequest?(f=new XMLHttpRequest,"withCredentials"in f&&(f.open(b,a,!0),f.onerror=e,f.onreadystatechange=function(){4===f.readyState&&(f.status>=200&&f.status<400?f.send(c):e(new Error("Response returned with non-OK status")))})):XDomainRequest?(f=new XDomainRequest,f.open(b,a),f.onerror=e,f.onload=function(){d(f.responseText)},f.send(c)):e(new Error("CORS not supported"));
}function wrapText(a,b,c,d,e,f,g){var h,i=b.split(" "),j="",k=2.5,l=0;g&&(l="sub"===g?f/k:f/-k);for(var m=0,n=0,o=0;o<i.length;o++){var p=j+i[o]+" ";h=a.measureText(p),n=h.width,n>e&&o>0?(a.fillText(j,c,d+m+l),j=i[o]+" ",m+=f):j=p}return a.fillText(j,c,d+m+l),{x:h.width,y:m}}function wrapTextLines(a,b,c,d,e,f){for(var g=b.split(" "),h="",i=1,j=0;j<g.length;j++){var k=h+g[j]+" ",l=a.measureText(k),m=l.width;
m>e&&j>0?(a.fillText(h,c,d),h=g[j]+" ",d+=f,i++):h=k}return a.fillText(h,c,d),i}function wrapTextNewLine(a,b,c,d,e,f,g){for(var h=b.split(g),i=0;i<h.length;i++)d=wrapText(a,h[i],c,d+f,e,f).y;return h.length}function copyText(a,b){a.text=new Text({x:b.text.position.x,y:b.text.position.y},b.text.textAlign,a);var c=!0,d=!1,e=void 0;try{for(var f,g=b.text.textArray[Symbol.iterator]();!(c=(f=g.next()).done);c=!0){
var h=f.value;a.text.textArray.push(h)}}catch(a){d=!0,e=a}finally{try{!c&&g.return&&g.return()}finally{if(d)throw e}}}function boxIsHit(a,b){return b.x>=a.position.x&&b.x<=a.position.x+a.xLength&&b.y>=a.position.y&&b.y<=a.position.y+a.yLength}function circleIsHit(a,b,c){var d=a.radius;return c&&(d+=c),b.x>=a.position.x-d&&b.x<=a.position.x+d&&b.y>=a.position.y-d&&b.y<=a.position.y+d}function isItemViable(a){
var b=!1;return a.shapeType===ShapeType.CIRCULAR?a.radius>10&&(b=!0):a.selectionType===SelectionType.Box?Math.abs(a.xLength)>10&&Math.abs(a.yLength)>10&&(b=!0):a.selectionType===SelectionType.Line?(Math.abs(Math.abs(a.endPosition.x)-Math.abs(a.startPosition.x))>10||Math.abs(Math.abs(a.endPosition.y)-Math.abs(a.startPosition.y))>10)&&(b=!0):a.selectionType===SelectionType.MultiLine&&(Math.abs(Math.abs(a.nextPosition.x)-Math.abs(a.position.x))>10||Math.abs(Math.abs(a.nextPosition.y)-Math.abs(a.position.y))>10)&&(b=!0),
b}function linearIntersect(a,b,c,d,e,f,g){e&&(c.x=c.x+(c.x-f.x),c.y=c.y+(c.y-f.y),d.x=d.x+(d.x-f.x),d.y=d.y+(d.y-f.y),d.y<f.y&&f.y-g.yPosition>0&&(d.y-=f.y-g.yPosition),c.y<f.y&&f.y-g.yPosition>0&&(c.y-=f.y-g.yPosition));var h,i,j,k,l,m,n,o;return j=b.y-a.y,l=a.x-b.x,n=b.x*a.y-a.x*b.y,h=j*c.x+l*c.y+n,i=j*d.x+l*d.y+n,!(h>0&&i>0)&&(!(h<0&&i<0)&&(k=d.y-c.y,m=c.x-d.x,o=d.x*c.y-c.x*d.y,h=k*a.x+m*a.y+o,i=k*b.x+m*b.y+o,
!(h>0&&i>0)&&(!(h<0&&i<0)&&!Math.floor(j*m-k*l===0))))}function boxIsHitMargin(a,b,c,d){if(0===c){if(d.x>=a.xPosition-b&&d.x<=a.xPosition+a.xLength+b&&d.y>=a.yPosition-b&&d.y<=a.yPosition+a.yLength+b)return!0}else if(1===c){if(d.x>=a.xPosition&&d.x<=a.xPosition+a.xLength&&d.y>=a.yPosition-b&&d.y<=a.yPosition+a.yLength+b)return!0}else if(2===c&&d.x>=a.xPosition-b&&d.x<=a.xPosition+a.xLength+b&&d.y>=a.yPosition&&d.y<=a.yPosition+a.yLength)return!0;
return!1}function rotatePoint(a,b,c){a.x-=b.x,a.y-=b.y;var d={};return d.x=a.x*Math.cos(c)-a.y*Math.sin(c),d.y=a.x*Math.sin(c)+a.y*Math.cos(c),d.x+=b.x,d.y+=b.y,d}!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}
};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){(function(b){"use strict";function c(a,b,c){a[b]||Object[d](a,b,{writable:!0,configurable:!0,value:c})}if(a(295),a(296),a(2),b._babelPolyfill)throw new Error("only one instance of babel-polyfill is allowed");
b._babelPolyfill=!0;var d="defineProperty";c(String.prototype,"padLeft","".padStart),c(String.prototype,"padRight","".padEnd),"pop,reverse,shift,keys,values,entries,indexOf,every,some,forEach,map,filter,find,findIndex,includes,join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill".split(",").forEach(function(a){[][a]&&c(Array,a,Function.call.bind([][a]))})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});
},{2:2,295:295,296:296}],2:[function(a,b,c){a(119),b.exports=a(23).RegExp.escape},{119:119,23:23}],3:[function(a,b,c){b.exports=function(a){if("function"!=typeof a)throw TypeError(a+" is not a function!");return a}},{}],4:[function(a,b,c){var d=a(18);b.exports=function(a,b){if("number"!=typeof a&&"Number"!=d(a))throw TypeError(b);return+a}},{18:18}],5:[function(a,b,c){var d=a(117)("unscopables"),e=Array.prototype;
void 0==e[d]&&a(40)(e,d,{}),b.exports=function(a){e[d][a]=!0}},{117:117,40:40}],6:[function(a,b,c){b.exports=function(a,b,c,d){if(!(a instanceof b)||void 0!==d&&d in a)throw TypeError(c+": incorrect invocation!");return a}},{}],7:[function(a,b,c){var d=a(49);b.exports=function(a){if(!d(a))throw TypeError(a+" is not an object!");return a}},{49:49}],8:[function(a,b,c){"use strict";var d=a(109),e=a(105),f=a(108);
b.exports=[].copyWithin||function(a,b){var c=d(this),g=f(c.length),h=e(a,g),i=e(b,g),j=arguments.length>2?arguments[2]:void 0,k=Math.min((void 0===j?g:e(j,g))-i,g-h),l=1;for(i<h&&h<i+k&&(l=-1,i+=k-1,h+=k-1);k-- >0;)i in c?c[h]=c[i]:delete c[h],h+=l,i+=l;return c}},{105:105,108:108,109:109}],9:[function(a,b,c){"use strict";var d=a(109),e=a(105),f=a(108);b.exports=function(a){for(var b=d(this),c=f(b.length),g=arguments.length,h=e(g>1?arguments[1]:void 0,c),i=g>2?arguments[2]:void 0,j=void 0===i?c:e(i,c);j>h;)b[h++]=a;
return b}},{105:105,108:108,109:109}],10:[function(a,b,c){var d=a(37);b.exports=function(a,b){var c=[];return d(a,!1,c.push,c,b),c}},{37:37}],11:[function(a,b,c){var d=a(107),e=a(108),f=a(105);b.exports=function(a){return function(b,c,g){var h,i=d(b),j=e(i.length),k=f(g,j);if(a&&c!=c){for(;j>k;)if(h=i[k++],h!=h)return!0}else for(;j>k;k++)if((a||k in i)&&i[k]===c)return a||k||0;return!a&&-1}}},{105:105,
107:107,108:108}],12:[function(a,b,c){var d=a(25),e=a(45),f=a(109),g=a(108),h=a(15);b.exports=function(a,b){var c=1==a,i=2==a,j=3==a,k=4==a,l=6==a,m=5==a||l,n=b||h;return function(b,h,o){for(var p,q,r=f(b),s=e(r),t=d(h,o,3),u=g(s.length),v=0,w=c?n(b,u):i?n(b,0):void 0;u>v;v++)if((m||v in s)&&(p=s[v],q=t(p,v,r),a))if(c)w[v]=q;else if(q)switch(a){case 3:return!0;case 5:return p;case 6:return v;case 2:
w.push(p)}else if(k)return!1;return l?-1:j||k?k:w}}},{108:108,109:109,15:15,25:25,45:45}],13:[function(a,b,c){var d=a(3),e=a(109),f=a(45),g=a(108);b.exports=function(a,b,c,h,i){d(b);var j=e(a),k=f(j),l=g(j.length),m=i?l-1:0,n=i?-1:1;if(c<2)for(;;){if(m in k){h=k[m],m+=n;break}if(m+=n,i?m<0:l<=m)throw TypeError("Reduce of empty array with no initial value")}for(;i?m>=0:l>m;m+=n)m in k&&(h=b(h,k[m],m,j));
return h}},{108:108,109:109,3:3,45:45}],14:[function(a,b,c){var d=a(49),e=a(47),f=a(117)("species");b.exports=function(a){var b;return e(a)&&(b=a.constructor,"function"!=typeof b||b!==Array&&!e(b.prototype)||(b=void 0),d(b)&&(b=b[f],null===b&&(b=void 0))),void 0===b?Array:b}},{117:117,47:47,49:49}],15:[function(a,b,c){var d=a(14);b.exports=function(a,b){return new(d(a))(b)}},{14:14}],16:[function(a,b,c){
"use strict";var d=a(3),e=a(49),f=a(44),g=[].slice,h={},i=function(a,b,c){if(!(b in h)){for(var d=[],e=0;e<b;e++)d[e]="a["+e+"]";h[b]=Function("F,a","return new F("+d.join(",")+")")}return h[b](a,c)};b.exports=Function.bind||function(a){var b=d(this),c=g.call(arguments,1),h=function(){var d=c.concat(g.call(arguments));return this instanceof h?i(b,d.length,d):f(b,d,a)};return e(b.prototype)&&(h.prototype=b.prototype),
h}},{3:3,44:44,49:49}],17:[function(a,b,c){var d=a(18),e=a(117)("toStringTag"),f="Arguments"==d(function(){return arguments}()),g=function(a,b){try{return a[b]}catch(a){}};b.exports=function(a){var b,c,h;return void 0===a?"Undefined":null===a?"Null":"string"==typeof(c=g(b=Object(a),e))?c:f?d(b):"Object"==(h=d(b))&&"function"==typeof b.callee?"Arguments":h}},{117:117,18:18}],18:[function(a,b,c){var d={}.toString;
b.exports=function(a){return d.call(a).slice(8,-1)}},{}],19:[function(a,b,c){"use strict";var d=a(67).f,e=a(66),f=a(86),g=a(25),h=a(6),i=a(27),j=a(37),k=a(53),l=a(55),m=a(91),n=a(28),o=a(62).fastKey,p=n?"_s":"size",q=function(a,b){var c,d=o(b);if("F"!==d)return a._i[d];for(c=a._f;c;c=c.n)if(c.k==b)return c};b.exports={getConstructor:function(a,b,c,k){var l=a(function(a,d){h(a,l,b,"_i"),a._i=e(null),
a._f=void 0,a._l=void 0,a[p]=0,void 0!=d&&j(d,c,a[k],a)});return f(l.prototype,{clear:function(){for(var a=this,b=a._i,c=a._f;c;c=c.n)c.r=!0,c.p&&(c.p=c.p.n=void 0),delete b[c.i];a._f=a._l=void 0,a[p]=0},delete:function(a){var b=this,c=q(b,a);if(c){var d=c.n,e=c.p;delete b._i[c.i],c.r=!0,e&&(e.n=d),d&&(d.p=e),b._f==c&&(b._f=d),b._l==c&&(b._l=e),b[p]--}return!!c},forEach:function(a){h(this,l,"forEach");
for(var b,c=g(a,arguments.length>1?arguments[1]:void 0,3);b=b?b.n:this._f;)for(c(b.v,b.k,this);b&&b.r;)b=b.p},has:function(a){return!!q(this,a)}}),n&&d(l.prototype,"size",{get:function(){return i(this[p])}}),l},def:function(a,b,c){var d,e,f=q(a,b);return f?f.v=c:(a._l=f={i:e=o(b,!0),k:b,v:c,p:d=a._l,n:void 0,r:!1},a._f||(a._f=f),d&&(d.n=f),a[p]++,"F"!==e&&(a._i[e]=f)),a},getEntry:q,setStrong:function(a,b,c){
k(a,b,function(a,b){this._t=a,this._k=b,this._l=void 0},function(){for(var a=this,b=a._k,c=a._l;c&&c.r;)c=c.p;return a._t&&(a._l=c=c?c.n:a._t._f)?"keys"==b?l(0,c.k):"values"==b?l(0,c.v):l(0,[c.k,c.v]):(a._t=void 0,l(1))},c?"entries":"values",!c,!0),m(b)}}},{25:25,27:27,28:28,37:37,53:53,55:55,6:6,62:62,66:66,67:67,86:86,91:91}],20:[function(a,b,c){var d=a(17),e=a(10);b.exports=function(a){return function(){
if(d(this)!=a)throw TypeError(a+"#toJSON isn't generic");return e(this)}}},{10:10,17:17}],21:[function(a,b,c){"use strict";var d=a(86),e=a(62).getWeak,f=a(7),g=a(49),h=a(6),i=a(37),j=a(12),k=a(39),l=j(5),m=j(6),n=0,o=function(a){return a._l||(a._l=new p)},p=function(){this.a=[]},q=function(a,b){return l(a.a,function(a){return a[0]===b})};p.prototype={get:function(a){var b=q(this,a);if(b)return b[1];
},has:function(a){return!!q(this,a)},set:function(a,b){var c=q(this,a);c?c[1]=b:this.a.push([a,b])},delete:function(a){var b=m(this.a,function(b){return b[0]===a});return~b&&this.a.splice(b,1),!!~b}},b.exports={getConstructor:function(a,b,c,f){var j=a(function(a,d){h(a,j,b,"_i"),a._i=n++,a._l=void 0,void 0!=d&&i(d,c,a[f],a)});return d(j.prototype,{delete:function(a){if(!g(a))return!1;var b=e(a);return b===!0?o(this).delete(a):b&&k(b,this._i)&&delete b[this._i];
},has:function(a){if(!g(a))return!1;var b=e(a);return b===!0?o(this).has(a):b&&k(b,this._i)}}),j},def:function(a,b,c){var d=e(f(b),!0);return d===!0?o(a).set(b,c):d[a._i]=c,a},ufstore:o}},{12:12,37:37,39:39,49:49,6:6,62:62,7:7,86:86}],22:[function(a,b,c){"use strict";var d=a(38),e=a(32),f=a(87),g=a(86),h=a(62),i=a(37),j=a(6),k=a(49),l=a(34),m=a(54),n=a(92),o=a(43);b.exports=function(a,b,c,p,q,r){var s=d[a],t=s,u=q?"set":"add",v=t&&t.prototype,w={},x=function(a){
var b=v[a];f(v,a,"delete"==a?function(a){return!(r&&!k(a))&&b.call(this,0===a?0:a)}:"has"==a?function(a){return!(r&&!k(a))&&b.call(this,0===a?0:a)}:"get"==a?function(a){return r&&!k(a)?void 0:b.call(this,0===a?0:a)}:"add"==a?function(a){return b.call(this,0===a?0:a),this}:function(a,c){return b.call(this,0===a?0:a,c),this})};if("function"==typeof t&&(r||v.forEach&&!l(function(){(new t).entries().next();
}))){var y=new t,z=y[u](r?{}:-0,1)!=y,A=l(function(){y.has(1)}),B=m(function(a){new t(a)}),C=!r&&l(function(){for(var a=new t,b=5;b--;)a[u](b,b);return!a.has(-0)});B||(t=b(function(b,c){j(b,t,a);var d=o(new s,b,t);return void 0!=c&&i(c,q,d[u],d),d}),t.prototype=v,v.constructor=t),(A||C)&&(x("delete"),x("has"),q&&x("get")),(C||z)&&x(u),r&&v.clear&&delete v.clear}else t=p.getConstructor(b,a,q,u),g(t.prototype,c),
h.NEED=!0;return n(t,a),w[a]=t,e(e.G+e.W+e.F*(t!=s),w),r||p.setStrong(t,a,q),t}},{32:32,34:34,37:37,38:38,43:43,49:49,54:54,6:6,62:62,86:86,87:87,92:92}],23:[function(a,b,c){var d=b.exports={version:"2.4.0"};"number"==typeof __e&&(__e=d)},{}],24:[function(a,b,c){"use strict";var d=a(67),e=a(85);b.exports=function(a,b,c){b in a?d.f(a,b,e(0,c)):a[b]=c}},{67:67,85:85}],25:[function(a,b,c){var d=a(3);b.exports=function(a,b,c){
if(d(a),void 0===b)return a;switch(c){case 1:return function(c){return a.call(b,c)};case 2:return function(c,d){return a.call(b,c,d)};case 3:return function(c,d,e){return a.call(b,c,d,e)}}return function(){return a.apply(b,arguments)}}},{3:3}],26:[function(a,b,c){"use strict";var d=a(7),e=a(110),f="number";b.exports=function(a){if("string"!==a&&a!==f&&"default"!==a)throw TypeError("Incorrect hint");
return e(d(this),a!=f)}},{110:110,7:7}],27:[function(a,b,c){b.exports=function(a){if(void 0==a)throw TypeError("Can't call method on  "+a);return a}},{}],28:[function(a,b,c){b.exports=!a(34)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},{34:34}],29:[function(a,b,c){var d=a(49),e=a(38).document,f=d(e)&&d(e.createElement);b.exports=function(a){return f?e.createElement(a):{};
}},{38:38,49:49}],30:[function(a,b,c){b.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},{}],31:[function(a,b,c){var d=a(76),e=a(73),f=a(77);b.exports=function(a){var b=d(a),c=e.f;if(c)for(var g,h=c(a),i=f.f,j=0;h.length>j;)i.call(a,g=h[j++])&&b.push(g);return b}},{73:73,76:76,77:77}],32:[function(a,b,c){var d=a(38),e=a(23),f=a(40),g=a(87),h=a(25),i="prototype",j=function(a,b,c){
var k,l,m,n,o=a&j.F,p=a&j.G,q=a&j.S,r=a&j.P,s=a&j.B,t=p?d:q?d[b]||(d[b]={}):(d[b]||{})[i],u=p?e:e[b]||(e[b]={}),v=u[i]||(u[i]={});p&&(c=b);for(k in c)l=!o&&t&&void 0!==t[k],m=(l?t:c)[k],n=s&&l?h(m,d):r&&"function"==typeof m?h(Function.call,m):m,t&&g(t,k,m,a&j.U),u[k]!=m&&f(u,k,n),r&&v[k]!=m&&(v[k]=m)};d.core=e,j.F=1,j.G=2,j.S=4,j.P=8,j.B=16,j.W=32,j.U=64,j.R=128,b.exports=j},{23:23,25:25,38:38,40:40,
87:87}],33:[function(a,b,c){var d=a(117)("match");b.exports=function(a){var b=/./;try{"/./"[a](b)}catch(c){try{return b[d]=!1,!"/./"[a](b)}catch(a){}}return!0}},{117:117}],34:[function(a,b,c){b.exports=function(a){try{return!!a()}catch(a){return!0}}},{}],35:[function(a,b,c){"use strict";var d=a(40),e=a(87),f=a(34),g=a(27),h=a(117);b.exports=function(a,b,c){var i=h(a),j=c(g,i,""[a]),k=j[0],l=j[1];f(function(){
var b={};return b[i]=function(){return 7},7!=""[a](b)})&&(e(String.prototype,a,k),d(RegExp.prototype,i,2==b?function(a,b){return l.call(a,this,b)}:function(a){return l.call(a,this)}))}},{117:117,27:27,34:34,40:40,87:87}],36:[function(a,b,c){"use strict";var d=a(7);b.exports=function(){var a=d(this),b="";return a.global&&(b+="g"),a.ignoreCase&&(b+="i"),a.multiline&&(b+="m"),a.unicode&&(b+="u"),a.sticky&&(b+="y"),
b}},{7:7}],37:[function(a,b,c){var d=a(25),e=a(51),f=a(46),g=a(7),h=a(108),i=a(118),j={},k={},c=b.exports=function(a,b,c,l,m){var n,o,p,q,r=m?function(){return a}:i(a),s=d(c,l,b?2:1),t=0;if("function"!=typeof r)throw TypeError(a+" is not iterable!");if(f(r)){for(n=h(a.length);n>t;t++)if(q=b?s(g(o=a[t])[0],o[1]):s(a[t]),q===j||q===k)return q}else for(p=r.call(a);!(o=p.next()).done;)if(q=e(p,s,o.value,b),
q===j||q===k)return q};c.BREAK=j,c.RETURN=k},{108:108,118:118,25:25,46:46,51:51,7:7}],38:[function(a,b,c){var d=b.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=d)},{}],39:[function(a,b,c){var d={}.hasOwnProperty;b.exports=function(a,b){return d.call(a,b)}},{}],40:[function(a,b,c){var d=a(67),e=a(85);
b.exports=a(28)?function(a,b,c){return d.f(a,b,e(1,c))}:function(a,b,c){return a[b]=c,a}},{28:28,67:67,85:85}],41:[function(a,b,c){b.exports=a(38).document&&document.documentElement},{38:38}],42:[function(a,b,c){b.exports=!a(28)&&!a(34)(function(){return 7!=Object.defineProperty(a(29)("div"),"a",{get:function(){return 7}}).a})},{28:28,29:29,34:34}],43:[function(a,b,c){var d=a(49),e=a(90).set;b.exports=function(a,b,c){
var f,g=b.constructor;return g!==c&&"function"==typeof g&&(f=g.prototype)!==c.prototype&&d(f)&&e&&e(a,f),a}},{49:49,90:90}],44:[function(a,b,c){b.exports=function(a,b,c){var d=void 0===c;switch(b.length){case 0:return d?a():a.call(c);case 1:return d?a(b[0]):a.call(c,b[0]);case 2:return d?a(b[0],b[1]):a.call(c,b[0],b[1]);case 3:return d?a(b[0],b[1],b[2]):a.call(c,b[0],b[1],b[2]);case 4:return d?a(b[0],b[1],b[2],b[3]):a.call(c,b[0],b[1],b[2],b[3]);
}return a.apply(c,b)}},{}],45:[function(a,b,c){var d=a(18);b.exports=Object("z").propertyIsEnumerable(0)?Object:function(a){return"String"==d(a)?a.split(""):Object(a)}},{18:18}],46:[function(a,b,c){var d=a(56),e=a(117)("iterator"),f=Array.prototype;b.exports=function(a){return void 0!==a&&(d.Array===a||f[e]===a)}},{117:117,56:56}],47:[function(a,b,c){var d=a(18);b.exports=Array.isArray||function(a){
return"Array"==d(a)}},{18:18}],48:[function(a,b,c){var d=a(49),e=Math.floor;b.exports=function(a){return!d(a)&&isFinite(a)&&e(a)===a}},{49:49}],49:[function(a,b,c){b.exports=function(a){return"object"==typeof a?null!==a:"function"==typeof a}},{}],50:[function(a,b,c){var d=a(49),e=a(18),f=a(117)("match");b.exports=function(a){var b;return d(a)&&(void 0!==(b=a[f])?!!b:"RegExp"==e(a))}},{117:117,18:18,
49:49}],51:[function(a,b,c){var d=a(7);b.exports=function(a,b,c,e){try{return e?b(d(c)[0],c[1]):b(c)}catch(b){var f=a.return;throw void 0!==f&&d(f.call(a)),b}}},{7:7}],52:[function(a,b,c){"use strict";var d=a(66),e=a(85),f=a(92),g={};a(40)(g,a(117)("iterator"),function(){return this}),b.exports=function(a,b,c){a.prototype=d(g,{next:e(1,c)}),f(a,b+" Iterator")}},{117:117,40:40,66:66,85:85,92:92}],53:[function(a,b,c){
"use strict";var d=a(58),e=a(32),f=a(87),g=a(40),h=a(39),i=a(56),j=a(52),k=a(92),l=a(74),m=a(117)("iterator"),n=!([].keys&&"next"in[].keys()),o="@@iterator",p="keys",q="values",r=function(){return this};b.exports=function(a,b,c,s,t,u,v){j(c,b,s);var w,x,y,z=function(a){if(!n&&a in D)return D[a];switch(a){case p:return function(){return new c(this,a)};case q:return function(){return new c(this,a)}}return function(){
return new c(this,a)}},A=b+" Iterator",B=t==q,C=!1,D=a.prototype,E=D[m]||D[o]||t&&D[t],F=E||z(t),G=t?B?z("entries"):F:void 0,H="Array"==b?D.entries||E:E;if(H&&(y=l(H.call(new a)),y!==Object.prototype&&(k(y,A,!0),d||h(y,m)||g(y,m,r))),B&&E&&E.name!==q&&(C=!0,F=function(){return E.call(this)}),d&&!v||!n&&!C&&D[m]||g(D,m,F),i[b]=F,i[A]=r,t)if(w={values:B?F:z(q),keys:u?F:z(p),entries:G},v)for(x in w)x in D||f(D,x,w[x]);else e(e.P+e.F*(n||C),b,w);
return w}},{117:117,32:32,39:39,40:40,52:52,56:56,58:58,74:74,87:87,92:92}],54:[function(a,b,c){var d=a(117)("iterator"),e=!1;try{var f=[7][d]();f.return=function(){e=!0},Array.from(f,function(){throw 2})}catch(a){}b.exports=function(a,b){if(!b&&!e)return!1;var c=!1;try{var f=[7],g=f[d]();g.next=function(){return{done:c=!0}},f[d]=function(){return g},a(f)}catch(a){}return c}},{117:117}],55:[function(a,b,c){
b.exports=function(a,b){return{value:b,done:!!a}}},{}],56:[function(a,b,c){b.exports={}},{}],57:[function(a,b,c){var d=a(76),e=a(107);b.exports=function(a,b){for(var c,f=e(a),g=d(f),h=g.length,i=0;h>i;)if(f[c=g[i++]]===b)return c}},{107:107,76:76}],58:[function(a,b,c){b.exports=!1},{}],59:[function(a,b,c){var d=Math.expm1;b.exports=!d||d(10)>22025.465794806718||d(10)<22025.465794806718||d(-2e-17)!=-2e-17?function(a){
return 0==(a=+a)?a:a>-1e-6&&a<1e-6?a+a*a/2:Math.exp(a)-1}:d},{}],60:[function(a,b,c){b.exports=Math.log1p||function(a){return(a=+a)>-1e-8&&a<1e-8?a-a*a/2:Math.log(1+a)}},{}],61:[function(a,b,c){b.exports=Math.sign||function(a){return 0==(a=+a)||a!=a?a:a<0?-1:1}},{}],62:[function(a,b,c){var d=a(114)("meta"),e=a(49),f=a(39),g=a(67).f,h=0,i=Object.isExtensible||function(){return!0},j=!a(34)(function(){
return i(Object.preventExtensions({}))}),k=function(a){g(a,d,{value:{i:"O"+ ++h,w:{}}})},l=function(a,b){if(!e(a))return"symbol"==typeof a?a:("string"==typeof a?"S":"P")+a;if(!f(a,d)){if(!i(a))return"F";if(!b)return"E";k(a)}return a[d].i},m=function(a,b){if(!f(a,d)){if(!i(a))return!0;if(!b)return!1;k(a)}return a[d].w},n=function(a){return j&&o.NEED&&i(a)&&!f(a,d)&&k(a),a},o=b.exports={KEY:d,NEED:!1,
fastKey:l,getWeak:m,onFreeze:n}},{114:114,34:34,39:39,49:49,67:67}],63:[function(a,b,c){var d=a(149),e=a(32),f=a(94)("metadata"),g=f.store||(f.store=new(a(255))),h=function(a,b,c){var e=g.get(a);if(!e){if(!c)return;g.set(a,e=new d)}var f=e.get(b);if(!f){if(!c)return;e.set(b,f=new d)}return f},i=function(a,b,c){var d=h(b,c,!1);return void 0!==d&&d.has(a)},j=function(a,b,c){var d=h(b,c,!1);return void 0===d?void 0:d.get(a);
},k=function(a,b,c,d){h(c,d,!0).set(a,b)},l=function(a,b){var c=h(a,b,!1),d=[];return c&&c.forEach(function(a,b){d.push(b)}),d},m=function(a){return void 0===a||"symbol"==typeof a?a:String(a)},n=function(a){e(e.S,"Reflect",a)};b.exports={store:g,map:h,has:i,get:j,set:k,keys:l,key:m,exp:n}},{149:149,255:255,32:32,94:94}],64:[function(a,b,c){var d=a(38),e=a(104).set,f=d.MutationObserver||d.WebKitMutationObserver,g=d.process,h=d.Promise,i="process"==a(18)(g);
b.exports=function(){var a,b,c,j=function(){var d,e;for(i&&(d=g.domain)&&d.exit();a;){e=a.fn,a=a.next;try{e()}catch(d){throw a?c():b=void 0,d}}b=void 0,d&&d.enter()};if(i)c=function(){g.nextTick(j)};else if(f){var k=!0,l=document.createTextNode("");new f(j).observe(l,{characterData:!0}),c=function(){l.data=k=!k}}else if(h&&h.resolve){var m=h.resolve();c=function(){m.then(j)}}else c=function(){e.call(d,j);
};return function(d){var e={fn:d,next:void 0};b&&(b.next=e),a||(a=e,c()),b=e}}},{104:104,18:18,38:38}],65:[function(a,b,c){"use strict";var d=a(76),e=a(73),f=a(77),g=a(109),h=a(45),i=Object.assign;b.exports=!i||a(34)(function(){var a={},b={},c=Symbol(),d="abcdefghijklmnopqrst";return a[c]=7,d.split("").forEach(function(a){b[a]=a}),7!=i({},a)[c]||Object.keys(i({},b)).join("")!=d})?function(a,b){for(var c=g(a),i=arguments.length,j=1,k=e.f,l=f.f;i>j;)for(var m,n=h(arguments[j++]),o=k?d(n).concat(k(n)):d(n),p=o.length,q=0;p>q;)l.call(n,m=o[q++])&&(c[m]=n[m]);
return c}:i},{109:109,34:34,45:45,73:73,76:76,77:77}],66:[function(a,b,c){var d=a(7),e=a(68),f=a(30),g=a(93)("IE_PROTO"),h=function(){},i="prototype",j=function(){var b,c=a(29)("iframe"),d=f.length,e="<",g=">";for(c.style.display="none",a(41).appendChild(c),c.src="javascript:",b=c.contentWindow.document,b.open(),b.write(e+"script"+g+"document.F=Object"+e+"/script"+g),b.close(),j=b.F;d--;)delete j[i][f[d]];
return j()};b.exports=Object.create||function(a,b){var c;return null!==a?(h[i]=d(a),c=new h,h[i]=null,c[g]=a):c=j(),void 0===b?c:e(c,b)}},{29:29,30:30,41:41,68:68,7:7,93:93}],67:[function(a,b,c){var d=a(7),e=a(42),f=a(110),g=Object.defineProperty;c.f=a(28)?Object.defineProperty:function(a,b,c){if(d(a),b=f(b,!0),d(c),e)try{return g(a,b,c)}catch(a){}if("get"in c||"set"in c)throw TypeError("Accessors not supported!");
return"value"in c&&(a[b]=c.value),a}},{110:110,28:28,42:42,7:7}],68:[function(a,b,c){var d=a(67),e=a(7),f=a(76);b.exports=a(28)?Object.defineProperties:function(a,b){e(a);for(var c,g=f(b),h=g.length,i=0;h>i;)d.f(a,c=g[i++],b[c]);return a}},{28:28,67:67,7:7,76:76}],69:[function(a,b,c){b.exports=a(58)||!a(34)(function(){var b=Math.random();__defineSetter__.call(null,b,function(){}),delete a(38)[b]})},{
34:34,38:38,58:58}],70:[function(a,b,c){var d=a(77),e=a(85),f=a(107),g=a(110),h=a(39),i=a(42),j=Object.getOwnPropertyDescriptor;c.f=a(28)?j:function(a,b){if(a=f(a),b=g(b,!0),i)try{return j(a,b)}catch(a){}if(h(a,b))return e(!d.f.call(a,b),a[b])}},{107:107,110:110,28:28,39:39,42:42,77:77,85:85}],71:[function(a,b,c){var d=a(107),e=a(72).f,f={}.toString,g="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],h=function(a){
try{return e(a)}catch(a){return g.slice()}};b.exports.f=function(a){return g&&"[object Window]"==f.call(a)?h(a):e(d(a))}},{107:107,72:72}],72:[function(a,b,c){var d=a(75),e=a(30).concat("length","prototype");c.f=Object.getOwnPropertyNames||function(a){return d(a,e)}},{30:30,75:75}],73:[function(a,b,c){c.f=Object.getOwnPropertySymbols},{}],74:[function(a,b,c){var d=a(39),e=a(109),f=a(93)("IE_PROTO"),g=Object.prototype;
b.exports=Object.getPrototypeOf||function(a){return a=e(a),d(a,f)?a[f]:"function"==typeof a.constructor&&a instanceof a.constructor?a.constructor.prototype:a instanceof Object?g:null}},{109:109,39:39,93:93}],75:[function(a,b,c){var d=a(39),e=a(107),f=a(11)(!1),g=a(93)("IE_PROTO");b.exports=function(a,b){var c,h=e(a),i=0,j=[];for(c in h)c!=g&&d(h,c)&&j.push(c);for(;b.length>i;)d(h,c=b[i++])&&(~f(j,c)||j.push(c));
return j}},{107:107,11:11,39:39,93:93}],76:[function(a,b,c){var d=a(75),e=a(30);b.exports=Object.keys||function(a){return d(a,e)}},{30:30,75:75}],77:[function(a,b,c){c.f={}.propertyIsEnumerable},{}],78:[function(a,b,c){var d=a(32),e=a(23),f=a(34);b.exports=function(a,b){var c=(e.Object||{})[a]||Object[a],g={};g[a]=b(c),d(d.S+d.F*f(function(){c(1)}),"Object",g)}},{23:23,32:32,34:34}],79:[function(a,b,c){
var d=a(76),e=a(107),f=a(77).f;b.exports=function(a){return function(b){for(var c,g=e(b),h=d(g),i=h.length,j=0,k=[];i>j;)f.call(g,c=h[j++])&&k.push(a?[c,g[c]]:g[c]);return k}}},{107:107,76:76,77:77}],80:[function(a,b,c){var d=a(72),e=a(73),f=a(7),g=a(38).Reflect;b.exports=g&&g.ownKeys||function(a){var b=d.f(f(a)),c=e.f;return c?b.concat(c(a)):b}},{38:38,7:7,72:72,73:73}],81:[function(a,b,c){var d=a(38).parseFloat,e=a(102).trim;
b.exports=1/d(a(103)+"-0")!==-(1/0)?function(a){var b=e(String(a),3),c=d(b);return 0===c&&"-"==b.charAt(0)?-0:c}:d},{102:102,103:103,38:38}],82:[function(a,b,c){var d=a(38).parseInt,e=a(102).trim,f=a(103),g=/^[\-+]?0[xX]/;b.exports=8!==d(f+"08")||22!==d(f+"0x16")?function(a,b){var c=e(String(a),3);return d(c,b>>>0||(g.test(c)?16:10))}:d},{102:102,103:103,38:38}],83:[function(a,b,c){"use strict";var d=a(84),e=a(44),f=a(3);
b.exports=function(){for(var a=f(this),b=arguments.length,c=Array(b),g=0,h=d._,i=!1;b>g;)(c[g]=arguments[g++])===h&&(i=!0);return function(){var d,f=this,g=arguments.length,j=0,k=0;if(!i&&!g)return e(a,c,f);if(d=c.slice(),i)for(;b>j;j++)d[j]===h&&(d[j]=arguments[k++]);for(;g>k;)d.push(arguments[k++]);return e(a,d,f)}}},{3:3,44:44,84:84}],84:[function(a,b,c){b.exports=a(38)},{38:38}],85:[function(a,b,c){
b.exports=function(a,b){return{enumerable:!(1&a),configurable:!(2&a),writable:!(4&a),value:b}}},{}],86:[function(a,b,c){var d=a(87);b.exports=function(a,b,c){for(var e in b)d(a,e,b[e],c);return a}},{87:87}],87:[function(a,b,c){var d=a(38),e=a(40),f=a(39),g=a(114)("src"),h="toString",i=Function[h],j=(""+i).split(h);a(23).inspectSource=function(a){return i.call(a)},(b.exports=function(a,b,c,h){var i="function"==typeof c;
i&&(f(c,"name")||e(c,"name",b)),a[b]!==c&&(i&&(f(c,g)||e(c,g,a[b]?""+a[b]:j.join(String(b)))),a===d?a[b]=c:h?a[b]?a[b]=c:e(a,b,c):(delete a[b],e(a,b,c)))})(Function.prototype,h,function(){return"function"==typeof this&&this[g]||i.call(this)})},{114:114,23:23,38:38,39:39,40:40}],88:[function(a,b,c){b.exports=function(a,b){var c=b===Object(b)?function(a){return b[a]}:b;return function(b){return String(b).replace(a,c);
}}},{}],89:[function(a,b,c){b.exports=Object.is||function(a,b){return a===b?0!==a||1/a===1/b:a!=a&&b!=b}},{}],90:[function(a,b,c){var d=a(49),e=a(7),f=function(a,b){if(e(a),!d(b)&&null!==b)throw TypeError(b+": can't set as prototype!")};b.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(b,c,d){try{d=a(25)(Function.call,a(70).f(Object.prototype,"__proto__").set,2),d(b,[]),c=!(b instanceof Array);
}catch(a){c=!0}return function(a,b){return f(a,b),c?a.__proto__=b:d(a,b),a}}({},!1):void 0),check:f}},{25:25,49:49,7:7,70:70}],91:[function(a,b,c){"use strict";var d=a(38),e=a(67),f=a(28),g=a(117)("species");b.exports=function(a){var b=d[a];f&&b&&!b[g]&&e.f(b,g,{configurable:!0,get:function(){return this}})}},{117:117,28:28,38:38,67:67}],92:[function(a,b,c){var d=a(67).f,e=a(39),f=a(117)("toStringTag");
b.exports=function(a,b,c){a&&!e(a=c?a:a.prototype,f)&&d(a,f,{configurable:!0,value:b})}},{117:117,39:39,67:67}],93:[function(a,b,c){var d=a(94)("keys"),e=a(114);b.exports=function(a){return d[a]||(d[a]=e(a))}},{114:114,94:94}],94:[function(a,b,c){var d=a(38),e="__core-js_shared__",f=d[e]||(d[e]={});b.exports=function(a){return f[a]||(f[a]={})}},{38:38}],95:[function(a,b,c){var d=a(7),e=a(3),f=a(117)("species");
b.exports=function(a,b){var c,g=d(a).constructor;return void 0===g||void 0==(c=d(g)[f])?b:e(c)}},{117:117,3:3,7:7}],96:[function(a,b,c){var d=a(34);b.exports=function(a,b){return!!a&&d(function(){b?a.call(null,function(){},1):a.call(null)})}},{34:34}],97:[function(a,b,c){var d=a(106),e=a(27);b.exports=function(a){return function(b,c){var f,g,h=String(e(b)),i=d(c),j=h.length;return i<0||i>=j?a?"":void 0:(f=h.charCodeAt(i),
f<55296||f>56319||i+1===j||(g=h.charCodeAt(i+1))<56320||g>57343?a?h.charAt(i):f:a?h.slice(i,i+2):(f-55296<<10)+(g-56320)+65536)}}},{106:106,27:27}],98:[function(a,b,c){var d=a(50),e=a(27);b.exports=function(a,b,c){if(d(b))throw TypeError("String#"+c+" doesn't accept regex!");return String(e(a))}},{27:27,50:50}],99:[function(a,b,c){var d=a(32),e=a(34),f=a(27),g=/"/g,h=function(a,b,c,d){var e=String(f(a)),h="<"+b;
return""!==c&&(h+=" "+c+'="'+String(d).replace(g,"&quot;")+'"'),h+">"+e+"</"+b+">"};b.exports=function(a,b){var c={};c[a]=b(h),d(d.P+d.F*e(function(){var b=""[a]('"');return b!==b.toLowerCase()||b.split('"').length>3}),"String",c)}},{27:27,32:32,34:34}],100:[function(a,b,c){var d=a(108),e=a(101),f=a(27);b.exports=function(a,b,c,g){var h=String(f(a)),i=h.length,j=void 0===c?" ":String(c),k=d(b);if(k<=i||""==j)return h;
var l=k-i,m=e.call(j,Math.ceil(l/j.length));return m.length>l&&(m=m.slice(0,l)),g?m+h:h+m}},{101:101,108:108,27:27}],101:[function(a,b,c){"use strict";var d=a(106),e=a(27);b.exports=function(a){var b=String(e(this)),c="",f=d(a);if(f<0||f==1/0)throw RangeError("Count can't be negative");for(;f>0;(f>>>=1)&&(b+=b))1&f&&(c+=b);return c}},{106:106,27:27}],102:[function(a,b,c){var d=a(32),e=a(27),f=a(34),g=a(103),h="["+g+"]",i="",j=RegExp("^"+h+h+"*"),k=RegExp(h+h+"*$"),l=function(a,b,c){
var e={},h=f(function(){return!!g[a]()||i[a]()!=i}),j=e[a]=h?b(m):g[a];c&&(e[c]=j),d(d.P+d.F*h,"String",e)},m=l.trim=function(a,b){return a=String(e(a)),1&b&&(a=a.replace(j,"")),2&b&&(a=a.replace(k,"")),a};b.exports=l},{103:103,27:27,32:32,34:34}],103:[function(a,b,c){b.exports="\t\n\v\f\r \u2028\u2029\ufeff"},{}],104:[function(a,b,c){var d,e,f,g=a(25),h=a(44),i=a(41),j=a(29),k=a(38),l=k.process,m=k.setImmediate,n=k.clearImmediate,o=k.MessageChannel,p=0,q={},r="onreadystatechange",s=function(){
var a=+this;if(q.hasOwnProperty(a)){var b=q[a];delete q[a],b()}},t=function(a){s.call(a.data)};m&&n||(m=function(a){for(var b=[],c=1;arguments.length>c;)b.push(arguments[c++]);return q[++p]=function(){h("function"==typeof a?a:Function(a),b)},d(p),p},n=function(a){delete q[a]},"process"==a(18)(l)?d=function(a){l.nextTick(g(s,a,1))}:o?(e=new o,f=e.port2,e.port1.onmessage=t,d=g(f.postMessage,f,1)):k.addEventListener&&"function"==typeof postMessage&&!k.importScripts?(d=function(a){
k.postMessage(a+"","*")},k.addEventListener("message",t,!1)):d=r in j("script")?function(a){i.appendChild(j("script"))[r]=function(){i.removeChild(this),s.call(a)}}:function(a){setTimeout(g(s,a,1),0)}),b.exports={set:m,clear:n}},{18:18,25:25,29:29,38:38,41:41,44:44}],105:[function(a,b,c){var d=a(106),e=Math.max,f=Math.min;b.exports=function(a,b){return a=d(a),a<0?e(a+b,0):f(a,b)}},{106:106}],106:[function(a,b,c){
var d=Math.ceil,e=Math.floor;b.exports=function(a){return isNaN(a=+a)?0:(a>0?e:d)(a)}},{}],107:[function(a,b,c){var d=a(45),e=a(27);b.exports=function(a){return d(e(a))}},{27:27,45:45}],108:[function(a,b,c){var d=a(106),e=Math.min;b.exports=function(a){return a>0?e(d(a),9007199254740991):0}},{106:106}],109:[function(a,b,c){var d=a(27);b.exports=function(a){return Object(d(a))}},{27:27}],110:[function(a,b,c){
var d=a(49);b.exports=function(a,b){if(!d(a))return a;var c,e;if(b&&"function"==typeof(c=a.toString)&&!d(e=c.call(a)))return e;if("function"==typeof(c=a.valueOf)&&!d(e=c.call(a)))return e;if(!b&&"function"==typeof(c=a.toString)&&!d(e=c.call(a)))return e;throw TypeError("Can't convert object to primitive value")}},{49:49}],111:[function(a,b,c){"use strict";if(a(28)){var d=a(58),e=a(38),f=a(34),g=a(32),h=a(113),i=a(112),j=a(25),k=a(6),l=a(85),m=a(40),n=a(86),o=a(106),p=a(108),q=a(105),r=a(110),s=a(39),t=a(89),u=a(17),v=a(49),w=a(109),x=a(46),y=a(66),z=a(74),A=a(72).f,B=a(118),C=a(114),D=a(117),E=a(12),F=a(11),G=a(95),H=a(130),I=a(56),J=a(54),K=a(91),L=a(9),M=a(8),N=a(67),O=a(70),P=N.f,Q=O.f,R=e.RangeError,S=e.TypeError,T=e.Uint8Array,U="ArrayBuffer",V="Shared"+U,W="BYTES_PER_ELEMENT",X="prototype",Y=Array[X],Z=i.ArrayBuffer,$=i.DataView,_=E(0),aa=E(2),ba=E(3),ca=E(4),da=E(5),ea=E(6),fa=F(!0),ga=F(!1),ha=H.values,ia=H.keys,ja=H.entries,ka=Y.lastIndexOf,la=Y.reduce,ma=Y.reduceRight,na=Y.join,oa=Y.sort,pa=Y.slice,qa=Y.toString,ra=Y.toLocaleString,sa=D("iterator"),ta=D("toStringTag"),ua=C("typed_constructor"),va=C("def_constructor"),wa=h.CONSTR,xa=h.TYPED,ya=h.VIEW,za="Wrong length!",Aa=E(1,function(a,b){
return Ga(G(a,a[va]),b)}),Ba=f(function(){return 1===new T(new Uint16Array([1]).buffer)[0]}),Ca=!!T&&!!T[X].set&&f(function(){new T(1).set({})}),Da=function(a,b){if(void 0===a)throw S(za);var c=+a,d=p(a);if(b&&!t(c,d))throw R(za);return d},Ea=function(a,b){var c=o(a);if(c<0||c%b)throw R("Wrong offset!");return c},Fa=function(a){if(v(a)&&xa in a)return a;throw S(a+" is not a typed array!")},Ga=function(a,b){
if(!(v(a)&&ua in a))throw S("It is not a typed array constructor!");return new a(b)},Ha=function(a,b){return Ia(G(a,a[va]),b)},Ia=function(a,b){for(var c=0,d=b.length,e=Ga(a,d);d>c;)e[c]=b[c++];return e},Ja=function(a,b,c){P(a,b,{get:function(){return this._d[c]}})},Ka=function(a){var b,c,d,e,f,g,h=w(a),i=arguments.length,k=i>1?arguments[1]:void 0,l=void 0!==k,m=B(h);if(void 0!=m&&!x(m)){for(g=m.call(h),
d=[],b=0;!(f=g.next()).done;b++)d.push(f.value);h=d}for(l&&i>2&&(k=j(k,arguments[2],2)),b=0,c=p(h.length),e=Ga(this,c);c>b;b++)e[b]=l?k(h[b],b):h[b];return e},La=function(){for(var a=0,b=arguments.length,c=Ga(this,b);b>a;)c[a]=arguments[a++];return c},Ma=!!T&&f(function(){ra.call(new T(1))}),Na=function(){return ra.apply(Ma?pa.call(Fa(this)):Fa(this),arguments)},Oa={copyWithin:function(a,b){return M.call(Fa(this),a,b,arguments.length>2?arguments[2]:void 0);
},every:function(a){return ca(Fa(this),a,arguments.length>1?arguments[1]:void 0)},fill:function(a){return L.apply(Fa(this),arguments)},filter:function(a){return Ha(this,aa(Fa(this),a,arguments.length>1?arguments[1]:void 0))},find:function(a){return da(Fa(this),a,arguments.length>1?arguments[1]:void 0)},findIndex:function(a){return ea(Fa(this),a,arguments.length>1?arguments[1]:void 0)},forEach:function(a){
_(Fa(this),a,arguments.length>1?arguments[1]:void 0)},indexOf:function(a){return ga(Fa(this),a,arguments.length>1?arguments[1]:void 0)},includes:function(a){return fa(Fa(this),a,arguments.length>1?arguments[1]:void 0)},join:function(a){return na.apply(Fa(this),arguments)},lastIndexOf:function(a){return ka.apply(Fa(this),arguments)},map:function(a){return Aa(Fa(this),a,arguments.length>1?arguments[1]:void 0);
},reduce:function(a){return la.apply(Fa(this),arguments)},reduceRight:function(a){return ma.apply(Fa(this),arguments)},reverse:function(){for(var a,b=this,c=Fa(b).length,d=Math.floor(c/2),e=0;e<d;)a=b[e],b[e++]=b[--c],b[c]=a;return b},some:function(a){return ba(Fa(this),a,arguments.length>1?arguments[1]:void 0)},sort:function(a){return oa.call(Fa(this),a)},subarray:function(a,b){var c=Fa(this),d=c.length,e=q(a,d);
return new(G(c,c[va]))(c.buffer,c.byteOffset+e*c.BYTES_PER_ELEMENT,p((void 0===b?d:q(b,d))-e))}},Pa=function(a,b){return Ha(this,pa.call(Fa(this),a,b))},Qa=function(a){Fa(this);var b=Ea(arguments[1],1),c=this.length,d=w(a),e=p(d.length),f=0;if(e+b>c)throw R(za);for(;f<e;)this[b+f]=d[f++]},Ra={entries:function(){return ja.call(Fa(this))},keys:function(){return ia.call(Fa(this))},values:function(){return ha.call(Fa(this));
}},Sa=function(a,b){return v(a)&&a[xa]&&"symbol"!=typeof b&&b in a&&String(+b)==String(b)},Ta=function(a,b){return Sa(a,b=r(b,!0))?l(2,a[b]):Q(a,b)},Ua=function(a,b,c){return!(Sa(a,b=r(b,!0))&&v(c)&&s(c,"value"))||s(c,"get")||s(c,"set")||c.configurable||s(c,"writable")&&!c.writable||s(c,"enumerable")&&!c.enumerable?P(a,b,c):(a[b]=c.value,a)};wa||(O.f=Ta,N.f=Ua),g(g.S+g.F*!wa,"Object",{getOwnPropertyDescriptor:Ta,
defineProperty:Ua}),f(function(){qa.call({})})&&(qa=ra=function(){return na.call(this)});var Va=n({},Oa);n(Va,Ra),m(Va,sa,Ra.values),n(Va,{slice:Pa,set:Qa,constructor:function(){},toString:qa,toLocaleString:Na}),Ja(Va,"buffer","b"),Ja(Va,"byteOffset","o"),Ja(Va,"byteLength","l"),Ja(Va,"length","e"),P(Va,ta,{get:function(){return this[xa]}}),b.exports=function(a,b,c,i){i=!!i;var j=a+(i?"Clamped":"")+"Array",l="Uint8Array"!=j,n="get"+a,o="set"+a,q=e[j],r=q||{},s=q&&z(q),t=!q||!h.ABV,w={},x=q&&q[X],B=function(a,c){
var d=a._d;return d.v[n](c*b+d.o,Ba)},C=function(a,c,d){var e=a._d;i&&(d=(d=Math.round(d))<0?0:d>255?255:255&d),e.v[o](c*b+e.o,d,Ba)},D=function(a,b){P(a,b,{get:function(){return B(this,b)},set:function(a){return C(this,b,a)},enumerable:!0})};t?(q=c(function(a,c,d,e){k(a,q,j,"_d");var f,g,h,i,l=0,n=0;if(v(c)){if(!(c instanceof Z||(i=u(c))==U||i==V))return xa in c?Ia(q,c):Ka.call(q,c);f=c,n=Ea(d,b);var o=c.byteLength;
if(void 0===e){if(o%b)throw R(za);if(g=o-n,g<0)throw R(za)}else if(g=p(e)*b,g+n>o)throw R(za);h=g/b}else h=Da(c,!0),g=h*b,f=new Z(g);for(m(a,"_d",{b:f,o:n,l:g,e:h,v:new $(f)});l<h;)D(a,l++)}),x=q[X]=y(Va),m(x,"constructor",q)):J(function(a){new q(null),new q(a)},!0)||(q=c(function(a,c,d,e){k(a,q,j);var f;return v(c)?c instanceof Z||(f=u(c))==U||f==V?void 0!==e?new r(c,Ea(d,b),e):void 0!==d?new r(c,Ea(d,b)):new r(c):xa in c?Ia(q,c):Ka.call(q,c):new r(Da(c,l));
}),_(s!==Function.prototype?A(r).concat(A(s)):A(r),function(a){a in q||m(q,a,r[a])}),q[X]=x,d||(x.constructor=q));var E=x[sa],F=!!E&&("values"==E.name||void 0==E.name),G=Ra.values;m(q,ua,!0),m(x,xa,j),m(x,ya,!0),m(x,va,q),(i?new q(1)[ta]==j:ta in x)||P(x,ta,{get:function(){return j}}),w[j]=q,g(g.G+g.W+g.F*(q!=r),w),g(g.S,j,{BYTES_PER_ELEMENT:b,from:Ka,of:La}),W in x||m(x,W,b),g(g.P,j,Oa),K(j),g(g.P+g.F*Ca,j,{
set:Qa}),g(g.P+g.F*!F,j,Ra),g(g.P+g.F*(x.toString!=qa),j,{toString:qa}),g(g.P+g.F*f(function(){new q(1).slice()}),j,{slice:Pa}),g(g.P+g.F*(f(function(){return[1,2].toLocaleString()!=new q([1,2]).toLocaleString()})||!f(function(){x.toLocaleString.call([1,2])})),j,{toLocaleString:Na}),I[j]=F?E:G,d||F||m(x,sa,G)}}else b.exports=function(){}},{105:105,106:106,108:108,109:109,11:11,110:110,112:112,113:113,
114:114,117:117,118:118,12:12,130:130,17:17,25:25,28:28,32:32,34:34,38:38,39:39,40:40,46:46,49:49,54:54,56:56,58:58,6:6,66:66,67:67,70:70,72:72,74:74,8:8,85:85,86:86,89:89,9:9,91:91,95:95}],112:[function(a,b,c){"use strict";var d=a(38),e=a(28),f=a(58),g=a(113),h=a(40),i=a(86),j=a(34),k=a(6),l=a(106),m=a(108),n=a(72).f,o=a(67).f,p=a(9),q=a(92),r="ArrayBuffer",s="DataView",t="prototype",u="Wrong length!",v="Wrong index!",w=d[r],x=d[s],y=d.Math,z=d.RangeError,A=d.Infinity,B=w,C=y.abs,D=y.pow,E=y.floor,F=y.log,G=y.LN2,H="buffer",I="byteLength",J="byteOffset",K=e?"_b":H,L=e?"_l":I,M=e?"_o":J,N=function(a,b,c){
var d,e,f,g=Array(c),h=8*c-b-1,i=(1<<h)-1,j=i>>1,k=23===b?D(2,-24)-D(2,-77):0,l=0,m=a<0||0===a&&1/a<0?1:0;for(a=C(a),a!=a||a===A?(e=a!=a?1:0,d=i):(d=E(F(a)/G),a*(f=D(2,-d))<1&&(d--,f*=2),a+=d+j>=1?k/f:k*D(2,1-j),a*f>=2&&(d++,f/=2),d+j>=i?(e=0,d=i):d+j>=1?(e=(a*f-1)*D(2,b),d+=j):(e=a*D(2,j-1)*D(2,b),d=0));b>=8;g[l++]=255&e,e/=256,b-=8);for(d=d<<b|e,h+=b;h>0;g[l++]=255&d,d/=256,h-=8);return g[--l]|=128*m,
g},O=function(a,b,c){var d,e=8*c-b-1,f=(1<<e)-1,g=f>>1,h=e-7,i=c-1,j=a[i--],k=127&j;for(j>>=7;h>0;k=256*k+a[i],i--,h-=8);for(d=k&(1<<-h)-1,k>>=-h,h+=b;h>0;d=256*d+a[i],i--,h-=8);if(0===k)k=1-g;else{if(k===f)return d?NaN:j?-A:A;d+=D(2,b),k-=g}return(j?-1:1)*d*D(2,k-b)},P=function(a){return a[3]<<24|a[2]<<16|a[1]<<8|a[0]},Q=function(a){return[255&a]},R=function(a){return[255&a,a>>8&255]},S=function(a){
return[255&a,a>>8&255,a>>16&255,a>>24&255]},T=function(a){return N(a,52,8)},U=function(a){return N(a,23,4)},V=function(a,b,c){o(a[t],b,{get:function(){return this[c]}})},W=function(a,b,c,d){var e=+c,f=l(e);if(e!=f||f<0||f+b>a[L])throw z(v);var g=a[K]._b,h=f+a[M],i=g.slice(h,h+b);return d?i:i.reverse()},X=function(a,b,c,d,e,f){var g=+c,h=l(g);if(g!=h||h<0||h+b>a[L])throw z(v);for(var i=a[K]._b,j=h+a[M],k=d(+e),m=0;m<b;m++)i[j+m]=k[f?m:b-m-1];
},Y=function(a,b){k(a,w,r);var c=+b,d=m(c);if(c!=d)throw z(u);return d};if(g.ABV){if(!j(function(){new w})||!j(function(){new w(.5)})){w=function(a){return new B(Y(this,a))};for(var Z,$=w[t]=B[t],_=n(B),aa=0;_.length>aa;)(Z=_[aa++])in w||h(w,Z,B[Z]);f||($.constructor=w)}var ba=new x(new w(2)),ca=x[t].setInt8;ba.setInt8(0,2147483648),ba.setInt8(1,2147483649),!ba.getInt8(0)&&ba.getInt8(1)||i(x[t],{setInt8:function(a,b){
ca.call(this,a,b<<24>>24)},setUint8:function(a,b){ca.call(this,a,b<<24>>24)}},!0)}else w=function(a){var b=Y(this,a);this._b=p.call(Array(b),0),this[L]=b},x=function(a,b,c){k(this,x,s),k(a,w,s);var d=a[L],e=l(b);if(e<0||e>d)throw z("Wrong offset!");if(c=void 0===c?d-e:m(c),e+c>d)throw z(u);this[K]=a,this[M]=e,this[L]=c},e&&(V(w,I,"_l"),V(x,H,"_b"),V(x,I,"_l"),V(x,J,"_o")),i(x[t],{getInt8:function(a){
return W(this,1,a)[0]<<24>>24},getUint8:function(a){return W(this,1,a)[0]},getInt16:function(a){var b=W(this,2,a,arguments[1]);return(b[1]<<8|b[0])<<16>>16},getUint16:function(a){var b=W(this,2,a,arguments[1]);return b[1]<<8|b[0]},getInt32:function(a){return P(W(this,4,a,arguments[1]))},getUint32:function(a){return P(W(this,4,a,arguments[1]))>>>0},getFloat32:function(a){return O(W(this,4,a,arguments[1]),23,4);
},getFloat64:function(a){return O(W(this,8,a,arguments[1]),52,8)},setInt8:function(a,b){X(this,1,a,Q,b)},setUint8:function(a,b){X(this,1,a,Q,b)},setInt16:function(a,b){X(this,2,a,R,b,arguments[2])},setUint16:function(a,b){X(this,2,a,R,b,arguments[2])},setInt32:function(a,b){X(this,4,a,S,b,arguments[2])},setUint32:function(a,b){X(this,4,a,S,b,arguments[2])},setFloat32:function(a,b){X(this,4,a,U,b,arguments[2]);
},setFloat64:function(a,b){X(this,8,a,T,b,arguments[2])}});q(w,r),q(x,s),h(x[t],g.VIEW,!0),c[r]=w,c[s]=x},{106:106,108:108,113:113,28:28,34:34,38:38,40:40,58:58,6:6,67:67,72:72,86:86,9:9,92:92}],113:[function(a,b,c){for(var d,e=a(38),f=a(40),g=a(114),h=g("typed_array"),i=g("view"),j=!(!e.ArrayBuffer||!e.DataView),k=j,l=0,m=9,n="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");l<m;)(d=e[n[l++]])?(f(d.prototype,h,!0),
f(d.prototype,i,!0)):k=!1;b.exports={ABV:j,CONSTR:k,TYPED:h,VIEW:i}},{114:114,38:38,40:40}],114:[function(a,b,c){var d=0,e=Math.random();b.exports=function(a){return"Symbol(".concat(void 0===a?"":a,")_",(++d+e).toString(36))}},{}],115:[function(a,b,c){var d=a(38),e=a(23),f=a(58),g=a(116),h=a(67).f;b.exports=function(a){var b=e.Symbol||(e.Symbol=f?{}:d.Symbol||{});"_"==a.charAt(0)||a in b||h(b,a,{value:g.f(a)
})}},{116:116,23:23,38:38,58:58,67:67}],116:[function(a,b,c){c.f=a(117)},{117:117}],117:[function(a,b,c){var d=a(94)("wks"),e=a(114),f=a(38).Symbol,g="function"==typeof f,h=b.exports=function(a){return d[a]||(d[a]=g&&f[a]||(g?f:e)("Symbol."+a))};h.store=d},{114:114,38:38,94:94}],118:[function(a,b,c){var d=a(17),e=a(117)("iterator"),f=a(56);b.exports=a(23).getIteratorMethod=function(a){if(void 0!=a)return a[e]||a["@@iterator"]||f[d(a)];
}},{117:117,17:17,23:23,56:56}],119:[function(a,b,c){var d=a(32),e=a(88)(/[\\^$*+?.()|[\]{}]/g,"\\$&");d(d.S,"RegExp",{escape:function(a){return e(a)}})},{32:32,88:88}],120:[function(a,b,c){var d=a(32);d(d.P,"Array",{copyWithin:a(8)}),a(5)("copyWithin")},{32:32,5:5,8:8}],121:[function(a,b,c){"use strict";var d=a(32),e=a(12)(4);d(d.P+d.F*!a(96)([].every,!0),"Array",{every:function(a){return e(this,a,arguments[1]);
}})},{12:12,32:32,96:96}],122:[function(a,b,c){var d=a(32);d(d.P,"Array",{fill:a(9)}),a(5)("fill")},{32:32,5:5,9:9}],123:[function(a,b,c){"use strict";var d=a(32),e=a(12)(2);d(d.P+d.F*!a(96)([].filter,!0),"Array",{filter:function(a){return e(this,a,arguments[1])}})},{12:12,32:32,96:96}],124:[function(a,b,c){"use strict";var d=a(32),e=a(12)(6),f="findIndex",g=!0;f in[]&&Array(1)[f](function(){g=!1}),
d(d.P+d.F*g,"Array",{findIndex:function(a){return e(this,a,arguments.length>1?arguments[1]:void 0)}}),a(5)(f)},{12:12,32:32,5:5}],125:[function(a,b,c){"use strict";var d=a(32),e=a(12)(5),f="find",g=!0;f in[]&&Array(1)[f](function(){g=!1}),d(d.P+d.F*g,"Array",{find:function(a){return e(this,a,arguments.length>1?arguments[1]:void 0)}}),a(5)(f)},{12:12,32:32,5:5}],126:[function(a,b,c){"use strict";var d=a(32),e=a(12)(0),f=a(96)([].forEach,!0);
d(d.P+d.F*!f,"Array",{forEach:function(a){return e(this,a,arguments[1])}})},{12:12,32:32,96:96}],127:[function(a,b,c){"use strict";var d=a(25),e=a(32),f=a(109),g=a(51),h=a(46),i=a(108),j=a(24),k=a(118);e(e.S+e.F*!a(54)(function(a){Array.from(a)}),"Array",{from:function(a){var b,c,e,l,m=f(a),n="function"==typeof this?this:Array,o=arguments.length,p=o>1?arguments[1]:void 0,q=void 0!==p,r=0,s=k(m);if(q&&(p=d(p,o>2?arguments[2]:void 0,2)),
void 0==s||n==Array&&h(s))for(b=i(m.length),c=new n(b);b>r;r++)j(c,r,q?p(m[r],r):m[r]);else for(l=s.call(m),c=new n;!(e=l.next()).done;r++)j(c,r,q?g(l,p,[e.value,r],!0):e.value);return c.length=r,c}})},{108:108,109:109,118:118,24:24,25:25,32:32,46:46,51:51,54:54}],128:[function(a,b,c){"use strict";var d=a(32),e=a(11)(!1),f=[].indexOf,g=!!f&&1/[1].indexOf(1,-0)<0;d(d.P+d.F*(g||!a(96)(f)),"Array",{indexOf:function(a){
return g?f.apply(this,arguments)||0:e(this,a,arguments[1])}})},{11:11,32:32,96:96}],129:[function(a,b,c){var d=a(32);d(d.S,"Array",{isArray:a(47)})},{32:32,47:47}],130:[function(a,b,c){"use strict";var d=a(5),e=a(55),f=a(56),g=a(107);b.exports=a(53)(Array,"Array",function(a,b){this._t=g(a),this._i=0,this._k=b},function(){var a=this._t,b=this._k,c=this._i++;return!a||c>=a.length?(this._t=void 0,e(1)):"keys"==b?e(0,c):"values"==b?e(0,a[c]):e(0,[c,a[c]]);
},"values"),f.Arguments=f.Array,d("keys"),d("values"),d("entries")},{107:107,5:5,53:53,55:55,56:56}],131:[function(a,b,c){"use strict";var d=a(32),e=a(107),f=[].join;d(d.P+d.F*(a(45)!=Object||!a(96)(f)),"Array",{join:function(a){return f.call(e(this),void 0===a?",":a)}})},{107:107,32:32,45:45,96:96}],132:[function(a,b,c){"use strict";var d=a(32),e=a(107),f=a(106),g=a(108),h=[].lastIndexOf,i=!!h&&1/[1].lastIndexOf(1,-0)<0;
d(d.P+d.F*(i||!a(96)(h)),"Array",{lastIndexOf:function(a){if(i)return h.apply(this,arguments)||0;var b=e(this),c=g(b.length),d=c-1;for(arguments.length>1&&(d=Math.min(d,f(arguments[1]))),d<0&&(d=c+d);d>=0;d--)if(d in b&&b[d]===a)return d||0;return-1}})},{106:106,107:107,108:108,32:32,96:96}],133:[function(a,b,c){"use strict";var d=a(32),e=a(12)(1);d(d.P+d.F*!a(96)([].map,!0),"Array",{map:function(a){
return e(this,a,arguments[1])}})},{12:12,32:32,96:96}],134:[function(a,b,c){"use strict";var d=a(32),e=a(24);d(d.S+d.F*a(34)(function(){function a(){}return!(Array.of.call(a)instanceof a)}),"Array",{of:function(){for(var a=0,b=arguments.length,c=new("function"==typeof this?this:Array)(b);b>a;)e(c,a,arguments[a++]);return c.length=b,c}})},{24:24,32:32,34:34}],135:[function(a,b,c){"use strict";var d=a(32),e=a(13);
d(d.P+d.F*!a(96)([].reduceRight,!0),"Array",{reduceRight:function(a){return e(this,a,arguments.length,arguments[1],!0)}})},{13:13,32:32,96:96}],136:[function(a,b,c){"use strict";var d=a(32),e=a(13);d(d.P+d.F*!a(96)([].reduce,!0),"Array",{reduce:function(a){return e(this,a,arguments.length,arguments[1],!1)}})},{13:13,32:32,96:96}],137:[function(a,b,c){"use strict";var d=a(32),e=a(41),f=a(18),g=a(105),h=a(108),i=[].slice;
d(d.P+d.F*a(34)(function(){e&&i.call(e)}),"Array",{slice:function(a,b){var c=h(this.length),d=f(this);if(b=void 0===b?c:b,"Array"==d)return i.call(this,a,b);for(var e=g(a,c),j=g(b,c),k=h(j-e),l=Array(k),m=0;m<k;m++)l[m]="String"==d?this.charAt(e+m):this[e+m];return l}})},{105:105,108:108,18:18,32:32,34:34,41:41}],138:[function(a,b,c){"use strict";var d=a(32),e=a(12)(3);d(d.P+d.F*!a(96)([].some,!0),"Array",{
some:function(a){return e(this,a,arguments[1])}})},{12:12,32:32,96:96}],139:[function(a,b,c){"use strict";var d=a(32),e=a(3),f=a(109),g=a(34),h=[].sort,i=[1,2,3];d(d.P+d.F*(g(function(){i.sort(void 0)})||!g(function(){i.sort(null)})||!a(96)(h)),"Array",{sort:function(a){return void 0===a?h.call(f(this)):h.call(f(this),e(a))}})},{109:109,3:3,32:32,34:34,96:96}],140:[function(a,b,c){a(91)("Array")},{
91:91}],141:[function(a,b,c){var d=a(32);d(d.S,"Date",{now:function(){return(new Date).getTime()}})},{32:32}],142:[function(a,b,c){"use strict";var d=a(32),e=a(34),f=Date.prototype.getTime,g=function(a){return a>9?a:"0"+a};d(d.P+d.F*(e(function(){return"0385-07-25T07:06:39.999Z"!=new Date(-5e13-1).toISOString()})||!e(function(){new Date(NaN).toISOString()})),"Date",{toISOString:function(){if(!isFinite(f.call(this)))throw RangeError("Invalid time value");
var a=this,b=a.getUTCFullYear(),c=a.getUTCMilliseconds(),d=b<0?"-":b>9999?"+":"";return d+("00000"+Math.abs(b)).slice(d?-6:-4)+"-"+g(a.getUTCMonth()+1)+"-"+g(a.getUTCDate())+"T"+g(a.getUTCHours())+":"+g(a.getUTCMinutes())+":"+g(a.getUTCSeconds())+"."+(c>99?c:"0"+g(c))+"Z"}})},{32:32,34:34}],143:[function(a,b,c){"use strict";var d=a(32),e=a(109),f=a(110);d(d.P+d.F*a(34)(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({
toISOString:function(){return 1}})}),"Date",{toJSON:function(a){var b=e(this),c=f(b);return"number"!=typeof c||isFinite(c)?b.toISOString():null}})},{109:109,110:110,32:32,34:34}],144:[function(a,b,c){var d=a(117)("toPrimitive"),e=Date.prototype;d in e||a(40)(e,d,a(26))},{117:117,26:26,40:40}],145:[function(a,b,c){var d=Date.prototype,e="Invalid Date",f="toString",g=d[f],h=d.getTime;new Date(NaN)+""!=e&&a(87)(d,f,function(){
var a=h.call(this);return a===a?g.call(this):e})},{87:87}],146:[function(a,b,c){var d=a(32);d(d.P,"Function",{bind:a(16)})},{16:16,32:32}],147:[function(a,b,c){"use strict";var d=a(49),e=a(74),f=a(117)("hasInstance"),g=Function.prototype;f in g||a(67).f(g,f,{value:function(a){if("function"!=typeof this||!d(a))return!1;if(!d(this.prototype))return a instanceof this;for(;a=e(a);)if(this.prototype===a)return!0;
return!1}})},{117:117,49:49,67:67,74:74}],148:[function(a,b,c){var d=a(67).f,e=a(85),f=a(39),g=Function.prototype,h=/^\s*function ([^ (]*)/,i="name",j=Object.isExtensible||function(){return!0};i in g||a(28)&&d(g,i,{configurable:!0,get:function(){try{var a=this,b=(""+a).match(h)[1];return f(a,i)||!j(a)||d(a,i,e(5,b)),b}catch(a){return""}}})},{28:28,39:39,67:67,85:85}],149:[function(a,b,c){"use strict";
var d=a(19);b.exports=a(22)("Map",function(a){return function(){return a(this,arguments.length>0?arguments[0]:void 0)}},{get:function(a){var b=d.getEntry(this,a);return b&&b.v},set:function(a,b){return d.def(this,0===a?0:a,b)}},d,!0)},{19:19,22:22}],150:[function(a,b,c){var d=a(32),e=a(60),f=Math.sqrt,g=Math.acosh;d(d.S+d.F*!(g&&710==Math.floor(g(Number.MAX_VALUE))&&g(1/0)==1/0),"Math",{acosh:function(a){
return(a=+a)<1?NaN:a>94906265.62425156?Math.log(a)+Math.LN2:e(a-1+f(a-1)*f(a+1))}})},{32:32,60:60}],151:[function(a,b,c){function d(a){return isFinite(a=+a)&&0!=a?a<0?-d(-a):Math.log(a+Math.sqrt(a*a+1)):a}var e=a(32),f=Math.asinh;e(e.S+e.F*!(f&&1/f(0)>0),"Math",{asinh:d})},{32:32}],152:[function(a,b,c){var d=a(32),e=Math.atanh;d(d.S+d.F*!(e&&1/e(-0)<0),"Math",{atanh:function(a){return 0==(a=+a)?a:Math.log((1+a)/(1-a))/2;
}})},{32:32}],153:[function(a,b,c){var d=a(32),e=a(61);d(d.S,"Math",{cbrt:function(a){return e(a=+a)*Math.pow(Math.abs(a),1/3)}})},{32:32,61:61}],154:[function(a,b,c){var d=a(32);d(d.S,"Math",{clz32:function(a){return(a>>>=0)?31-Math.floor(Math.log(a+.5)*Math.LOG2E):32}})},{32:32}],155:[function(a,b,c){var d=a(32),e=Math.exp;d(d.S,"Math",{cosh:function(a){return(e(a=+a)+e(-a))/2}})},{32:32}],156:[function(a,b,c){
var d=a(32),e=a(59);d(d.S+d.F*(e!=Math.expm1),"Math",{expm1:e})},{32:32,59:59}],157:[function(a,b,c){var d=a(32),e=a(61),f=Math.pow,g=f(2,-52),h=f(2,-23),i=f(2,127)*(2-h),j=f(2,-126),k=function(a){return a+1/g-1/g};d(d.S,"Math",{fround:function(a){var b,c,d=Math.abs(a),f=e(a);return d<j?f*k(d/j/h)*j*h:(b=(1+h/g)*d,c=b-(b-d),c>i||c!=c?f*(1/0):f*c)}})},{32:32,61:61}],158:[function(a,b,c){var d=a(32),e=Math.abs;
d(d.S,"Math",{hypot:function(a,b){for(var c,d,f=0,g=0,h=arguments.length,i=0;g<h;)c=e(arguments[g++]),i<c?(d=i/c,f=f*d*d+1,i=c):c>0?(d=c/i,f+=d*d):f+=c;return i===1/0?1/0:i*Math.sqrt(f)}})},{32:32}],159:[function(a,b,c){var d=a(32),e=Math.imul;d(d.S+d.F*a(34)(function(){return e(4294967295,5)!=-5||2!=e.length}),"Math",{imul:function(a,b){var c=65535,d=+a,e=+b,f=c&d,g=c&e;return 0|f*g+((c&d>>>16)*g+f*(c&e>>>16)<<16>>>0);
}})},{32:32,34:34}],160:[function(a,b,c){var d=a(32);d(d.S,"Math",{log10:function(a){return Math.log(a)/Math.LN10}})},{32:32}],161:[function(a,b,c){var d=a(32);d(d.S,"Math",{log1p:a(60)})},{32:32,60:60}],162:[function(a,b,c){var d=a(32);d(d.S,"Math",{log2:function(a){return Math.log(a)/Math.LN2}})},{32:32}],163:[function(a,b,c){var d=a(32);d(d.S,"Math",{sign:a(61)})},{32:32,61:61}],164:[function(a,b,c){
var d=a(32),e=a(59),f=Math.exp;d(d.S+d.F*a(34)(function(){return!Math.sinh(-2e-17)!=-2e-17}),"Math",{sinh:function(a){return Math.abs(a=+a)<1?(e(a)-e(-a))/2:(f(a-1)-f(-a-1))*(Math.E/2)}})},{32:32,34:34,59:59}],165:[function(a,b,c){var d=a(32),e=a(59),f=Math.exp;d(d.S,"Math",{tanh:function(a){var b=e(a=+a),c=e(-a);return b==1/0?1:c==1/0?-1:(b-c)/(f(a)+f(-a))}})},{32:32,59:59}],166:[function(a,b,c){var d=a(32);
d(d.S,"Math",{trunc:function(a){return(a>0?Math.floor:Math.ceil)(a)}})},{32:32}],167:[function(a,b,c){"use strict";var d=a(38),e=a(39),f=a(18),g=a(43),h=a(110),i=a(34),j=a(72).f,k=a(70).f,l=a(67).f,m=a(102).trim,n="Number",o=d[n],p=o,q=o.prototype,r=f(a(66)(q))==n,s="trim"in String.prototype,t=function(a){var b=h(a,!1);if("string"==typeof b&&b.length>2){b=s?b.trim():m(b,3);var c,d,e,f=b.charCodeAt(0);
if(43===f||45===f){if(c=b.charCodeAt(2),88===c||120===c)return NaN}else if(48===f){switch(b.charCodeAt(1)){case 66:case 98:d=2,e=49;break;case 79:case 111:d=8,e=55;break;default:return+b}for(var g,i=b.slice(2),j=0,k=i.length;j<k;j++)if(g=i.charCodeAt(j),g<48||g>e)return NaN;return parseInt(i,d)}}return+b};if(!o(" 0o1")||!o("0b1")||o("+0x1")){o=function(a){var b=arguments.length<1?0:a,c=this;return c instanceof o&&(r?i(function(){
q.valueOf.call(c)}):f(c)!=n)?g(new p(t(b)),c,o):t(b)};for(var u,v=a(28)?j(p):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),w=0;v.length>w;w++)e(p,u=v[w])&&!e(o,u)&&l(o,u,k(p,u));o.prototype=q,q.constructor=o,a(87)(d,n,o)}},{102:102,110:110,18:18,28:28,34:34,38:38,
39:39,43:43,66:66,67:67,70:70,72:72,87:87}],168:[function(a,b,c){var d=a(32);d(d.S,"Number",{EPSILON:Math.pow(2,-52)})},{32:32}],169:[function(a,b,c){var d=a(32),e=a(38).isFinite;d(d.S,"Number",{isFinite:function(a){return"number"==typeof a&&e(a)}})},{32:32,38:38}],170:[function(a,b,c){var d=a(32);d(d.S,"Number",{isInteger:a(48)})},{32:32,48:48}],171:[function(a,b,c){var d=a(32);d(d.S,"Number",{isNaN:function(a){
return a!=a}})},{32:32}],172:[function(a,b,c){var d=a(32),e=a(48),f=Math.abs;d(d.S,"Number",{isSafeInteger:function(a){return e(a)&&f(a)<=9007199254740991}})},{32:32,48:48}],173:[function(a,b,c){var d=a(32);d(d.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},{32:32}],174:[function(a,b,c){var d=a(32);d(d.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},{32:32}],175:[function(a,b,c){var d=a(32),e=a(81);
d(d.S+d.F*(Number.parseFloat!=e),"Number",{parseFloat:e})},{32:32,81:81}],176:[function(a,b,c){var d=a(32),e=a(82);d(d.S+d.F*(Number.parseInt!=e),"Number",{parseInt:e})},{32:32,82:82}],177:[function(a,b,c){"use strict";var d=a(32),e=a(106),f=a(4),g=a(101),h=1..toFixed,i=Math.floor,j=[0,0,0,0,0,0],k="Number.toFixed: incorrect invocation!",l="0",m=function(a,b){for(var c=-1,d=b;++c<6;)d+=a*j[c],j[c]=d%1e7,
d=i(d/1e7)},n=function(a){for(var b=6,c=0;--b>=0;)c+=j[b],j[b]=i(c/a),c=c%a*1e7},o=function(){for(var a=6,b="";--a>=0;)if(""!==b||0===a||0!==j[a]){var c=String(j[a]);b=""===b?c:b+g.call(l,7-c.length)+c}return b},p=function(a,b,c){return 0===b?c:b%2===1?p(a,b-1,c*a):p(a*a,b/2,c)},q=function(a){for(var b=0,c=a;c>=4096;)b+=12,c/=4096;for(;c>=2;)b+=1,c/=2;return b};d(d.P+d.F*(!!h&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!a(34)(function(){
h.call({})})),"Number",{toFixed:function(a){var b,c,d,h,i=f(this,k),j=e(a),r="",s=l;if(j<0||j>20)throw RangeError(k);if(i!=i)return"NaN";if(i<=-1e21||i>=1e21)return String(i);if(i<0&&(r="-",i=-i),i>1e-21)if(b=q(i*p(2,69,1))-69,c=b<0?i*p(2,-b,1):i/p(2,b,1),c*=4503599627370496,b=52-b,b>0){for(m(0,c),d=j;d>=7;)m(1e7,0),d-=7;for(m(p(10,d,1),0),d=b-1;d>=23;)n(1<<23),d-=23;n(1<<d),m(1,1),n(2),s=o()}else m(0,c),
m(1<<-b,0),s=o()+g.call(l,j);return j>0?(h=s.length,s=r+(h<=j?"0."+g.call(l,j-h)+s:s.slice(0,h-j)+"."+s.slice(h-j))):s=r+s,s}})},{101:101,106:106,32:32,34:34,4:4}],178:[function(a,b,c){"use strict";var d=a(32),e=a(34),f=a(4),g=1..toPrecision;d(d.P+d.F*(e(function(){return"1"!==g.call(1,void 0)})||!e(function(){g.call({})})),"Number",{toPrecision:function(a){var b=f(this,"Number#toPrecision: incorrect invocation!");
return void 0===a?g.call(b):g.call(b,a)}})},{32:32,34:34,4:4}],179:[function(a,b,c){var d=a(32);d(d.S+d.F,"Object",{assign:a(65)})},{32:32,65:65}],180:[function(a,b,c){var d=a(32);d(d.S,"Object",{create:a(66)})},{32:32,66:66}],181:[function(a,b,c){var d=a(32);d(d.S+d.F*!a(28),"Object",{defineProperties:a(68)})},{28:28,32:32,68:68}],182:[function(a,b,c){var d=a(32);d(d.S+d.F*!a(28),"Object",{defineProperty:a(67).f
})},{28:28,32:32,67:67}],183:[function(a,b,c){var d=a(49),e=a(62).onFreeze;a(78)("freeze",function(a){return function(b){return a&&d(b)?a(e(b)):b}})},{49:49,62:62,78:78}],184:[function(a,b,c){var d=a(107),e=a(70).f;a(78)("getOwnPropertyDescriptor",function(){return function(a,b){return e(d(a),b)}})},{107:107,70:70,78:78}],185:[function(a,b,c){a(78)("getOwnPropertyNames",function(){return a(71).f})},{
71:71,78:78}],186:[function(a,b,c){var d=a(109),e=a(74);a(78)("getPrototypeOf",function(){return function(a){return e(d(a))}})},{109:109,74:74,78:78}],187:[function(a,b,c){var d=a(49);a(78)("isExtensible",function(a){return function(b){return!!d(b)&&(!a||a(b))}})},{49:49,78:78}],188:[function(a,b,c){var d=a(49);a(78)("isFrozen",function(a){return function(b){return!d(b)||!!a&&a(b)}})},{49:49,78:78}],
189:[function(a,b,c){var d=a(49);a(78)("isSealed",function(a){return function(b){return!d(b)||!!a&&a(b)}})},{49:49,78:78}],190:[function(a,b,c){var d=a(32);d(d.S,"Object",{is:a(89)})},{32:32,89:89}],191:[function(a,b,c){var d=a(109),e=a(76);a(78)("keys",function(){return function(a){return e(d(a))}})},{109:109,76:76,78:78}],192:[function(a,b,c){var d=a(49),e=a(62).onFreeze;a(78)("preventExtensions",function(a){
return function(b){return a&&d(b)?a(e(b)):b}})},{49:49,62:62,78:78}],193:[function(a,b,c){var d=a(49),e=a(62).onFreeze;a(78)("seal",function(a){return function(b){return a&&d(b)?a(e(b)):b}})},{49:49,62:62,78:78}],194:[function(a,b,c){var d=a(32);d(d.S,"Object",{setPrototypeOf:a(90).set})},{32:32,90:90}],195:[function(a,b,c){"use strict";var d=a(17),e={};e[a(117)("toStringTag")]="z",e+""!="[object z]"&&a(87)(Object.prototype,"toString",function(){
return"[object "+d(this)+"]"},!0)},{117:117,17:17,87:87}],196:[function(a,b,c){var d=a(32),e=a(81);d(d.G+d.F*(parseFloat!=e),{parseFloat:e})},{32:32,81:81}],197:[function(a,b,c){var d=a(32),e=a(82);d(d.G+d.F*(parseInt!=e),{parseInt:e})},{32:32,82:82}],198:[function(a,b,c){"use strict";var d,e,f,g=a(58),h=a(38),i=a(25),j=a(17),k=a(32),l=a(49),m=a(3),n=a(6),o=a(37),p=a(95),q=a(104).set,r=a(64)(),s="Promise",t=h.TypeError,u=h.process,v=h[s],u=h.process,w="process"==j(u),x=function(){},y=!!function(){
try{var b=v.resolve(1),c=(b.constructor={})[a(117)("species")]=function(a){a(x,x)};return(w||"function"==typeof PromiseRejectionEvent)&&b.then(x)instanceof c}catch(a){}}(),z=function(a,b){return a===b||a===v&&b===f},A=function(a){var b;return!(!l(a)||"function"!=typeof(b=a.then))&&b},B=function(a){return z(v,a)?new C(a):new e(a)},C=e=function(a){var b,c;this.promise=new a(function(a,d){if(void 0!==b||void 0!==c)throw t("Bad Promise constructor");
b=a,c=d}),this.resolve=m(b),this.reject=m(c)},D=function(a){try{a()}catch(a){return{error:a}}},E=function(a,b){if(!a._n){a._n=!0;var c=a._c;r(function(){for(var d=a._v,e=1==a._s,f=0,g=function(b){var c,f,g=e?b.ok:b.fail,h=b.resolve,i=b.reject,j=b.domain;try{g?(e||(2==a._h&&H(a),a._h=1),g===!0?c=d:(j&&j.enter(),c=g(d),j&&j.exit()),c===b.promise?i(t("Promise-chain cycle")):(f=A(c))?f.call(c,h,i):h(c)):i(d);
}catch(a){i(a)}};c.length>f;)g(c[f++]);a._c=[],a._n=!1,b&&!a._h&&F(a)})}},F=function(a){q.call(h,function(){var b,c,d,e=a._v;if(G(a)&&(b=D(function(){w?u.emit("unhandledRejection",e,a):(c=h.onunhandledrejection)?c({promise:a,reason:e}):(d=h.console)&&d.error&&d.error("Unhandled promise rejection",e)}),a._h=w||G(a)?2:1),a._a=void 0,b)throw b.error})},G=function(a){if(1==a._h)return!1;for(var b,c=a._a||a._c,d=0;c.length>d;)if(b=c[d++],
b.fail||!G(b.promise))return!1;return!0},H=function(a){q.call(h,function(){var b;w?u.emit("rejectionHandled",a):(b=h.onrejectionhandled)&&b({promise:a,reason:a._v})})},I=function(a){var b=this;b._d||(b._d=!0,b=b._w||b,b._v=a,b._s=2,b._a||(b._a=b._c.slice()),E(b,!0))},J=function(a){var b,c=this;if(!c._d){c._d=!0,c=c._w||c;try{if(c===a)throw t("Promise can't be resolved itself");(b=A(a))?r(function(){
var d={_w:c,_d:!1};try{b.call(a,i(J,d,1),i(I,d,1))}catch(a){I.call(d,a)}}):(c._v=a,c._s=1,E(c,!1))}catch(a){I.call({_w:c,_d:!1},a)}}};y||(v=function(a){n(this,v,s,"_h"),m(a),d.call(this);try{a(i(J,this,1),i(I,this,1))}catch(a){I.call(this,a)}},d=function(a){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},d.prototype=a(86)(v.prototype,{then:function(a,b){var c=B(p(this,v));
return c.ok="function"!=typeof a||a,c.fail="function"==typeof b&&b,c.domain=w?u.domain:void 0,this._c.push(c),this._a&&this._a.push(c),this._s&&E(this,!1),c.promise},catch:function(a){return this.then(void 0,a)}}),C=function(){var a=new d;this.promise=a,this.resolve=i(J,a,1),this.reject=i(I,a,1)}),k(k.G+k.W+k.F*!y,{Promise:v}),a(92)(v,s),a(91)(s),f=a(23)[s],k(k.S+k.F*!y,s,{reject:function(a){var b=B(this),c=b.reject;
return c(a),b.promise}}),k(k.S+k.F*(g||!y),s,{resolve:function(a){if(a instanceof v&&z(a.constructor,this))return a;var b=B(this),c=b.resolve;return c(a),b.promise}}),k(k.S+k.F*!(y&&a(54)(function(a){v.all(a).catch(x)})),s,{all:function(a){var b=this,c=B(b),d=c.resolve,e=c.reject,f=D(function(){var c=[],f=0,g=1;o(a,!1,function(a){var h=f++,i=!1;c.push(void 0),g++,b.resolve(a).then(function(a){i||(i=!0,
c[h]=a,--g||d(c))},e)}),--g||d(c)});return f&&e(f.error),c.promise},race:function(a){var b=this,c=B(b),d=c.reject,e=D(function(){o(a,!1,function(a){b.resolve(a).then(c.resolve,d)})});return e&&d(e.error),c.promise}})},{104:104,117:117,17:17,23:23,25:25,3:3,32:32,37:37,38:38,49:49,54:54,58:58,6:6,64:64,86:86,91:91,92:92,95:95}],199:[function(a,b,c){var d=a(32),e=a(3),f=a(7),g=(a(38).Reflect||{}).apply,h=Function.apply;
d(d.S+d.F*!a(34)(function(){g(function(){})}),"Reflect",{apply:function(a,b,c){var d=e(a),i=f(c);return g?g(d,b,i):h.call(d,b,i)}})},{3:3,32:32,34:34,38:38,7:7}],200:[function(a,b,c){var d=a(32),e=a(66),f=a(3),g=a(7),h=a(49),i=a(34),j=a(16),k=(a(38).Reflect||{}).construct,l=i(function(){function a(){}return!(k(function(){},[],a)instanceof a)}),m=!i(function(){k(function(){})});d(d.S+d.F*(l||m),"Reflect",{
construct:function(a,b){f(a),g(b);var c=arguments.length<3?a:f(arguments[2]);if(m&&!l)return k(a,b,c);if(a==c){switch(b.length){case 0:return new a;case 1:return new a(b[0]);case 2:return new a(b[0],b[1]);case 3:return new a(b[0],b[1],b[2]);case 4:return new a(b[0],b[1],b[2],b[3])}var d=[null];return d.push.apply(d,b),new(j.apply(a,d))}var i=c.prototype,n=e(h(i)?i:Object.prototype),o=Function.apply.call(a,n,b);
return h(o)?o:n}})},{16:16,3:3,32:32,34:34,38:38,49:49,66:66,7:7}],201:[function(a,b,c){var d=a(67),e=a(32),f=a(7),g=a(110);e(e.S+e.F*a(34)(function(){Reflect.defineProperty(d.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(a,b,c){f(a),b=g(b,!0),f(c);try{return d.f(a,b,c),!0}catch(a){return!1}}})},{110:110,32:32,34:34,67:67,7:7}],202:[function(a,b,c){var d=a(32),e=a(70).f,f=a(7);
d(d.S,"Reflect",{deleteProperty:function(a,b){var c=e(f(a),b);return!(c&&!c.configurable)&&delete a[b]}})},{32:32,7:7,70:70}],203:[function(a,b,c){"use strict";var d=a(32),e=a(7),f=function(a){this._t=e(a),this._i=0;var b,c=this._k=[];for(b in a)c.push(b)};a(52)(f,"Object",function(){var a,b=this,c=b._k;do if(b._i>=c.length)return{value:void 0,done:!0};while(!((a=c[b._i++])in b._t));return{value:a,
done:!1}}),d(d.S,"Reflect",{enumerate:function(a){return new f(a)}})},{32:32,52:52,7:7}],204:[function(a,b,c){var d=a(70),e=a(32),f=a(7);e(e.S,"Reflect",{getOwnPropertyDescriptor:function(a,b){return d.f(f(a),b)}})},{32:32,7:7,70:70}],205:[function(a,b,c){var d=a(32),e=a(74),f=a(7);d(d.S,"Reflect",{getPrototypeOf:function(a){return e(f(a))}})},{32:32,7:7,74:74}],206:[function(a,b,c){function d(a,b){
var c,h,k=arguments.length<3?a:arguments[2];return j(a)===k?a[b]:(c=e.f(a,b))?g(c,"value")?c.value:void 0!==c.get?c.get.call(k):void 0:i(h=f(a))?d(h,b,k):void 0}var e=a(70),f=a(74),g=a(39),h=a(32),i=a(49),j=a(7);h(h.S,"Reflect",{get:d})},{32:32,39:39,49:49,7:7,70:70,74:74}],207:[function(a,b,c){var d=a(32);d(d.S,"Reflect",{has:function(a,b){return b in a}})},{32:32}],208:[function(a,b,c){var d=a(32),e=a(7),f=Object.isExtensible;
d(d.S,"Reflect",{isExtensible:function(a){return e(a),!f||f(a)}})},{32:32,7:7}],209:[function(a,b,c){var d=a(32);d(d.S,"Reflect",{ownKeys:a(80)})},{32:32,80:80}],210:[function(a,b,c){var d=a(32),e=a(7),f=Object.preventExtensions;d(d.S,"Reflect",{preventExtensions:function(a){e(a);try{return f&&f(a),!0}catch(a){return!1}}})},{32:32,7:7}],211:[function(a,b,c){var d=a(32),e=a(90);e&&d(d.S,"Reflect",{setPrototypeOf:function(a,b){
e.check(a,b);try{return e.set(a,b),!0}catch(a){return!1}}})},{32:32,90:90}],212:[function(a,b,c){function d(a,b,c){var i,m,n=arguments.length<4?a:arguments[3],o=f.f(k(a),b);if(!o){if(l(m=g(a)))return d(m,b,c,n);o=j(0)}return h(o,"value")?!(o.writable===!1||!l(n)||(i=f.f(n,b)||j(0),i.value=c,e.f(n,b,i),0)):void 0!==o.set&&(o.set.call(n,c),!0)}var e=a(67),f=a(70),g=a(74),h=a(39),i=a(32),j=a(85),k=a(7),l=a(49);
i(i.S,"Reflect",{set:d})},{32:32,39:39,49:49,67:67,7:7,70:70,74:74,85:85}],213:[function(a,b,c){var d=a(38),e=a(43),f=a(67).f,g=a(72).f,h=a(50),i=a(36),j=d.RegExp,k=j,l=j.prototype,m=/a/g,n=/a/g,o=new j(m)!==m;if(a(28)&&(!o||a(34)(function(){return n[a(117)("match")]=!1,j(m)!=m||j(n)==n||"/a/i"!=j(m,"i")}))){j=function(a,b){var c=this instanceof j,d=h(a),f=void 0===b;return!c&&d&&a.constructor===j&&f?a:e(o?new k(d&&!f?a.source:a,b):k((d=a instanceof j)?a.source:a,d&&f?i.call(a):b),c?this:l,j);
};for(var p=(function(a){a in j||f(j,a,{configurable:!0,get:function(){return k[a]},set:function(b){k[a]=b}})}),q=g(k),r=0;q.length>r;)p(q[r++]);l.constructor=j,j.prototype=l,a(87)(d,"RegExp",j)}a(91)("RegExp")},{117:117,28:28,34:34,36:36,38:38,43:43,50:50,67:67,72:72,87:87,91:91}],214:[function(a,b,c){a(28)&&"g"!=/./g.flags&&a(67).f(RegExp.prototype,"flags",{configurable:!0,get:a(36)})},{28:28,36:36,
67:67}],215:[function(a,b,c){a(35)("match",1,function(a,b,c){return[function(c){"use strict";var d=a(this),e=void 0==c?void 0:c[b];return void 0!==e?e.call(c,d):new RegExp(c)[b](String(d))},c]})},{35:35}],216:[function(a,b,c){a(35)("replace",2,function(a,b,c){return[function(d,e){"use strict";var f=a(this),g=void 0==d?void 0:d[b];return void 0!==g?g.call(d,f,e):c.call(String(f),d,e)},c]})},{35:35}],
217:[function(a,b,c){a(35)("search",1,function(a,b,c){return[function(c){"use strict";var d=a(this),e=void 0==c?void 0:c[b];return void 0!==e?e.call(c,d):new RegExp(c)[b](String(d))},c]})},{35:35}],218:[function(a,b,c){a(35)("split",2,function(b,c,d){"use strict";var e=a(50),f=d,g=[].push,h="split",i="length",j="lastIndex";if("c"=="abbc"[h](/(b)*/)[1]||4!="test"[h](/(?:)/,-1)[i]||2!="ab"[h](/(?:ab)*/)[i]||4!="."[h](/(.?)(.?)/)[i]||"."[h](/()()/)[i]>1||""[h](/.?/)[i]){
var k=void 0===/()??/.exec("")[1];d=function(a,b){var c=String(this);if(void 0===a&&0===b)return[];if(!e(a))return f.call(c,a,b);var d,h,l,m,n,o=[],p=(a.ignoreCase?"i":"")+(a.multiline?"m":"")+(a.unicode?"u":"")+(a.sticky?"y":""),q=0,r=void 0===b?4294967295:b>>>0,s=new RegExp(a.source,p+"g");for(k||(d=new RegExp("^"+s.source+"$(?!\\s)",p));(h=s.exec(c))&&(l=h.index+h[0][i],!(l>q&&(o.push(c.slice(q,h.index)),
!k&&h[i]>1&&h[0].replace(d,function(){for(n=1;n<arguments[i]-2;n++)void 0===arguments[n]&&(h[n]=void 0)}),h[i]>1&&h.index<c[i]&&g.apply(o,h.slice(1)),m=h[0][i],q=l,o[i]>=r)));)s[j]===h.index&&s[j]++;return q===c[i]?!m&&s.test("")||o.push(""):o.push(c.slice(q)),o[i]>r?o.slice(0,r):o}}else"0"[h](void 0,0)[i]&&(d=function(a,b){return void 0===a&&0===b?[]:f.call(this,a,b)});return[function(a,e){var f=b(this),g=void 0==a?void 0:a[c];
return void 0!==g?g.call(a,f,e):d.call(String(f),a,e)},d]})},{35:35,50:50}],219:[function(a,b,c){"use strict";a(214);var d=a(7),e=a(36),f=a(28),g="toString",h=/./[g],i=function(b){a(87)(RegExp.prototype,g,b,!0)};a(34)(function(){return"/a/b"!=h.call({source:"a",flags:"b"})})?i(function(){var a=d(this);return"/".concat(a.source,"/","flags"in a?a.flags:!f&&a instanceof RegExp?e.call(a):void 0)}):h.name!=g&&i(function(){
return h.call(this)})},{214:214,28:28,34:34,36:36,7:7,87:87}],220:[function(a,b,c){"use strict";var d=a(19);b.exports=a(22)("Set",function(a){return function(){return a(this,arguments.length>0?arguments[0]:void 0)}},{add:function(a){return d.def(this,a=0===a?0:a,a)}},d)},{19:19,22:22}],221:[function(a,b,c){"use strict";a(99)("anchor",function(a){return function(b){return a(this,"a","name",b)}})},{99:99
}],222:[function(a,b,c){"use strict";a(99)("big",function(a){return function(){return a(this,"big","","")}})},{99:99}],223:[function(a,b,c){"use strict";a(99)("blink",function(a){return function(){return a(this,"blink","","")}})},{99:99}],224:[function(a,b,c){"use strict";a(99)("bold",function(a){return function(){return a(this,"b","","")}})},{99:99}],225:[function(a,b,c){"use strict";var d=a(32),e=a(97)(!1);
d(d.P,"String",{codePointAt:function(a){return e(this,a)}})},{32:32,97:97}],226:[function(a,b,c){"use strict";var d=a(32),e=a(108),f=a(98),g="endsWith",h=""[g];d(d.P+d.F*a(33)(g),"String",{endsWith:function(a){var b=f(this,a,g),c=arguments.length>1?arguments[1]:void 0,d=e(b.length),i=void 0===c?d:Math.min(e(c),d),j=String(a);return h?h.call(b,j,i):b.slice(i-j.length,i)===j}})},{108:108,32:32,33:33,
98:98}],227:[function(a,b,c){"use strict";a(99)("fixed",function(a){return function(){return a(this,"tt","","")}})},{99:99}],228:[function(a,b,c){"use strict";a(99)("fontcolor",function(a){return function(b){return a(this,"font","color",b)}})},{99:99}],229:[function(a,b,c){"use strict";a(99)("fontsize",function(a){return function(b){return a(this,"font","size",b)}})},{99:99}],230:[function(a,b,c){var d=a(32),e=a(105),f=String.fromCharCode,g=String.fromCodePoint;
d(d.S+d.F*(!!g&&1!=g.length),"String",{fromCodePoint:function(a){for(var b,c=[],d=arguments.length,g=0;d>g;){if(b=+arguments[g++],e(b,1114111)!==b)throw RangeError(b+" is not a valid code point");c.push(b<65536?f(b):f(((b-=65536)>>10)+55296,b%1024+56320))}return c.join("")}})},{105:105,32:32}],231:[function(a,b,c){"use strict";var d=a(32),e=a(98),f="includes";d(d.P+d.F*a(33)(f),"String",{includes:function(a){
return!!~e(this,a,f).indexOf(a,arguments.length>1?arguments[1]:void 0)}})},{32:32,33:33,98:98}],232:[function(a,b,c){"use strict";a(99)("italics",function(a){return function(){return a(this,"i","","")}})},{99:99}],233:[function(a,b,c){"use strict";var d=a(97)(!0);a(53)(String,"String",function(a){this._t=String(a),this._i=0},function(){var a,b=this._t,c=this._i;return c>=b.length?{value:void 0,done:!0
}:(a=d(b,c),this._i+=a.length,{value:a,done:!1})})},{53:53,97:97}],234:[function(a,b,c){"use strict";a(99)("link",function(a){return function(b){return a(this,"a","href",b)}})},{99:99}],235:[function(a,b,c){var d=a(32),e=a(107),f=a(108);d(d.S,"String",{raw:function(a){for(var b=e(a.raw),c=f(b.length),d=arguments.length,g=[],h=0;c>h;)g.push(String(b[h++])),h<d&&g.push(String(arguments[h]));return g.join("");
}})},{107:107,108:108,32:32}],236:[function(a,b,c){var d=a(32);d(d.P,"String",{repeat:a(101)})},{101:101,32:32}],237:[function(a,b,c){"use strict";a(99)("small",function(a){return function(){return a(this,"small","","")}})},{99:99}],238:[function(a,b,c){"use strict";var d=a(32),e=a(108),f=a(98),g="startsWith",h=""[g];d(d.P+d.F*a(33)(g),"String",{startsWith:function(a){var b=f(this,a,g),c=e(Math.min(arguments.length>1?arguments[1]:void 0,b.length)),d=String(a);
return h?h.call(b,d,c):b.slice(c,c+d.length)===d}})},{108:108,32:32,33:33,98:98}],239:[function(a,b,c){"use strict";a(99)("strike",function(a){return function(){return a(this,"strike","","")}})},{99:99}],240:[function(a,b,c){"use strict";a(99)("sub",function(a){return function(){return a(this,"sub","","")}})},{99:99}],241:[function(a,b,c){"use strict";a(99)("sup",function(a){return function(){return a(this,"sup","","");
}})},{99:99}],242:[function(a,b,c){"use strict";a(102)("trim",function(a){return function(){return a(this,3)}})},{102:102}],243:[function(a,b,c){"use strict";var d=a(38),e=a(39),f=a(28),g=a(32),h=a(87),i=a(62).KEY,j=a(34),k=a(94),l=a(92),m=a(114),n=a(117),o=a(116),p=a(115),q=a(57),r=a(31),s=a(47),t=a(7),u=a(107),v=a(110),w=a(85),x=a(66),y=a(71),z=a(70),A=a(67),B=a(76),C=z.f,D=A.f,E=y.f,F=d.Symbol,G=d.JSON,H=G&&G.stringify,I="prototype",J=n("_hidden"),K=n("toPrimitive"),L={}.propertyIsEnumerable,M=k("symbol-registry"),N=k("symbols"),O=k("op-symbols"),P=Object[I],Q="function"==typeof F,R=d.QObject,S=!R||!R[I]||!R[I].findChild,T=f&&j(function(){
return 7!=x(D({},"a",{get:function(){return D(this,"a",{value:7}).a}})).a})?function(a,b,c){var d=C(P,b);d&&delete P[b],D(a,b,c),d&&a!==P&&D(P,b,d)}:D,U=function(a){var b=N[a]=x(F[I]);return b._k=a,b},V=Q&&"symbol"==typeof F.iterator?function(a){return"symbol"==typeof a}:function(a){return a instanceof F},W=function(a,b,c){return a===P&&W(O,b,c),t(a),b=v(b,!0),t(c),e(N,b)?(c.enumerable?(e(a,J)&&a[J][b]&&(a[J][b]=!1),
c=x(c,{enumerable:w(0,!1)})):(e(a,J)||D(a,J,w(1,{})),a[J][b]=!0),T(a,b,c)):D(a,b,c)},X=function(a,b){t(a);for(var c,d=r(b=u(b)),e=0,f=d.length;f>e;)W(a,c=d[e++],b[c]);return a},Y=function(a,b){return void 0===b?x(a):X(x(a),b)},Z=function(a){var b=L.call(this,a=v(a,!0));return!(this===P&&e(N,a)&&!e(O,a))&&(!(b||!e(this,a)||!e(N,a)||e(this,J)&&this[J][a])||b)},$=function(a,b){if(a=u(a),b=v(b,!0),a!==P||!e(N,b)||e(O,b)){
var c=C(a,b);return!c||!e(N,b)||e(a,J)&&a[J][b]||(c.enumerable=!0),c}},_=function(a){for(var b,c=E(u(a)),d=[],f=0;c.length>f;)e(N,b=c[f++])||b==J||b==i||d.push(b);return d},aa=function(a){for(var b,c=a===P,d=E(c?O:u(a)),f=[],g=0;d.length>g;)!e(N,b=d[g++])||c&&!e(P,b)||f.push(N[b]);return f};Q||(F=function(){if(this instanceof F)throw TypeError("Symbol is not a constructor!");var a=m(arguments.length>0?arguments[0]:void 0),b=function(c){
this===P&&b.call(O,c),e(this,J)&&e(this[J],a)&&(this[J][a]=!1),T(this,a,w(1,c))};return f&&S&&T(P,a,{configurable:!0,set:b}),U(a)},h(F[I],"toString",function(){return this._k}),z.f=$,A.f=W,a(72).f=y.f=_,a(77).f=Z,a(73).f=aa,f&&!a(58)&&h(P,"propertyIsEnumerable",Z,!0),o.f=function(a){return U(n(a))}),g(g.G+g.W+g.F*!Q,{Symbol:F});for(var ba="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ca=0;ba.length>ca;)n(ba[ca++]);
for(var ba=B(n.store),ca=0;ba.length>ca;)p(ba[ca++]);g(g.S+g.F*!Q,"Symbol",{for:function(a){return e(M,a+="")?M[a]:M[a]=F(a)},keyFor:function(a){if(V(a))return q(M,a);throw TypeError(a+" is not a symbol!")},useSetter:function(){S=!0},useSimple:function(){S=!1}}),g(g.S+g.F*!Q,"Object",{create:Y,defineProperty:W,defineProperties:X,getOwnPropertyDescriptor:$,getOwnPropertyNames:_,getOwnPropertySymbols:aa
}),G&&g(g.S+g.F*(!Q||j(function(){var a=F();return"[null]"!=H([a])||"{}"!=H({a:a})||"{}"!=H(Object(a))})),"JSON",{stringify:function(a){if(void 0!==a&&!V(a)){for(var b,c,d=[a],e=1;arguments.length>e;)d.push(arguments[e++]);return b=d[1],"function"==typeof b&&(c=b),!c&&s(b)||(b=function(a,b){if(c&&(b=c.call(this,a,b)),!V(b))return b}),d[1]=b,H.apply(G,d)}}}),F[I][K]||a(40)(F[I],K,F[I].valueOf),l(F,"Symbol"),
l(Math,"Math",!0),l(d.JSON,"JSON",!0)},{107:107,110:110,114:114,115:115,116:116,117:117,28:28,31:31,32:32,34:34,38:38,39:39,40:40,47:47,57:57,58:58,62:62,66:66,67:67,7:7,70:70,71:71,72:72,73:73,76:76,77:77,85:85,87:87,92:92,94:94}],244:[function(a,b,c){"use strict";var d=a(32),e=a(113),f=a(112),g=a(7),h=a(105),i=a(108),j=a(49),k=a(38).ArrayBuffer,l=a(95),m=f.ArrayBuffer,n=f.DataView,o=e.ABV&&k.isView,p=m.prototype.slice,q=e.VIEW,r="ArrayBuffer";
d(d.G+d.W+d.F*(k!==m),{ArrayBuffer:m}),d(d.S+d.F*!e.CONSTR,r,{isView:function(a){return o&&o(a)||j(a)&&q in a}}),d(d.P+d.U+d.F*a(34)(function(){return!new m(2).slice(1,void 0).byteLength}),r,{slice:function(a,b){if(void 0!==p&&void 0===b)return p.call(g(this),a);for(var c=g(this).byteLength,d=h(a,c),e=h(void 0===b?c:b,c),f=new(l(this,m))(i(e-d)),j=new n(this),k=new n(f),o=0;d<e;)k.setUint8(o++,j.getUint8(d++));
return f}}),a(91)(r)},{105:105,108:108,112:112,113:113,32:32,34:34,38:38,49:49,7:7,91:91,95:95}],245:[function(a,b,c){var d=a(32);d(d.G+d.W+d.F*!a(113).ABV,{DataView:a(112).DataView})},{112:112,113:113,32:32}],246:[function(a,b,c){a(111)("Float32",4,function(a){return function(b,c,d){return a(this,b,c,d)}})},{111:111}],247:[function(a,b,c){a(111)("Float64",8,function(a){return function(b,c,d){return a(this,b,c,d);
}})},{111:111}],248:[function(a,b,c){a(111)("Int16",2,function(a){return function(b,c,d){return a(this,b,c,d)}})},{111:111}],249:[function(a,b,c){a(111)("Int32",4,function(a){return function(b,c,d){return a(this,b,c,d)}})},{111:111}],250:[function(a,b,c){a(111)("Int8",1,function(a){return function(b,c,d){return a(this,b,c,d)}})},{111:111}],251:[function(a,b,c){a(111)("Uint16",2,function(a){return function(b,c,d){
return a(this,b,c,d)}})},{111:111}],252:[function(a,b,c){a(111)("Uint32",4,function(a){return function(b,c,d){return a(this,b,c,d)}})},{111:111}],253:[function(a,b,c){a(111)("Uint8",1,function(a){return function(b,c,d){return a(this,b,c,d)}})},{111:111}],254:[function(a,b,c){a(111)("Uint8",1,function(a){return function(b,c,d){return a(this,b,c,d)}},!0)},{111:111}],255:[function(a,b,c){"use strict";var d,e=a(12)(0),f=a(87),g=a(62),h=a(65),i=a(21),j=a(49),k=g.getWeak,l=Object.isExtensible,m=i.ufstore,n={},o=function(a){
return function(){return a(this,arguments.length>0?arguments[0]:void 0)}},p={get:function(a){if(j(a)){var b=k(a);return b===!0?m(this).get(a):b?b[this._i]:void 0}},set:function(a,b){return i.def(this,a,b)}},q=b.exports=a(22)("WeakMap",o,p,i,!0,!0);7!=(new q).set((Object.freeze||Object)(n),7).get(n)&&(d=i.getConstructor(o),h(d.prototype,p),g.NEED=!0,e(["delete","has","get","set"],function(a){var b=q.prototype,c=b[a];
f(b,a,function(b,e){if(j(b)&&!l(b)){this._f||(this._f=new d);var f=this._f[a](b,e);return"set"==a?this:f}return c.call(this,b,e)})}))},{12:12,21:21,22:22,49:49,62:62,65:65,87:87}],256:[function(a,b,c){"use strict";var d=a(21);a(22)("WeakSet",function(a){return function(){return a(this,arguments.length>0?arguments[0]:void 0)}},{add:function(a){return d.def(this,a,!0)}},d,!1,!0)},{21:21,22:22}],257:[function(a,b,c){
"use strict";var d=a(32),e=a(11)(!0);d(d.P,"Array",{includes:function(a){return e(this,a,arguments.length>1?arguments[1]:void 0)}}),a(5)("includes")},{11:11,32:32,5:5}],258:[function(a,b,c){var d=a(32),e=a(64)(),f=a(38).process,g="process"==a(18)(f);d(d.G,{asap:function(a){var b=g&&f.domain;e(b?b.bind(a):a)}})},{18:18,32:32,38:38,64:64}],259:[function(a,b,c){var d=a(32),e=a(18);d(d.S,"Error",{isError:function(a){
return"Error"===e(a)}})},{18:18,32:32}],260:[function(a,b,c){var d=a(32);d(d.P+d.R,"Map",{toJSON:a(20)("Map")})},{20:20,32:32}],261:[function(a,b,c){var d=a(32);d(d.S,"Math",{iaddh:function(a,b,c,d){var e=a>>>0,f=b>>>0,g=c>>>0;return f+(d>>>0)+((e&g|(e|g)&~(e+g>>>0))>>>31)|0}})},{32:32}],262:[function(a,b,c){var d=a(32);d(d.S,"Math",{imulh:function(a,b){var c=65535,d=+a,e=+b,f=d&c,g=e&c,h=d>>16,i=e>>16,j=(h*g>>>0)+(f*g>>>16);
return h*i+(j>>16)+((f*i>>>0)+(j&c)>>16)}})},{32:32}],263:[function(a,b,c){var d=a(32);d(d.S,"Math",{isubh:function(a,b,c,d){var e=a>>>0,f=b>>>0,g=c>>>0;return f-(d>>>0)-((~e&g|~(e^g)&e-g>>>0)>>>31)|0}})},{32:32}],264:[function(a,b,c){var d=a(32);d(d.S,"Math",{umulh:function(a,b){var c=65535,d=+a,e=+b,f=d&c,g=e&c,h=d>>>16,i=e>>>16,j=(h*g>>>0)+(f*g>>>16);return h*i+(j>>>16)+((f*i>>>0)+(j&c)>>>16)}});
},{32:32}],265:[function(a,b,c){"use strict";var d=a(32),e=a(109),f=a(3),g=a(67);a(28)&&d(d.P+a(69),"Object",{__defineGetter__:function(a,b){g.f(e(this),a,{get:f(b),enumerable:!0,configurable:!0})}})},{109:109,28:28,3:3,32:32,67:67,69:69}],266:[function(a,b,c){"use strict";var d=a(32),e=a(109),f=a(3),g=a(67);a(28)&&d(d.P+a(69),"Object",{__defineSetter__:function(a,b){g.f(e(this),a,{set:f(b),enumerable:!0,
configurable:!0})}})},{109:109,28:28,3:3,32:32,67:67,69:69}],267:[function(a,b,c){var d=a(32),e=a(79)(!0);d(d.S,"Object",{entries:function(a){return e(a)}})},{32:32,79:79}],268:[function(a,b,c){var d=a(32),e=a(80),f=a(107),g=a(70),h=a(24);d(d.S,"Object",{getOwnPropertyDescriptors:function(a){for(var b,c=f(a),d=g.f,i=e(c),j={},k=0;i.length>k;)h(j,b=i[k++],d(c,b));return j}})},{107:107,24:24,32:32,70:70,
80:80}],269:[function(a,b,c){"use strict";var d=a(32),e=a(109),f=a(110),g=a(74),h=a(70).f;a(28)&&d(d.P+a(69),"Object",{__lookupGetter__:function(a){var b,c=e(this),d=f(a,!0);do if(b=h(c,d))return b.get;while(c=g(c))}})},{109:109,110:110,28:28,32:32,69:69,70:70,74:74}],270:[function(a,b,c){"use strict";var d=a(32),e=a(109),f=a(110),g=a(74),h=a(70).f;a(28)&&d(d.P+a(69),"Object",{__lookupSetter__:function(a){
var b,c=e(this),d=f(a,!0);do if(b=h(c,d))return b.set;while(c=g(c))}})},{109:109,110:110,28:28,32:32,69:69,70:70,74:74}],271:[function(a,b,c){var d=a(32),e=a(79)(!1);d(d.S,"Object",{values:function(a){return e(a)}})},{32:32,79:79}],272:[function(a,b,c){"use strict";var d=a(32),e=a(38),f=a(23),g=a(64)(),h=a(117)("observable"),i=a(3),j=a(7),k=a(6),l=a(86),m=a(40),n=a(37),o=n.RETURN,p=function(a){return null==a?void 0:i(a);
},q=function(a){var b=a._c;b&&(a._c=void 0,b())},r=function(a){return void 0===a._o},s=function(a){r(a)||(a._o=void 0,q(a))},t=function(a,b){j(a),this._c=void 0,this._o=a,a=new u(this);try{var c=b(a),d=c;null!=c&&("function"==typeof c.unsubscribe?c=function(){d.unsubscribe()}:i(c),this._c=c)}catch(b){return void a.error(b)}r(this)&&q(this)};t.prototype=l({},{unsubscribe:function(){s(this)}});var u=function(a){
this._s=a};u.prototype=l({},{next:function(a){var b=this._s;if(!r(b)){var c=b._o;try{var d=p(c.next);if(d)return d.call(c,a)}catch(a){try{s(b)}finally{throw a}}}},error:function(a){var b=this._s;if(r(b))throw a;var c=b._o;b._o=void 0;try{var d=p(c.error);if(!d)throw a;a=d.call(c,a)}catch(a){try{q(b)}finally{throw a}}return q(b),a},complete:function(a){var b=this._s;if(!r(b)){var c=b._o;b._o=void 0;try{
var d=p(c.complete);a=d?d.call(c,a):void 0}catch(a){try{q(b)}finally{throw a}}return q(b),a}}});var v=function(a){k(this,v,"Observable","_f")._f=i(a)};l(v.prototype,{subscribe:function(a){return new t(a,this._f)},forEach:function(a){var b=this;return new(f.Promise||e.Promise)(function(c,d){i(a);var e=b.subscribe({next:function(b){try{return a(b)}catch(a){d(a),e.unsubscribe()}},error:d,complete:c})});
}}),l(v,{from:function(a){var b="function"==typeof this?this:v,c=p(j(a)[h]);if(c){var d=j(c.call(a));return d.constructor===b?d:new b(function(a){return d.subscribe(a)})}return new b(function(b){var c=!1;return g(function(){if(!c){try{if(n(a,!1,function(a){if(b.next(a),c)return o})===o)return}catch(a){if(c)throw a;return void b.error(a)}b.complete()}}),function(){c=!0}})},of:function(){for(var a=0,b=arguments.length,c=Array(b);a<b;)c[a]=arguments[a++];
return new("function"==typeof this?this:v)(function(a){var b=!1;return g(function(){if(!b){for(var d=0;d<c.length;++d)if(a.next(c[d]),b)return;a.complete()}}),function(){b=!0}})}}),m(v.prototype,h,function(){return this}),d(d.G,{Observable:v}),a(91)("Observable")},{117:117,23:23,3:3,32:32,37:37,38:38,40:40,6:6,64:64,7:7,86:86,91:91}],273:[function(a,b,c){var d=a(63),e=a(7),f=d.key,g=d.set;d.exp({defineMetadata:function(a,b,c,d){
g(a,b,e(c),f(d))}})},{63:63,7:7}],274:[function(a,b,c){var d=a(63),e=a(7),f=d.key,g=d.map,h=d.store;d.exp({deleteMetadata:function(a,b){var c=arguments.length<3?void 0:f(arguments[2]),d=g(e(b),c,!1);if(void 0===d||!d.delete(a))return!1;if(d.size)return!0;var i=h.get(b);return i.delete(c),!!i.size||h.delete(b)}})},{63:63,7:7}],275:[function(a,b,c){var d=a(220),e=a(10),f=a(63),g=a(7),h=a(74),i=f.keys,j=f.key,k=function(a,b){
var c=i(a,b),f=h(a);if(null===f)return c;var g=k(f,b);return g.length?c.length?e(new d(c.concat(g))):g:c};f.exp({getMetadataKeys:function(a){return k(g(a),arguments.length<2?void 0:j(arguments[1]))}})},{10:10,220:220,63:63,7:7,74:74}],276:[function(a,b,c){var d=a(63),e=a(7),f=a(74),g=d.has,h=d.get,i=d.key,j=function(a,b,c){var d=g(a,b,c);if(d)return h(a,b,c);var e=f(b);return null!==e?j(a,e,c):void 0;
};d.exp({getMetadata:function(a,b){return j(a,e(b),arguments.length<3?void 0:i(arguments[2]))}})},{63:63,7:7,74:74}],277:[function(a,b,c){var d=a(63),e=a(7),f=d.keys,g=d.key;d.exp({getOwnMetadataKeys:function(a){return f(e(a),arguments.length<2?void 0:g(arguments[1]))}})},{63:63,7:7}],278:[function(a,b,c){var d=a(63),e=a(7),f=d.get,g=d.key;d.exp({getOwnMetadata:function(a,b){return f(a,e(b),arguments.length<3?void 0:g(arguments[2]));
}})},{63:63,7:7}],279:[function(a,b,c){var d=a(63),e=a(7),f=a(74),g=d.has,h=d.key,i=function(a,b,c){var d=g(a,b,c);if(d)return!0;var e=f(b);return null!==e&&i(a,e,c)};d.exp({hasMetadata:function(a,b){return i(a,e(b),arguments.length<3?void 0:h(arguments[2]))}})},{63:63,7:7,74:74}],280:[function(a,b,c){var d=a(63),e=a(7),f=d.has,g=d.key;d.exp({hasOwnMetadata:function(a,b){return f(a,e(b),arguments.length<3?void 0:g(arguments[2]));
}})},{63:63,7:7}],281:[function(a,b,c){var d=a(63),e=a(7),f=a(3),g=d.key,h=d.set;d.exp({metadata:function(a,b){return function(c,d){h(a,b,(void 0!==d?e:f)(c),g(d))}}})},{3:3,63:63,7:7}],282:[function(a,b,c){var d=a(32);d(d.P+d.R,"Set",{toJSON:a(20)("Set")})},{20:20,32:32}],283:[function(a,b,c){"use strict";var d=a(32),e=a(97)(!0);d(d.P,"String",{at:function(a){return e(this,a)}})},{32:32,97:97}],284:[function(a,b,c){
"use strict";var d=a(32),e=a(27),f=a(108),g=a(50),h=a(36),i=RegExp.prototype,j=function(a,b){this._r=a,this._s=b};a(52)(j,"RegExp String",function(){var a=this._r.exec(this._s);return{value:a,done:null===a}}),d(d.P,"String",{matchAll:function(a){if(e(this),!g(a))throw TypeError(a+" is not a regexp!");var b=String(this),c="flags"in i?String(a.flags):h.call(a),d=new RegExp(a.source,~c.indexOf("g")?c:"g"+c);
return d.lastIndex=f(a.lastIndex),new j(d,b)}})},{108:108,27:27,32:32,36:36,50:50,52:52}],285:[function(a,b,c){"use strict";var d=a(32),e=a(100);d(d.P,"String",{padEnd:function(a){return e(this,a,arguments.length>1?arguments[1]:void 0,!1)}})},{100:100,32:32}],286:[function(a,b,c){"use strict";var d=a(32),e=a(100);d(d.P,"String",{padStart:function(a){return e(this,a,arguments.length>1?arguments[1]:void 0,!0);
}})},{100:100,32:32}],287:[function(a,b,c){"use strict";a(102)("trimLeft",function(a){return function(){return a(this,1)}},"trimStart")},{102:102}],288:[function(a,b,c){"use strict";a(102)("trimRight",function(a){return function(){return a(this,2)}},"trimEnd")},{102:102}],289:[function(a,b,c){a(115)("asyncIterator")},{115:115}],290:[function(a,b,c){a(115)("observable")},{115:115}],291:[function(a,b,c){
var d=a(32);d(d.S,"System",{global:a(38)})},{32:32,38:38}],292:[function(a,b,c){for(var d=a(130),e=a(87),f=a(38),g=a(40),h=a(56),i=a(117),j=i("iterator"),k=i("toStringTag"),l=h.Array,m=["NodeList","DOMTokenList","MediaList","StyleSheetList","CSSRuleList"],n=0;n<5;n++){var o,p=m[n],q=f[p],r=q&&q.prototype;if(r){r[j]||g(r,j,l),r[k]||g(r,k,p),h[p]=l;for(o in d)r[o]||e(r,o,d[o],!0)}}},{117:117,130:130,
38:38,40:40,56:56,87:87}],293:[function(a,b,c){var d=a(32),e=a(104);d(d.G+d.B,{setImmediate:e.set,clearImmediate:e.clear})},{104:104,32:32}],294:[function(a,b,c){var d=a(38),e=a(32),f=a(44),g=a(83),h=d.navigator,i=!!h&&/MSIE .\./.test(h.userAgent),j=function(a){return i?function(b,c){return a(f(g,[].slice.call(arguments,2),"function"==typeof b?b:Function(b)),c)}:a};e(e.G+e.B+e.F*i,{setTimeout:j(d.setTimeout),
setInterval:j(d.setInterval)})},{32:32,38:38,44:44,83:83}],295:[function(a,b,c){a(243),a(180),a(182),a(181),a(184),a(186),a(191),a(185),a(183),a(193),a(192),a(188),a(189),a(187),a(179),a(190),a(194),a(195),a(146),a(148),a(147),a(197),a(196),a(167),a(177),a(178),a(168),a(169),a(170),a(171),a(172),a(173),a(174),a(175),a(176),a(150),a(151),a(152),a(153),a(154),a(155),a(156),a(157),a(158),a(159),a(160),
a(161),a(162),a(163),a(164),a(165),a(166),a(230),a(235),a(242),a(233),a(225),a(226),a(231),a(236),a(238),a(221),a(222),a(223),a(224),a(227),a(228),a(229),a(232),a(234),a(237),a(239),a(240),a(241),a(141),a(143),a(142),a(145),a(144),a(129),a(127),a(134),a(131),a(137),a(139),a(126),a(133),a(123),a(138),a(121),a(136),a(135),a(128),a(132),a(120),a(122),a(125),a(124),a(140),a(130),a(213),a(219),a(214),a(215),
a(216),a(217),a(218),a(198),a(149),a(220),a(255),a(256),a(244),a(245),a(250),a(253),a(254),a(248),a(251),a(249),a(252),a(246),a(247),a(199),a(200),a(201),a(202),a(203),a(206),a(204),a(205),a(207),a(208),a(209),a(210),a(212),a(211),a(257),a(283),a(286),a(285),a(287),a(288),a(284),a(289),a(290),a(268),a(271),a(267),a(265),a(266),a(269),a(270),a(260),a(282),a(291),a(259),a(261),a(263),a(262),a(264),a(273),
a(274),a(276),a(275),a(278),a(277),a(279),a(280),a(281),a(258),a(272),a(294),a(293),a(292),b.exports=a(23)},{120:120,121:121,122:122,123:123,124:124,125:125,126:126,127:127,128:128,129:129,130:130,131:131,132:132,133:133,134:134,135:135,136:136,137:137,138:138,139:139,140:140,141:141,142:142,143:143,144:144,145:145,146:146,147:147,148:148,149:149,150:150,151:151,152:152,153:153,154:154,155:155,156:156,
157:157,158:158,159:159,160:160,161:161,162:162,163:163,164:164,165:165,166:166,167:167,168:168,169:169,170:170,171:171,172:172,173:173,174:174,175:175,176:176,177:177,178:178,179:179,180:180,181:181,182:182,183:183,184:184,185:185,186:186,187:187,188:188,189:189,190:190,191:191,192:192,193:193,194:194,195:195,196:196,197:197,198:198,199:199,200:200,201:201,202:202,203:203,204:204,205:205,206:206,207:207,
208:208,209:209,210:210,211:211,212:212,213:213,214:214,215:215,216:216,217:217,218:218,219:219,220:220,221:221,222:222,223:223,224:224,225:225,226:226,227:227,228:228,229:229,23:23,230:230,231:231,232:232,233:233,234:234,235:235,236:236,237:237,238:238,239:239,240:240,241:241,242:242,243:243,244:244,245:245,246:246,247:247,248:248,249:249,250:250,251:251,252:252,253:253,254:254,255:255,256:256,257:257,
258:258,259:259,260:260,261:261,262:262,263:263,264:264,265:265,266:266,267:267,268:268,269:269,270:270,271:271,272:272,273:273,274:274,275:275,276:276,277:277,278:278,279:279,280:280,281:281,282:282,283:283,284:284,285:285,286:286,287:287,288:288,289:289,290:290,291:291,292:292,293:293,294:294}],296:[function(a,b,c){(function(a){!function(a){"use strict";function c(a,b,c,d){var f=b&&b.prototype instanceof e?b:e,g=Object.create(f.prototype),h=new m(d||[]);
return g._invoke=j(a,c,h),g}function d(a,b,c){try{return{type:"normal",arg:a.call(b,c)}}catch(a){return{type:"throw",arg:a}}}function e(){}function f(){}function g(){}function h(a){["next","throw","return"].forEach(function(b){a[b]=function(a){return this._invoke(b,a)}})}function i(a){function b(c,e,f,g){var h=d(a[c],a,e);if("throw"!==h.type){var i=h.arg,j=i.value;return j&&"object"==typeof j&&r.call(j,"__await")?Promise.resolve(j.__await).then(function(a){
b("next",a,f,g)},function(a){b("throw",a,f,g)}):Promise.resolve(j).then(function(a){i.value=a,f(i)},g)}g(h.arg)}function c(a,c){function d(){return new Promise(function(d,e){b(a,c,d,e)})}return e=e?e.then(d,d):d()}"object"==typeof process&&process.domain&&(b=process.domain.bind(b));var e;this._invoke=c}function j(a,b,c){var e=x;return function(f,g){if(e===z)throw new Error("Generator is already running");
if(e===A){if("throw"===f)throw g;return o()}for(;;){var h=c.delegate;if(h){if("return"===f||"throw"===f&&h.iterator[f]===p){c.delegate=null;var i=h.iterator.return;if(i){var j=d(i,h.iterator,g);if("throw"===j.type){f="throw",g=j.arg;continue}}if("return"===f)continue}var j=d(h.iterator[f],h.iterator,g);if("throw"===j.type){c.delegate=null,f="throw",g=j.arg;continue}f="next",g=p;var k=j.arg;if(!k.done)return e=y,
k;c[h.resultName]=k.value,c.next=h.nextLoc,c.delegate=null}if("next"===f)c.sent=c._sent=g;else if("throw"===f){if(e===x)throw e=A,g;c.dispatchException(g)&&(f="next",g=p)}else"return"===f&&c.abrupt("return",g);e=z;var j=d(a,b,c);if("normal"===j.type){e=c.done?A:y;var k={value:j.arg,done:c.done};if(j.arg!==B)return k;c.delegate&&"next"===f&&(g=p)}else"throw"===j.type&&(e=A,f="throw",g=j.arg)}}}function k(a){
var b={tryLoc:a[0]};1 in a&&(b.catchLoc=a[1]),2 in a&&(b.finallyLoc=a[2],b.afterLoc=a[3]),this.tryEntries.push(b)}function l(a){var b=a.completion||{};b.type="normal",delete b.arg,a.completion=b}function m(a){this.tryEntries=[{tryLoc:"root"}],a.forEach(k,this),this.reset(!0)}function n(a){if(a){var b=a[t];if(b)return b.call(a);if("function"==typeof a.next)return a;if(!isNaN(a.length)){var c=-1,d=function b(){
for(;++c<a.length;)if(r.call(a,c))return b.value=a[c],b.done=!1,b;return b.value=p,b.done=!0,b};return d.next=d}}return{next:o}}function o(){return{value:p,done:!0}}var p,q=Object.prototype,r=q.hasOwnProperty,s="function"==typeof Symbol?Symbol:{},t=s.iterator||"@@iterator",u=s.toStringTag||"@@toStringTag",v="object"==typeof b,w=a.regeneratorRuntime;if(w)return void(v&&(b.exports=w));w=a.regeneratorRuntime=v?b.exports:{},
w.wrap=c;var x="suspendedStart",y="suspendedYield",z="executing",A="completed",B={},C={};C[t]=function(){return this};var D=Object.getPrototypeOf,E=D&&D(D(n([])));E&&E!==q&&r.call(E,t)&&(C=E);var F=g.prototype=e.prototype=Object.create(C);f.prototype=F.constructor=g,g.constructor=f,g[u]=f.displayName="GeneratorFunction",w.isGeneratorFunction=function(a){var b="function"==typeof a&&a.constructor;return!!b&&(b===f||"GeneratorFunction"===(b.displayName||b.name));
},w.mark=function(a){return Object.setPrototypeOf?Object.setPrototypeOf(a,g):(a.__proto__=g,u in a||(a[u]="GeneratorFunction")),a.prototype=Object.create(F),a},w.awrap=function(a){return{__await:a}},h(i.prototype),w.AsyncIterator=i,w.async=function(a,b,d,e){var f=new i(c(a,b,d,e));return w.isGeneratorFunction(b)?f:f.next().then(function(a){return a.done?a.value:f.next()})},h(F),F[u]="Generator",F.toString=function(){
return"[object Generator]"},w.keys=function(a){var b=[];for(var c in a)b.push(c);return b.reverse(),function c(){for(;b.length;){var d=b.pop();if(d in a)return c.value=d,c.done=!1,c}return c.done=!0,c}},w.values=n,m.prototype={constructor:m,reset:function(a){if(this.prev=0,this.next=0,this.sent=this._sent=p,this.done=!1,this.delegate=null,this.tryEntries.forEach(l),!a)for(var b in this)"t"===b.charAt(0)&&r.call(this,b)&&!isNaN(+b.slice(1))&&(this[b]=p);
},stop:function(){this.done=!0;var a=this.tryEntries[0],b=a.completion;if("throw"===b.type)throw b.arg;return this.rval},dispatchException:function(a){function b(b,d){return f.type="throw",f.arg=a,c.next=b,!!d}if(this.done)throw a;for(var c=this,d=this.tryEntries.length-1;d>=0;--d){var e=this.tryEntries[d],f=e.completion;if("root"===e.tryLoc)return b("end");if(e.tryLoc<=this.prev){var g=r.call(e,"catchLoc"),h=r.call(e,"finallyLoc");
if(g&&h){if(this.prev<e.catchLoc)return b(e.catchLoc,!0);if(this.prev<e.finallyLoc)return b(e.finallyLoc)}else if(g){if(this.prev<e.catchLoc)return b(e.catchLoc,!0)}else{if(!h)throw new Error("try statement without catch or finally");if(this.prev<e.finallyLoc)return b(e.finallyLoc)}}}},abrupt:function(a,b){for(var c=this.tryEntries.length-1;c>=0;--c){var d=this.tryEntries[c];if(d.tryLoc<=this.prev&&r.call(d,"finallyLoc")&&this.prev<d.finallyLoc){
var e=d;break}}e&&("break"===a||"continue"===a)&&e.tryLoc<=b&&b<=e.finallyLoc&&(e=null);var f=e?e.completion:{};return f.type=a,f.arg=b,e?this.next=e.finallyLoc:this.complete(f),B},complete:function(a,b){if("throw"===a.type)throw a.arg;"break"===a.type||"continue"===a.type?this.next=a.arg:"return"===a.type?(this.rval=a.arg,this.next="end"):"normal"===a.type&&b&&(this.next=b)},finish:function(a){for(var b=this.tryEntries.length-1;b>=0;--b){
var c=this.tryEntries[b];if(c.finallyLoc===a)return this.complete(c.completion,c.afterLoc),l(c),B}},catch:function(a){for(var b=this.tryEntries.length-1;b>=0;--b){var c=this.tryEntries[b];if(c.tryLoc===a){var d=c.completion;if("throw"===d.type){var e=d.arg;l(c)}return e}}throw new Error("illegal catch attempt")},delegateYield:function(a,b,c){return this.delegate={iterator:n(a),resultName:b,nextLoc:c
},B}}}("object"==typeof a?a:"object"==typeof window?window:"object"==typeof self?self:this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[1]);var CanvasError=function(){};CanvasError.INCORRECT_TYPE="Interactive is not of correct type.";var Answers=function(){};Answers.CORRECT="Yes, that's correct!",Answers.INCORRECT="No, that's not right.",
Answers.INCORRECT_RETRY="No, that's not the right answer, try again. ";var Help=function(){};Help.resetText="Looks like you've already got the hang of this - keep going. Once you've finished, hit the 'Submit' button to check your answers. Need more help? Click 'reset' to restart the exercise and view the help (you will lose your progress).";var Errors=function(){};Errors.ERROR_LOADING_CANVAS="We're sorry, but this content cannot currently be loaded. ";
var Config=function(){};Config.IconTmeout=2e3;var CogPalette=function(){};CogPalette.CBGrey50="rgb(250, 250, 250)",CogPalette.CBGrey100="rgb(245, 245, 245)",CogPalette.CBGrey200="rgb(238, 238, 238)",CogPalette.CBGrey300="rgb(223, 223, 223)",CogPalette.CBGrey400="rgb(188, 188, 188)",CogPalette.CBGrey500="rgb(158, 158, 158)",CogPalette.CBGrey600="rgb(117, 117, 117)",CogPalette.CBGrey700="rgb(97, 97, 97)",
CogPalette.CBGrey800="rgb(66, 66, 66)",CogPalette.CBGrey900="rgb(33, 33, 33)",CogPalette.CBTrueBlack="rgb(0, 0, 0)",CogPalette.CBBlue50="rgb(225, 245, 254)",CogPalette.CBBlue100="rgb(179, 229, 252)",CogPalette.CBBlue30030="rgba(79, 195, 247,.3)",CogPalette.CBBlue300="rgb(79, 195, 247)",CogPalette.CBBlue500="rgb(3, 169, 244)",CogPalette.CBBlue600="rgb(3, 155, 229)",CogPalette.CBBlue60050="rgba(2,154,228,.1)",
CogPalette.CBBlue60080="rgba(2,154,228,.5)",CogPalette.CBBlue700="rgb(2, 136, 209)",CogPalette.CBBlue900="rgb(1, 87, 155)",CogPalette.ButtonBlue="rgb(1,54,95)",CogPalette.CBGreen50="rgb(241, 248, 233)",CogPalette.CBGreen100="rgb(220, 237, 200)",CogPalette.CBGreen300="rgb(174, 213, 129)",CogPalette.CBGreen30050="rgba(174, 213, 129,.5)",CogPalette.CBGreen500="rgb(139, 195, 74)",CogPalette.CBGreen600="rgb(124, 179, 66)",
CogPalette.CBGreen700="rgb(104, 159, 56)",CogPalette.CBGreen900="rgb(51, 105, 30)",CogPalette.CBRed50="rgb(251, 233, 231)",CogPalette.CBRed100="rgb(255, 204, 188)",CogPalette.CBRed300="rgb(255, 138, 101)",CogPalette.CBRed30050="rgba(255, 138, 101, .5)",CogPalette.CBRed500="rgb(255, 87, 34)",CogPalette.CBRed600="rgb(243, 81, 29)",CogPalette.CBRed60050="rgba(243, 81, 29, .1)",CogPalette.CBRed700="rgb(229, 73, 24)",
CogPalette.CBRed900="rgb(190, 53, 11)",CogPalette.CBYellow50="rgb(255, 248, 225)",CogPalette.CBYellow100="rgb(255, 236, 179)",CogPalette.CBYellow300="rgb(255,212,78)",CogPalette.CBYellow30050="rgba(255,212,78,.5)",CogPalette.CBYellow500="rgb(255, 193, 7)",CogPalette.CBYellow50050="rgba(255, 193, 7,.5)",CogPalette.CBYellow600="rgb(255, 179, 0)",CogPalette.CBYellow700="rgb(255, 160, 0)",CogPalette.CBYellow900="rgb(255, 110, 0)",
CogPalette.text=CogPalette.CBGrey800,CogPalette.textLink=CogPalette.CBBlue700,CogPalette.black=CogPalette.CBGrey800,CogPalette.white="rgb(255, 255, 255)",CogPalette.grey=CogPalette.CBGrey100,CogPalette.responseShadow=CogPalette.CBGrey200,CogPalette.submitButtonText="white",CogPalette.submitButton=CogPalette.CBBlue700,CogPalette.submitButtonHover="#0187D0",CogPalette.submitButtonDisabled="rgb(179, 229, 252)",
CogPalette.actionButtonText="#0187D0",CogPalette.actionButtonTextDisabled="white",CogPalette.actionButton="#EDEDED",CogPalette.actionButtonHover="#DFDFDF",CogPalette.actionButtonDown="rgb(225, 245, 254)",CogPalette.draggable="#EFF9FF",CogPalette.draggableBorder="#4EC2F6",CogPalette.draggable50="rgba(239,249,255,.5)",CogPalette.draggableBorder50="rgba(78,194,246,.5)",CogPalette.correct="rgb(220, 237, 220)",
CogPalette.correctBorder="rgb(104, 159, 56)",CogPalette.correct50="rgba(220,237,200,.5)",CogPalette.correct75="rgba(220,237,200,.75)",CogPalette.correctBorder50="rgba(104, 159, 56, .5)",CogPalette.correct_stroke=CogPalette.CBGreen700,CogPalette.correct_fill=CogPalette.CBGreen100,CogPalette.correct_font=CogPalette.CBGreen700,CogPalette.incorrect="#FFCCBC",CogPalette.incorrect50="rgba(255, 204, 188, .5)",
CogPalette.incorrect75="rgba(255, 204, 188, .75)",CogPalette.incorrectBorder="#E64A19",CogPalette.incorrectBorder50="rgba(230, 74, 25, .5)",CogPalette.incorrect_stroke=CogPalette.CBRed700,CogPalette.incorrect_fill=CogPalette.CBRed100,CogPalette.incorrect_font=CogPalette.CBRed700,CogPalette.help="rgb(105,45,145)",CogPalette.void=CogPalette.white,CogPalette.rollover_fill=CogPalette.CBGrey100,CogPalette.rollover_stroke=CogPalette.CBGrey900,
CogPalette.notification_info_stroke=CogPalette.CBBlue100,CogPalette.notification_info_fill=CogPalette.CBBlue100,CogPalette.notification_info_text=CogPalette.CBBlue700,CogPalette.notification_pass_stroke=CogPalette.CBGreen100,CogPalette.notification_pass_fill=CogPalette.CBGreen100,CogPalette.notification_pass_text=CogPalette.CBGreen700,CogPalette.notification_fail_stroke=CogPalette.CBRed100,CogPalette.notification_fail_fill=CogPalette.CBRed100,
CogPalette.notification_fail_text=CogPalette.CBRed700,CogPalette.feedback_button_fill=CogPalette.CBGreen700,CogPalette.feedback_button_stroke=CogPalette.white,CogPalette.feedback_text=CogPalette.CBGreen700,CogPalette.feedback_fill=CogPalette.CBGreen100,CogPalette.feedback_stroke=CogPalette.CBGreen700,CogPalette.informational_fill=CogPalette.CBBlue100,CogPalette.informational_stroke=CogPalette.CBBlue100,
CogPalette.informational_font_fill=CogPalette.CBBlue700,CogPalette.itemStrokeWidth=2,CogPalette.dnd_fill=CogPalette.CBBlue600,CogPalette.dnd_stroke=CogPalette.CBBlue600,CogPalette.dnd_active_fill=CogPalette.CBBlue700,CogPalette.dnd_active_stroke=CogPalette.CBBlue700,CogPalette.dnd_hover=CogPalette.CBBlue900,CogPalette.dnd_active_fill_inverse=CogPalette.white,CogPalette.dnd_active_stroke_inverse=CogPalette.black,
CogPalette.dnd_font=CogPalette.white,CogPalette.dock_stroke=CogPalette.CBBlue600,CogPalette.dnd_dock_hover=CogPalette.CBBlue700,CogPalette.dnd_fill_hover=CogPalette.CBBlue700,CogPalette.dnd_stroke_hover=CogPalette.CBBlue700,CogPalette.dnd_answer_stroke=CogPalette.CBGrey900,CogPalette.text_drag_here=CogPalette.CBBlue300,CogPalette.hotspot_fill=CogPalette.white,CogPalette.hotspot_stroke=CogPalette.CBBlue600,
CogPalette.hotspot_active_fill=CogPalette.CBBlue600,CogPalette.hotspot_active_stroke=CogPalette.CBBlue600,CogPalette.hotspot_active_font=CogPalette.white,CogPalette.hotZone_stroke=CogPalette.CBBlue700,CogPalette.connector_fill_active=CogPalette.CBBlue700,CogPalette.connector_stroke_active=CogPalette.CBBlue700,CogPalette.connector_void_fill=CogPalette.white,CogPalette.connector_fill=CogPalette.white,
CogPalette.connector_stroke=CogPalette.CBBlue600,CogPalette.connector_connected_fill=CogPalette.CBBlue100,CogPalette.connector_connected_stroke=CogPalette.CBBlue500,CogPalette.connector_answer_connected_fill=CogPalette.CBBlue100,CogPalette.connector_answer_connected_stroke=CogPalette.CBBlue500,CogPalette.connector_circle_stroke=CogPalette.CBBlue600,CogPalette.connector_connection_stroke=CogPalette.CBBlue500,
CogPalette.graph_plotpoint_fill=CogPalette.CBBlue600,CogPalette.paletteButtonHover=CogPalette.CBGrey500,CogPalette.paletteButton=CogPalette.CBGrey700,CogPalette.wholeSelectionFill="rgba(3, 155, 229, .2)",CogPalette.wholeSelectionStroke="rgb(3, 155, 229)",CogPalette.partialSelectionFill="rgba(124, 179, 66, .2)",CogPalette.partialSelectionStroke="rgb(124, 179, 66)",CogPalette.responseBoxFillDrag="rgba(239,249,255,.5)",
CogPalette.responseBoxStrokeDrag="rgba(78,194,246,.5)",CogPalette.responseBoxFill="rgba(239,249,255,1)",CogPalette.responseBoxStroke="rgba(78,194,246,1)",CogPalette.dockingBoxFillDrag="rgba(220,237,200,.2)",CogPalette.dockingBoxStrokeDrag="rgba(104, 159, 56,.5)",CogPalette.dockedBoxFillDrag="rgba(220,237,200,1)",CogPalette.dockedBoxStrokeDrag="rgba(104, 159, 56,1)",CogPalette.dockingBoxFill="rgba(220,237,200,1)",
CogPalette.dockingBoxStroke="rgba(104, 159, 56,1)",CogPalette.answerBoxFillDrag="rgba(255, 236, 179,.2)",CogPalette.answerBoxStrokeDrag="rgba(255,212,78, .5)",CogPalette.answerBoxFill="rgba(255, 248, 225,1)",CogPalette.answerBoxStroke="rgba(255,212,78, 1)",CogPalette.inlineMenuBackground=CogPalette.CBGrey100,CogPalette.inlineMenuBorder=CogPalette.CBGrey500,CogPalette.point_handle_stroke=CogPalette.CBGrey500;
var ContrastPalette=function(){this.itemStrokeWidth=4,this.notification_info_stroke="black",this.notification_info_text="black",this.notification_pass_stroke="black",this.notification_pass_text="black",this.notification_fail_stroke="black",this.notification_fail_text="black",this.feedback_text=CogPalette.CBGreen700,this.dnd_fill="white",this.dnd_stroke="black",this.dnd_active_fill="black",this.dnd_active_stroke="white",
this.dnd_font="black",this.hotspot_fill="white",this.hotspot_active_fill="black",this.hotspot_stroke="black",this.hotspot_active_stroke="white"},SelectionType={Box:0,Line:1,Circle:2,MultiLine:3},ConnectionType=function(){};ConnectionType.DISCONNECTED=0,ConnectionType.CONNECTING=1,ConnectionType.CONNECTED=2;var PeaPalette=function(){this.blue="rgb(1,54,95)",this.dnd="rgb(1,54,95)",this.dragging="rgb(1,54,95)",
this.dnd_hover="rgb(1,54,95)",this.dnd_fill=this.blue,this.dnd_stroke=this.blue,this.dnd_dragging=this.blue,this.dnd_hover=this.blue,this.dnd_dock_hover=this.blue,this.dnd_fill_hover=this.blue,this.dnd_stroke_hover=this.blue,this.dnd_active_fill=this.blue,this.dnd_active_stroke=this.blue,this.dock_stroke=this.blue,this.text_drag_here=this.blue,this.hotspot_active_fill="rgb(1,54,95)",this.hotspot_active_stroke="rgb(1,54,95)",
this.hotspot_active_font=this.white,this.hotspot_font="rgb(1,54,95)",this.hotspot_stroke="rgb(1,54,95)",this.connector_fill_active=this.blue,this.connector_stroke_active=this.blue,this.connector_void_fill=this.blue,this.connector_fill="white",this.connector_stroke=this.blue,this.connector_circle_stroke=this.blue,this.connector_connection_stroke=this.blue,this.connector_stroke=this.blue,this.connector_connected_stroke=this.blue,
this.connector_answer_connected_stroke=this.blue},Position=function a(b,c){_classCallCheck(this,a),this.x=b||0,this.y=c||0},_createClass=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),Shape=function(){function a(b){
_classCallCheck(this,a),this.position=b||new Position(0,0),this.menuXOffset=0,this.selectable=!0,this.dragOffset=new Position(0,0),this.selector=void 0,this.solidified=!1}return _createClass(a,[{key:"getPosition",value:function(){var a=this.position.x,b=this.position.y,c=new Position(0,0);return this.parent&&(c=this.parent.getPosition()),a+=c.x,b+=c.y,{x:a,y:b}}},{key:"clone",value:function(a,b){var c,d=this.constructor,e={
x:this.position.x+50,y:this.position.y+50};if(c=new d(e),c=$.extend(!0,c,this),c.selector=void 0,c.shapeType===ShapeType.VECTOR&&(c.startPosition.x+=50,c.startPosition.y+=50,c.selectionType===SelectionType.Line&&(c.endPosition.x+=50,c.endPosition.y+=50)),c.position={},c.position={x:0,y:0},c.position.x=e.x<600?e.x+30:e.x-30,c.position.y=e.y<600?e.y+30:e.y-30,c.dragOffset={x:0,y:0},c.menuContainer=void 0,
c.createMenu(a,b,c.menus),c.connector&&(e={x:c.position.x+.75*c.xLength,y:c.position.y+c.yLength},"ConnectCircle"===this.connector.itemType?c.connector=new ConnectCircle(c,e,c.fillStyle,c.strokeStyle):c.connector=new ConnectCircleMultiple(c,e,this.connector.connectionType,c.fillStyle,c.strokeStyle),c.dockTarget=void 0,c.connector.arc=2,c.connectionState=ConnectionType.DISCONNECTED,c.repositionConnector()),
c.text&&(c.text=void 0,c.textEditor=void 0,c.addText()),c.image){var f=new MenuHandler;f.addImageOptions(c)}return[c]}},{key:"solidify",value:function(){this.solidified=!0}},{key:"getChain",value:function(a){return this.child&&(this.child.getChain(a),a.push(this.child)),a}},{key:"isSelectable",value:function(){return this.selectable}},{key:"createMenu",value:function(a,b,c){this.uid=b,this.menuList=[];
var d=document.getElementById("canvasContainer");this.menuContainer=document.createElement("div"),this.menuContainer.name="menuContainer"+b,this.menuContainer.setAttribute("id",this.menuContainer.name),this.menuContainer.setAttribute("class","menuContainer"),this.menuContainer.style.display="none",this.menuContainer.style.zIndex=9e3,this.menuContainer.style.top=this.position.y-this.menuOffset+"px",
this.menuContainer.style.left=this.position.x-this.menuXOffset+"px",this.menuContainer.addEventListener("mousemove",function(){editor.workSheet.mouseOverElements=[]}),d.appendChild(this.menuContainer),this.menu=document.createElement("div"),this.menu.name="menu"+b,this.menu.setAttribute("id",this.menu.name),this.menu.setAttribute("class","menu"),this.menu.style.display="block",this.menu.style.zIndex=b,
this.menu.style.margin=0,this.menuContainer.appendChild(this.menu),this.addMenus(c,b)}},{key:"addMenus",value:function(a,b){for(var c,d=new MenuHandler,e=0;e<a.length;e++)c=document.createElement("div"),c.type=a[e],c.name=c.type+b,c.setAttribute("id",c.name),c.setAttribute("class","menuItem"),d.addMenuOption(a[e],this,c,this.stylable),this.menu.appendChild(c),this.menuList.push(c)}},{key:"hideMenus",
value:function(){for(var a=0;a<this.menus.length;a++)this.menuList[a].style.display="none","style"===this.menus[a]&&($("#ccpstrokeStyle"+this.menuList[a].name).hide(),$("#ccpfillStyle"+this.menuList[a].name).hide())}},{key:"toggleMenu",value:function(a){$(a).toggle()}},{key:"setMenus",value:function(){this.hideMenus(),(this.image||this.hasImage)&&this.menus.indexOf("image")>-1&&(this.menuList[this.menus.indexOf("image")].style.display="block"),
this.stylable&&this.menus.indexOf("style")>-1&&(this.menuList[this.menus.indexOf("style")].style.display="block"),this.hasContent&&this.menus.indexOf("content")>-1?this.menuList[this.menus.indexOf("content")].style.display="block":!this.noContent&&this.menus.indexOf("clear")>-1&&(this.menuList[this.menus.indexOf("clear")].style.display="block")}},{key:"setOriginalPosition",value:function(){this.origin={
x:this.position.x,y:this.position.y}}},{key:"clearContent",value:function(){var a=document.getElementById("canvasContainer");this.hasContent=!1,this.image&&(this.image=void 0,this.keepRatio=!1,this.sizeRatio=1,this.verticalAlignment="top"),this.text&&(a.removeChild(this.text),this.text=void 0),this.rollover&&this.rollover.remove(a),this.setMenus()}},{key:"deselect",value:function(){this.rollover?(this.showRollover=!1,
this.rollover.text.style.display="none"):this.isRollover&&(this.parent.showRollover=!1,this.text.style.display="none"),this.menu&&(this.menuContainer.style.display="none"),this.text&&(this.text.style.background="none",this.textEditor.caretVisible=!1,$("#"+this.text.name+" textarea").blur())}},{key:"isResizable",value:function(){return!0}},{key:"mouseUp",value:function(a,b){this.selector&&this.selector.clearHandles(),
a&&this.menuContainer&&(this.setMenus(b),this.repositionMenu&&this.repositionMenu(),this.menuContainer.style.display="block")}},{key:"moveRollover",value:function(a){var b={x:this.rollover.position.x-a.x,y:this.rollover.position.y-a.y};this.rollover.position={x:this.position.x+b.x,y:this.position.y+b.y},this.rollover.text&&(this.rollover.text.style.left=this.rollover.position.x+10+"px",this.rollover.text.style.top=this.rollover.position.y+10+"px");
}},{key:"mouseDown",value:function(){}},{key:"mouseOver",value:function(){return[]}},{key:"remove",value:function(a){this.text&&this.textEditor.selectedRange().end-this.textEditor.selectedRange().start===0&&a.removeChild(this.text),this.menuContainer&&a.removeChild(this.menuContainer),this.rollover&&this.rollover.remove(a)}},{key:"setOffset",value:function(a){this.dragOffset.x=a.x-this.position.x,this.dragOffset.y=a.y-this.position.y;
}}]),a}(),Geometry=function(){};Geometry.minLineDistance=6,Geometry.oneDimensional=1,Geometry.twoDimensional=2;var ShapeType=function(){};ShapeType.VECTOR=0,ShapeType.RECTILINEAR=1,ShapeType.CIRCULAR=2;var Direction=function(){};Direction.UP=0,Direction.DOWN=1,Direction.LEFT=2,Direction.RIGHT=3;var _createClass=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,
d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),Button=function(){function a(b,c,d,e){_classCallCheck(this,a),this.position=c,this.text=d,this.buttonType=e,this.fontColor=CogPalette.white,this.fillStyle=CogPalette.CBGrey500,this.radius=2,this.yOffset=24,this.depressed=!1,b.font='14px "Open Sans"',this.fontLength=24+b.measureText(this.text).width,
this.xLength=24+this.fontLength,this.yLength=36}return _createClass(a,[{key:"draw",value:function(a){a.beginPath(),a.moveTo(this.position.x+this.radius,this.position.y),a.lineTo(this.position.x+this.xLength-this.radius,this.position.y),a.quadraticCurveTo(this.position.x+this.xLength,this.position.y,this.position.x+this.xLength,this.position.y+this.radius),a.lineTo(this.position.x+this.xLength,this.position.y+this.yLength-this.radius),
a.quadraticCurveTo(this.position.x+this.xLength,this.position.y+this.yLength,this.position.x+this.xLength-this.radius,this.position.y+this.yLength),a.lineTo(this.position.x+this.radius,this.position.y+this.yLength),a.quadraticCurveTo(this.position.x,this.position.y+this.yLength,this.position.x,this.position.y+this.yLength-this.radius),a.lineTo(this.position.x,this.position.y+this.radius),a.quadraticCurveTo(this.position.x,this.position.y,this.position.x+this.radius,this.position.y),
this.depressed?a.fillStyle=CogPalette.CBBlue900:a.fillStyle=this.fillStyle,a.fill(),a.textAlign="center",a.font="14px Open Sans",a.fillStyle=this.fontColor,a.fillText(this.text,this.position.x+this.xLength/2,this.position.y+this.yOffset),a.textAlign="left"}},{key:"mouseMove",value:function(a,b,c){c.hasOwnProperty("answered")&&c.answered===!0||!this.buttonType&&c.submitable&&(boxIsHit(this,b)?this.fillStyle=CogPalette.submitButtonHover:this.fillStyle=CogPalette.submitButton);
}},{key:"mouseDown",value:function(a,b,c){c.hasOwnProperty("answered")&&c.answered===!0||!this.buttonType&&c.submitable&&boxIsHit(this,b)&&(this.depressed=!0)}},{key:"mouseUp",value:function(a,b,c){boxIsHit(this,b)&&(this.depressed=!1),c.hasOwnProperty("answered")&&c.answered===!0&&(this.fillStyle=CogPalette.submitButtonDisabled)}},{key:"unregister",value:function(){this.depressed=!1}}]),a}(),_createClass=function(){
function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),CanvasObject=function(){function a(b,c,d,e){_classCallCheck(this,a),this.attempts=0,this.answered=!1,this.rightAnswer=!1,this.showFeedback=!1,this.feedbackBasis=-1,this.showFeedbackButton=!1,
this.switchButton=void 0,this.showFinalFeedback=!1,this.canvasNumber=c,this.canvasHeight=0,this.rollcontent=[],this.rollovers=[],this.feedback=[],this.drawElements=[],this.notifications=void 0,this.currentTime=new Date,this.lastTime=new Date,this.startTimer=void 0,this.imageCount=0,this.imageLoadedCount=0,this.loaded=!1,this.canvas=b,this.context=b.getContext("2d"),e||(e={}),this.palette=CogPalette,
this.checkContrast()||e.setContrast,e.datapath&&(DataPath.canvasURL=e.datapath+DataPath.canvasServlet,DataPath.imageuploadURL=e.datapath+DataPath.imageuploadServlet,DataPath.imageURL=e.datapath+DataPath.imageServlet,DataPath.images=e.datapath+DataPath.imagePath,DataPath.supportImages=e.datapath+DataPath.supportImagePath),d&&this.setPaletteOptions(d);for(var f=document.getElementsByTagName("body")[0],g=document.getElementsByClassName("canvasDynamic");g.length>0;)f.removeChild(g[0]);
this.setupCanvas(this.canvas),this.addListeners()}return _createClass(a,[{key:"getScaleFactor",value:function(){var a=this.canvas.getContext("2d"),b=window.devicePixelRatio||1,c=a.webkitBackingStorePixelRatio||a.mozBackingStorePixelRatio||a.msBackingStorePixelRatio||a.oBackingStorePixelRatio||a.backingStorePixelRatio||1;return b/c}},{key:"removeDynamicElements",value:function(){for(var a=document.getElementsByTagName("body")[0],b=document.getElementsByClassName("canvasDynamic");b.length>0;)a.removeChild(b[0]);
}},{key:"setupCanvas",value:function(a,b){var c,d=1;c=a.getContext("2d");var e=window.devicePixelRatio||1,f=c.webkitBackingStorePixelRatio||c.mozBackingStorePixelRatio||c.msBackingStorePixelRatio||c.oBackingStorePixelRatio||c.backingStorePixelRatio||1;d=e/f,d<1&&(d=1);var g=a.width,h=a.height;a.width=g*d,a.height=h*d,a.style.width=g+"px",a.style.height=h+"px",a.scaleFactor=d,this.canvasHeightNumber=h,
d>1&&c.scale(d,d)}},{key:"clear",value:function(a){a.clearRect(0,0,this.canvas.width,this.canvas.height)}},{key:"imageLoaded",value:function(){this.imageLoadedCount++,this.imageLoadedCount>=this.imageCount&&(this.loaded=!0)}},{key:"drawLoading",value:function(){this.loadScreen(),this.loaded?(this.loadElement&&this.canvas.parentNode.removeChild(this.loadElement),this.addDescription(this.canvasData.canvas.canvasdescription),
this.draw()):window.requestAnimationFrame(this.drawLoading.bind(this))}},{key:"loadScreen",value:function(){this.clear(this.context),this.context.font="20px Open Sans",this.context.fillStyle=CogPalette.CBBlue700,this.context.textAlign="center",this.context.fillText("Loading...",368,this.canvasHeight/2+100)}},{key:"copyText",value:function(a,b,c){var d=new Text(b.text.position,b.text.textAlign,c),e=!0,f=!1,g=void 0;
try{for(var h,i=b.text.textArray[Symbol.iterator]();!(e=(h=i.next()).done);e=!0){var j=h.value,k=new TextItem(a,j.value,{x:j.position.x,y:j.position.y},j.fontSize,this.palette.correctBorder,j.fontStyle,j.align,j.font,j.noWrap,j.underline,j.scriptStyle,j.indent);d.addItem(k)}}catch(a){f=!0,g=a}finally{try{!e&&i.return&&i.return()}finally{if(f)throw g}}return d}},{key:"checkContrast",value:function(){
var a,b;return a=document.createElement("div"),a.style.color="rgb(31, 41, 59)",document.body.appendChild(a),b=document.defaultView?document.defaultView.getComputedStyle(a,null).color:a.currentStyle.color,b=b.replace(/ /g,""),document.body.removeChild(a),"rgb(31,41,59)"!==b}},{key:"sendResponse",value:function(a){if(this.useJSONResponse);else try{"success=true"===a?parent.parent.setConceptSliderSts(100):parent.parent.setConceptSliderSts(0);
}catch(a){}}},{key:"setPaletteOptions",value:function(a){for(var b in a)this.palette[b]=a[b]}},{key:"setup",value:function(a){a&&(isJSON(a)&&(a=JSON.parse(a)),a.response&&(this.useJSONResponse=!0)),a=a||{},this.canvasPos=getAbsPosition(this.canvas),this.setupImages(),this.eventManager=new EventManager(["mouseDown","mouseMove","mouseUp"]),this.textLoader=new TextLoader;var b="loadCanvas=true&dynamic=true&canvasNumber="+this.canvasNumber;
a.canvasHistoryNumber&&(b+="&canvasHistoryNumber="+a.canvasHistoryNumber);var c=window.navigator.userAgent,d=(c.indexOf("MSIE ")||c.indexOf("Trident"))>-1?1:0;d>0&&$.ajax({url:DataPath.canvasURL,data:"ie=true",type:"GET",success:function(a){}}),$.ajax({url:DataPath.canvasURL,type:"POST",dataType:"json",data:b,async:!0,error:this.configurePlaceholderCanvas.bind(this),success:this.configure.bind(this,a)
})}},{key:"setupImages",value:function(){this.faCheck=new Image,this.faExclamation=new Image,this.faEllipsis=new Image,this.faEllipsisResponse=new Image,this.faCheck.src=DataPath.supportImages+"/fa-check.png",this.faEllipsis.src=DataPath.supportImages+"/fa-ellipsis-h.png",this.faEllipsisResponse.src=DataPath.supportImages+"/fa-ellipsis-hh.png",this.faExclamation.src=DataPath.supportImages+"/fa-exclamation.png";
}},{key:"configure",value:function(a,b){this.setButtons(),a&&this.configureFeedback(b),this.resize()}},{key:"setButtons",value:function(){this.submitButton=new Button(this.context,{x:0,y:this.canvasHeight+50},"Submit"),this.submitButton.fillStyle=this.palette.submitButtonDisabled,this.reset||(this.notificationBar=new VContainer(this.context,{x:120,y:this.canvasHeight+50},450,36,2,this.palette.notification_info_fill,this.palette.notification_info_stroke),
this.notifications=new Label(this.context,"",{x:10,y:20},this.palette.notification_info_text,this.notificationBar),this.notifications.labelText=this.notificationText,this.notifications.font="10pt Open Sans"),this.gotItButton=new Button(this.context,{x:200,y:this.canvasHeight-60},"Got It"),this.gotItButton.fillStyle="rgb(105,45,145)",this.gotItButton.strokeStyle=this.palette.white}},{key:"addDescription",
value:function(a){var b=document.createElement("div");b.style.position="absolute",b.style.width="736px",b.style.height=this.canvasHeight+"px",b.style.zIndex=-1,b.setAttribute("alt",a),this.canvas.parentNode.insertBefore(b,this.canvas.nextSibling)}},{key:"addLoadingElement",value:function(){this.loadElement=document.createElement("i"),this.loadElement.setAttribute("class","fa fa-spin fa-spinner fa-4x"),
this.loadElement.setAttribute("aria-hidden","true"),this.loadElement.style.position="absolute",this.loadElement.style.left="334px",this.loadElement.style.top=this.canvasHeight/2+"px",this.loadElement.style.color=CogPalette.CBBlue700,this.canvas.parentNode.insertBefore(this.loadElement,this.canvas.nextSibling)}},{key:"configurePlaceholderCanvas",value:function(a,b){var c=new ClientBox(this.context,{
x:10,y:10},736,200,this.palette.CBGrey200,null,0),d=new Label(this.context,Errors.ERROR_LOADING_CANVAS+b,{x:10,y:20},this.palette.CBGrey700,c);c.draw(this.context),d.draw(this.context)}},{key:"addHelp",value:function(){this.resetPanel=new VContainer(this.context,{x:100,y:this.canvasHeight-150},536,150,2,CogPalette.CBGrey100),this.resetLabel=new Label(this.context,Help.resetText,{x:20,y:40},CogPalette.help,this.resetPanel),
this.resetButton=new Button(this.context,{x:220,y:this.canvasHeight-50},"reset"),this.resetButton.fillStyle=CogPalette.help,this.resetGotItButton=new Button(this.context,{x:120,y:this.canvasHeight-50},"Got it"),this.resetGotItButton.fillStyle=CogPalette.help,this.closeHelp=new Image,this.closeHelp.src=DataPath.supportImages+"/fa-times.png",this.resetCloseHitBox={position:{x:618,y:this.canvasHeight-142
},xLength:12,yLength:12}}},{key:"drawResetHelp",value:function(){this.resetPanel.draw(this.context),this.resetLabel.draw(this.context),this.resetButton.draw(this.context),this.resetGotItButton.draw(this.context),this.context.drawImage(this.closeHelp,618,this.canvasHeight-142,12,12)}},{key:"setUserOptions",value:function(a){a.dynamic&&this.addScriptReferences(),a.attempts&&(this.attempts=this.attempts||Number(a.attempts),
this.setAttemptWording(a.attempts),this.notifications.labelText=this.notificationText),a.redirectOnAttempt&&(this.redirectOnAttempt=!0),a.responses&&a.loadSavedState&&(this.setUserResponses(a.responses,a.loadSavedState),this.submitable=!0,this.submitButton.fillStyle=this.palette.submitButton,a.assess&&(a.correct||this.attempts>=this.attemptThreshold)&&this.submit(!0))}},{key:"addScriptReferences",value:function(){
this.canvasData.js}},{key:"setUserResponses",value:function(a,b){}},{key:"resize",value:function(a){this.canvas.height=a?this.canvasHeight:this.canvasHeight+120,this.canvas.width=this.canvas.style.width.substring(0,this.canvas.style.width.length-2),this.setupCanvas(this.canvas),this.resizeCanvas()}},{key:"configureFeedback",value:function(a){a=a||0,this.feedback.length>1?this.feedbackBasis=4:this.feedbackBasis=this.feedback[0].attempts,
this.feedbackButton=new Button(this.context,{x:580,y:this.canvasHeight+50},"Hint"),this.feedbackBox=new VContainer(this.context,{x:150,y:this.canvasHeight/2-.4*this.canvasHeight},436,150,2,this.palette.feedback_fill),this.feedbackLabel=new Label(this.context,"text",{x:10,y:40},this.palette.feedback_text,this.feedbackBox),this.feedbackTitle=new Label(this.context,"Hint:",{x:10,y:20},this.palette.text,this.feedbackBox),
this.feedbackBox.visible=!1,this.feedbackGotItButton=new Button(this.context,{x:490,y:this.feedbackBox.position.y+this.feedbackBox.yLength-45},"Got It"),this.feedbackButton.fillStyle=this.palette.feedback_button_fill,this.feedbackButton.strokeStyle=this.palette.feedback_button_stroke,this.feedbackGotItButton.fillStyle=this.palette.feedback_button_fill;var b=0;if(this.feedback.length){for(var c=0;c<this.feedback.length-1;c++){
var d=this.feedback[c];d.parent=this.feedbackBox,d.position.y+=40;var e=d.textArray[d.textArray.length-1].position.y+d.textArray[d.textArray.length-1].fontSize;b=e>b?e:b}this.feedbackBox.yLength=b>this.feedbackBox.yLength-60?b+120:this.feedbackBox.yLength}this.feedbackGotItButton.position.y=this.feedbackBox.position.y+this.feedbackBox.yLength-45,this.finalFeedbackBox=new VContainer(this.context,{x:0,
y:this.canvasHeight+100+a},736,0,2,this.palette.feedback_fill),this.finalFeedbackTitle=new Label(this.context,"Instructor's Feedback",{x:10,y:20},this.palette.text,this.finalFeedbackBox),this.finalFeedbackText=this.feedback[this.feedback.length-1],this.finalFeedbackText.parent=this.finalFeedbackBox,this.finalFeedbackText.position.y+=30,3===this.feedbackBasis&&(this.feedbackLabel.labelText=this.feedback[0].textArray[0].value);
}},{key:"setData",value:function(a){this.formData=a}},{key:"setOptions",value:function(a){a.attempts?(this.attemptThreshold=this.attempts||a.attempts,this.setAttemptWording(this.attemptThreshold)):this.attemptWord=" attempt(s) "}},{key:"setAttemptWording",value:function(a){var b=a>1?" attempts ":" attempt ";this.notificationText="You have "+a+b+"at this question."}},{key:"setupElements",value:function(a){
for(var b,c,d=0;d<a.length;d++){var e=a[d],f={};if(e.contentType>1&&"FeedbackItem"!==e.canvasItemType&&this.itemCount++,"Box"===e.canvasItemType){if(f=new ClientBox(this.context,{x:e.itemX,y:e.itemY},e.itemXOffset,e.itemYOffset,e.fillStyle,e.strokeStyle,e.lineWidth),1===e.contentType)f.text=this.textLoader.processText(this.context,f,JSON.parse(e.content),e.itemAlignment);else if(2===e.contentType)f.addImage(this.context,e.content,this);else if(3===e.contentType){
var g=JSON.parse(e.content);f.text=this.textLoader.processText(this.context,g.text,e.itemAlignment),f.addImage(this.context,g.image,this)}f.rollIndex=e.rollIndex,f.rollIndex&&(this.rollcontent.push(f),f.showRollover=!0),this.drawElements.push(f)}else if("Line"===e.canvasItemType)f=new ClientLine({x:e.itemX,y:e.itemY}),f.endPosition={x:e.itemXOffset,y:e.itemYOffset},f.fillStyle=e.fillStyle,f.strokeStyle=e.strokeStyle,
f.lineWidth=e.lineWidth,this.drawElements.push(f);else if("Arrow"===e.canvasItemType)f=new ClientArrow({x:e.itemX,y:e.itemY}),f.endPosition={x:e.itemXOffset,y:e.itemYOffset},f.fillStyle=e.fillStyle,f.strokeStyle=e.strokeStyle,f.lineWidth=e.lineWidth,e.contentType>0&&(f.forceSize=!0,f.size=Number(e.content)),this.drawElements.push(f);else if("Circle"===e.canvasItemType)f=new ClientCircle({x:e.itemX,
y:e.itemY},e.itemXOffset,e.fillStyle,e.strokeStyle,e.lineWidth),this.drawElements.push(f);else if("Pen"===e.canvasItemType){f=new ClientPen({x:e.itemX,y:e.itemY});var h=JSON.parse(e.content);f.strokeStyle=e.strokeStyle,f.lineWidth=e.lineWidth;for(var i=0;i<h.length;i++)f.points.push({x:h[i].x+f.position.x,y:h[i].y+f.position.y});this.drawElements.push(f)}else if("FeedbackItem"===e.canvasItemType){b=JSON.parse(e.content);
var j={size:9,xLength:436};c=this.textLoader.processText(this.context,j,b,0,this.palette.feedback_text),c.attempts=e.contentType,this.feedback.push(c)}f.itemOrder=a[d].itemOrder}if(this.feedback.length){var k={size:9,xLength:736},l=c.attempts;b.lineSpacing=1,this.feedback[this.feedback.length-1]=this.textLoader.processText(this.context,k,b,0,this.palette.feedback_text),this.feedback[this.feedback.length-1].attempts=l;
}this.imageCount||(this.loaded=!0)}},{key:"drawBottomLine",value:function(){this.context.lineWidth=1,this.context.strokeStyle=this.palette.CBGrey400,this.context.beginPath(),this.context.moveTo(0,this.canvasHeight+30),this.context.lineTo(736,this.canvasHeight+30),this.context.stroke()}},{key:"submit",value:function(a,b){var c;if(this.displayHelp=!1,!this.answered)if(this.attempts++,this.rightAnswer=this.checkAnswers(),
this.setData(this.rightAnswer),this.iconTime=new Date,this.feedbackBasis&&this.feedbackBasis>1&&(this.feedback.length>1?this.feedbackLabel=this.feedback[this.attempts-1]:this.feedbackLabel=this.feedback[0]),this.rightAnswer)this.respond=!0,this.answered=!0,this.notifications.labelText=Answers.CORRECT,this.notificationBar.fillStyle=this.palette.notification_pass_fill,this.notificationBar.strokeStyle=this.palette.notification_pass_stroke,
this.notifications.fontColor=this.palette.notification_pass_text,this.help&&(c=document.getElementsByTagName("body")[0],c.removeChild(document.getElementById("interactiveHelpButton"))),this.notificationBar.xLength-=100,this.showFeedbackButton=!1,2===this.feedbackBasis&&(this.showFinalFeedback=!0);else if(this.attempts>=this.attemptThreshold)this.respond=!0,this.answered=!0,this.notifications.labelText=Answers.INCORRECT,
this.notificationBar.fillStyle=this.palette.notification_fail_fill,this.notificationBar.strokeStyle=this.palette.notification_fail_stroke,this.notifications.fontColor=this.palette.notification_fail_text,c=document.getElementsByTagName("body")[0],this.help&&c.removeChild(document.getElementById("interactiveHelpButton")),this.notificationBar.xLength-=100,this.feedbackBasis>0&&(this.showFinalFeedback=!0),
b&&b();else{this.respond=this.redirectOnAttempt,this.feedbackBasis>2&&(this.showFeedbackButton=!0);var d=this.attemptThreshold-this.attempts>1?" attempts ":" attempt ";this.notifications.labelText=Answers.INCORRECT_RETRY+"("+(this.attemptThreshold-this.attempts)+d+"remaining).",b&&b()}this.respond&&!a&&this.sendResponse(this.prepareResponse()),this.answered&&(this.rightAnswer&&(2===this.feedbackBasis||4===this.feedbackBasis&&this.feedback[this.feedback.length-1].text)?this.addFinalFeedback():!this.rightAnswer&&(this.feedbackBasis>0||4===this.feedbackBasis&&this.feedback[this.feedback.length-1].text)&&this.addFinalFeedback(),
this.eventManager.unregister(this.submitButton),this.submitButton.fillStyle=this.palette.submitButtonDisabled)}},{key:"prepareResponse",value:function(){return this.useJSONResponse?this.prepareJSONResponse():"success="+this.rightAnswer}},{key:"prepareJSONResponse",value:function(){}},{key:"toggleAnswers",value:function(){this.answered&&this.switchButton.toggleSwitch()}},{key:"resizeCanvas",value:function(){
var a;try{var b=this.canvasHeightNumber;""===opener.currentObj.bpath?("block"===opener.$("#actCntIframe").contents().find("#iframe1").css("display")?(opener.$("#actCntIframe").contents().find("#iframe1").height(b),a=opener.$("#actCntIframe").contents().find("iframe")[0],a.height=b):a=opener.$("#actCntIframe").contents().find("iframe")[0],a.height=b):(a=opener.$("#actCntIframe_child").contents().find("iframe")[0],
a.height=b),opener.onresize()}catch(a){}}},{key:"hotImageMouseOver",value:function(a,b,c){for(var d=a.getContext("2d"),e=!1,f=b.length-1;f>=0;f--)if(boxIsHit(b[f],c))try{d.clearRect(0,0,736,670),d.drawImage(b[f].image,b[f].position.x,b[f].position.y,b[f].xLength,b[f].yLength);var g=d.getImageData(c.x,c.y,1,1).data;255!==g[3]||e?b[f].mouseOver=!1:(b[f].mouseOver=!0,e=!0)}catch(a){b[f].mouseOver=!1}else b[f].mouseOver=!1;
}},{key:"showHelp",value:function(a){this.answered&&"off"!==this.displayHelp||(this.displayHelp="off"!==a&&!this.displayHelp,this.displayHelp?document.getElementById("interactiveHelpButton").style.color="rgb(105,45,145)":document.getElementById("interactiveHelpButton").style.color="")}},{key:"drawFeedback",value:function(){this.showFeedbackButton&&this.feedbackButton.draw(this.context),this.showFeedback?(this.context.globalAlpha=.9,
this.context.fillStyle=this.palette.white,this.context.fillRect(0,0,736,this.canvasHeight+30),this.context.globalAlpha=1,this.feedbackBox.draw(this.context),this.feedbackLabel.draw(this.context),this.feedbackTitle.draw(this.context),this.feedbackGotItButton.draw(this.context)):this.showFinalFeedback&&(this.finalFeedbackBox.draw(this.context),this.finalFeedbackTitle.draw(this.context),this.finalFeedbackText.draw(this.context));
}},{key:"addFinalFeedback",value:function(){var a=this.feedback[this.feedback.length-1];if(a.textArray.length>0){var b=a.textArray[a.textArray.length-1].position.y+a.textArray[a.textArray.length-1].fontSize;b+=100,this.finalFeedbackBox.yLength=b,this.canvas.height=this.canvasHeight+b+110,this.canvas.width=this.canvas.style.width.substring(0,this.canvas.style.width.length-2),this.setupCanvas(this.canvas,!0),
this.resizeCanvas()}else this.showFinalFeedback=!1}},{key:"drawHelpArrow",value:function(a){this.context.strokeStyle="rgb(105,45,145)",this.context.fillStyle="rgb(105,45,145)",this.context.lineWidth=9,this.context.beginPath(),this.context.moveTo(this.help[a].startPoint.x,this.help[a].startPoint.y),this.context.bezierCurveTo(this.help[a].control1.x,this.help[a].control1.y,this.help[a].control2.x,this.help[a].control2.y,this.help[a].endPoint.x,this.help[a].endPoint.y),
this.context.stroke(),this.context.beginPath(),this.context.moveTo(this.help[a].arrow[0].x,this.help[a].arrow[0].y),this.context.lineTo(this.help[a].arrow[1].x,this.help[a].arrow[1].y),this.context.lineTo(this.help[a].arrow[2].x,this.help[a].arrow[2].y),this.context.lineTo(this.help[a].arrow[0].x,this.help[a].arrow[0].y),this.context.closePath(),this.context.stroke(),this.context.fill()}},{key:"repositionTextForAnswer",
value:function(a){if(!a.shifted){for(var b=0;b<a.text.textArray.length;b++)"center"===a.text.textArray[b].align?a.text.textArray[b].position.x+=8:a.text.textArray[b].position.x+=10;a.shifted=!0}}},{key:"resetWithHelp",value:function(){var a=document.getElementsByTagName("body")[0];a.removeChild(document.getElementById("interactiveHelpButton")),this.limitedHelp=!1,this.displayHelp=!0,this.reset=!0,this.helpStage=0,
this.configure(this.userOptions,this.canvasData),this.dragging=!1}},{key:"getData",value:function(){return this.formData}},{key:"mouseUp",value:function(a){}},{key:"mouseDown",value:function(a){this.limitedHelp&&this.displayHelp&&(boxIsHit(this.resetButton,a)&&this.resetWithHelp(),(boxIsHit(this.resetCloseHitBox,a)||boxIsHit(this.resetGotItButton,a))&&this.showHelp("off"))}},{key:"mouseMove",value:function(){}
},{key:"keyDown",value:function(a){}},{key:"touchEnd",value:function(a){this.touchOffset=20,a.preventDefault();var b=a.changedTouches;this.lastPos=b[b.length-1];var c=getTouchPos(this.canvas,this.lastPos);this.dragging?this.mouseUp(c)&&(this.dragging=!1):this.mouseDown(c)}},{key:"touchMove",value:function(a){a.preventDefault();var b=a.changedTouches,c=getTouchPos(this.canvas,b[0]);this.dragging?this.mouseMove(c):this.mouseDown(c);
}},{key:"addListeners",value:function(){this.canvas.addEventListener("mousemove",function(a){this.mouseMove(getMousePos(this.canvas,a))}.bind(this)),this.canvas.addEventListener("mousedown",function(a){this.mouseDown(getMousePos(this.canvas,a))}.bind(this)),this.canvas.addEventListener("mouseup",function(a){this.mouseUp(getMousePos(this.canvas,a))}.bind(this)),document.addEventListener("keydown",function(a){
this.keyDown(a.key)}.bind(this)),this.canvas.addEventListener("touchmove",this.touchMove.bind(this),!1),this.canvas.addEventListener("touchend",this.touchEnd.bind(this),!1),this.canvas.addEventListener||(this.canvas.attachEvent("onmousedown",this.mouseDown),this.canvas.attachEvent("onmousemove",this.mouseMove),this.canvas.attachEvent("onmouseup",this.mouseUp))}}]),a}(),_createClass=function(){function a(a,b){
for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),Graph=function(a){function b(a,c){_classCallCheck(this,b);var d=_possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return c&&(d.parent=c),d.position=a||{
x:10,y:100},d.origin={x:0,y:0},d.sizeX=0,d.sizeY=0,d.lastValue=0,d.lineWidth=1,d.plotStrokeStyle=CogPalette.CBBlue700,d.axisStrokeStyle=CogPalette.CBGrey700,d.axesValuesFill=CogPalette.CBGrey700,d.labelFill=CogPalette.CBGrey900,d.axisStroke=CogPalette.black,d.arrowStroke=CogPalette.black,d.arrowFill=CogPalette.black,d.plotStrokeStyle=CogPalette.CBBlue500,d.lineWidth=2,d.labels=!0,d.scale=!1,d.labelX="",
d.labelY="",d.scaleFactor=1,d.precision=1,d.showGrid=!1,d.gridInterval=10,d.plotType="linear",d.formulae=[],d.dataSet=[],d.plotColours=[CogPalette.CBBlue600,CogPalette.CBYellow600,CogPalette.CBRed600,CogPalette.CBGreen600],d.plotIndex=0,d}return _inherits(b,a),_createClass(b,[{key:"getPosition",value:function(){return{x:this.position.x+this.parent.position.x,y:this.position.y+this.parent.position.y
}}},{key:"setSize",value:function(a,b,c,d){this.size={x:{},y:{}},this.size.x={min:a,max:b},this.size.y={min:c,max:d}}},{key:"setRange",value:function(a,b,c,d){this.range={x:{min:0,max:0},y:{min:0,max:0}},this.range.x.min=Number(a),this.range.x.max=Number(b),this.range.y.min=Number(c),this.range.y.max=Number(d),this.setGridInterval(),this.setOrigin()}},{key:"setGridInterval",value:function(){var a=Math.round(this.range.x.max-this.range.x.min);
this.cardinality=a.toString().length,this.precision=Math.pow(10,this.cardinality-1)/100,this.gridInterval=this.precision*(this.parent.xLength/a)*10,this.gridInterval<10&&(this.gridInterval*=10)}},{key:"setAxesValues",value:function(a){0===a?this.showAxesValues=!1:(this.showAxesValues=!0,"bounds"!==a?this.axesValue=Number(a):this.axesValue="bounds",this.generateAxesValues())}},{key:"generateAxesValues",
value:function(){this.axesValues={},this.axesValues.x=[],this.axesValues.y=[];var a=Math.abs(this.range.x.max)>=Math.abs(this.range.x.min)?15:-10,b=Math.abs(this.range.y.max)>=Math.abs(this.range.y.min)?-10:15;if("bounds"===this.axesValue)this.axesValues.x.push({x:this.range.x.min,y:a,text:this.range.x.min}),this.axesValues.x.push({x:this.range.x.max,y:a,text:this.range.x.max}),this.axesValues.y.push({
x:b,y:this.range.y.min,text:this.range.y.min}),this.axesValues.y.push({x:b,y:this.range.y.max,text:this.range.y.max});else{var c;for(c=this.range.x.min;c<=this.range.x.max;c+=this.axesValue)this.axesValues.x.push({x:c,y:a,text:Number(c)});for(c=this.range.y.min;c<=this.range.y.max;c+=this.axesValue)0!==c&&this.axesValues.y.push({x:b,y:c,text:Number(c)})}}},{key:"updateRatio",value:function(){this.xRatio=(this.range.x.max-this.range.x.min)/(this.size.x.max-this.size.x.min),
this.yRatio=(this.range.y.max-this.range.y.min)/(this.size.y.max-this.size.y.min)}},{key:"getOriginOrdinate",value:function(a,b){return b/(this.range[a].max-this.range[a].min)*(this.size[a].max-this.size[a].min)}},{key:"setOrigin",value:function(){this.origin.x=this.getPosition().x,this.origin.y=this.getPosition().y,this.range.x.min<0&&(this.origin.x-=this.getOriginOrdinate("x",this.range.x.min)),this.range.y.min<0&&(this.origin.y+=this.getOriginOrdinate("y",this.range.y.min));
}},{key:"draw",value:function(a){a.lineWidth=this.lineWidth,a.save(),a.translate(this.parent.position.x+this.position.x,this.parent.position.y+this.position.y),a.moveTo(0,0),this.showGrid&&this.drawGrid(a),a.restore(),a.save(),a.translate(this.origin.x,this.origin.y),this.drawAxes(a),this.showAxisLabels&&this.drawLabels(a),this.showAxesValues&&this.drawAxesValues(a),this.plot(a,this.plotType),a.restore();
}},{key:"drawAxes",value:function(a){a.strokeStyle=this.axisStrokeStyle,a.beginPath(),a.moveTo(0,this.getOriginOrdinate("y",this.range.y.min)*-1),a.lineTo(0,this.getOriginOrdinate("y",this.range.y.max)*-1),a.stroke(),a.beginPath(),a.moveTo(this.getOriginOrdinate("x",this.range.x.min),0),a.lineTo(this.getOriginOrdinate("x",this.range.x.max),0),a.stroke()}},{key:"drawAxesValues",value:function(a){a.textAlign="center",
a.fillStyle=this.axesValuesFill,a.strokeStyle=CogPalette.black,a.lineWidth=1,a.font="9px Open Sans";var b;for(b=0;b<this.axesValues.x.length;b++)a.fillText(this.axesValues.x[b].text,this.axesValues.x[b].x/this.xRatio,this.axesValues.x[b].y),a.beginPath(),a.moveTo(this.axesValues.x[b].x/this.xRatio,3),a.lineTo(this.axesValues.x[b].x/this.xRatio,-3),a.stroke();for(b=0;b<this.axesValues.y.length;b++)a.fillText(this.axesValues.y[b].text,this.axesValues.y[b].x,this.axesValues.y[b].y/this.yRatio*-1+5),
a.beginPath(),a.moveTo(3,this.axesValues.y[b].y/this.yRatio*-1),a.lineTo(-3,this.axesValues.y[b].y/this.yRatio*-1),a.stroke();a.font="10px Open Sans"}},{key:"drawLabels",value:function(a){a.font="11pt Open Sans",a.textAlign="center",a.fillStyle=this.labelFill,a.fillText(this.axesLabels.x.labelText,.25*(this.size.x.max-this.size.x.min),35),a.save(),a.rotate(1.5*Math.PI),a.textAlign="center",a.fillStyle=this.labelFill,
a.fillText(this.axesLabels.y.labelText,.25*(this.size.y.max-this.size.y.min),-30),a.restore()}},{key:"drawGrid",value:function(a){var b,c,d,e;b=this.size.x.min,d=this.size.x.max,c=this.size.y.min,e=this.size.y.max,a.lineWidth=1,a.strokeStyle=CogPalette.CBGrey300;for(var f=b;f<=d;f+=this.gridInterval)a.beginPath(),a.moveTo(f,c),a.lineTo(f,e*-1),a.stroke();for(var g=e;g>=c;g-=this.gridInterval)a.beginPath(),
a.moveTo(b,g-e),a.lineTo(d,g-e),a.stroke()}},{key:"drawArrow",value:function(a,b,c,d,e,f){var g=Math.abs(c-b)/50;a.strokeStyle=this.arrowStroke,a.fillStyle=this.arrowFill,a.beginPath(),this.arrowLength=10,d?(a.moveTo(Math.abs(c)-this.arrowLength,0-g),a.lineTo(Math.abs(c),0),a.lineTo(Math.abs(c)-this.arrowLength,g)):(a.moveTo(c-this.arrowLength,0-g),a.lineTo(c,0),a.lineTo(c-this.arrowLength,g)),a.closePath(),
a.stroke(),a.fill(),this.labels&&(this.labelSize&&(a.font=this.labelSize+" Open Sans"),a.textAlign="center",d?(a.save(),a.rotate(Math.PI),e?this.sizeY.max<this.sizeY.min?a.fillText(f,Math.abs(c-0)/2-Math.abs(c),-10):a.fillText(f,Math.abs(c-0)/2-Math.abs(c),20):this.sizeY.max<this.sizeY.min?a.fillText(f,(c-0)/2,-20):a.fillText(f,(c-0)/2,20),a.restore()):e?a.fillText(f,(c-0)/2,20):this.sizeY.max<this.sizeY.min?a.fillText(f,(c-0)/2,-10):a.fillText(f,(c-0)/2,20),
a.textAlign="left")}},{key:"calculateFormula",value:function(a){for(var b,c=0;c<this.formulae.length;c++)this.formulae[c].index===a&&(b=this.formulae[c]);b.plotSection=0,b.plotData=[],b.plotData[b.plotSection]=[];var d=5-String(Math.pow(10,this.cardinality)/100).length,e=0;if(this.size.x.max>this.size.x.min)for(e=this.range.x.min;e<=this.range.x.max;e+=this.precision)e=Number(parseFloat(e).toFixed(this.cardinality+1)),
this.calculatePoint(b,e,d);else for(e=this.range.x.min;e<=this.range.x.max;e+=this.precision)this.calculatePoint(b,e,d)}},{key:"calculatePoint",value:function(a,b,c){var d={x:b},e=math.eval(a.formula,d);e=Number(parseFloat(e).toFixed(c)),this.isThroughInfinity(e,this.lastValue)&&(a.plotSection++,a.plotData[a.plotSection]=[]),this.lastValue=e,e*=-1,a.plotData[a.plotSection].push({x:b,y:e})}},{key:"isThroughInfinity",
value:function(a,b){return"Inifity"===a||"-Infinity"===a||Math.sign(a)+Math.sign(b)===0&&(a<this.range.y.min&&b>this.range.y.max||a>this.range.y.max&&b<this.range.y.min)}},{key:"plot",value:function(a,b){a.lineWidth=this.lineWidth,a.strokeStyle=this.plotStrokeStyle,a.fillStyle=this.plotStrokeStyle,a.rect(this.getOriginOrdinate("x",this.range.x.min),-1*this.size.y.max-this.getOriginOrdinate("y",this.range.y.min),this.parent.xLength,this.parent.yLength),
a.clip();var c;for(c=0;c<this.formulae.length;c++)this.formulae[c].hide||(this.formulae[c].assessed?a.strokeStyle=CogPalette.correct_stroke:(a.strokeStyle=this.plotColours[c%this.plotColours.length],a.fillStyle=this.plotColours[c%this.plotColours.length]),this.formulae[c].plotData.length&&("linear"===b?this.plotLinear(a,this.formulae[c].plotData):"curvilinear"===b?this.plotCurvilinear(a,this.formulae[c].plotData):"point"===b&&this.plotPoint(a,this.formulae[c].plotData)));
if(this.dataSet&&this.dataSet.length){if("linear"===b){for(a.strokeStyle=this.pointFillStyle,a.lineWidth=2,a.beginPath(),a.moveTo(this.dataSet[0].x/this.xRatio,this.dataSet[0].y/this.yRatio*-1),c=1;c<this.dataSet.length;c++)a.lineTo(this.dataSet[c].x/this.xRatio,this.dataSet[c].y/this.yRatio*-1);a.stroke()}else if("curvilinear"===b){for(a.strokeStyle=this.pointFillStyle,a.lineWidth=2,a.beginPath(),
a.moveTo(this.dataSet[0].x/this.xRatio,this.dataSet[0].y/this.yRatio*-1),c=1;c<this.dataSet.length-2;c++){var d=(this.dataSet[c].x/this.xRatio+this.dataSet[c+1].x/this.xRatio)/2,e=(this.dataSet[c].y/this.yRatio+this.dataSet[c+1].y/this.yRatio)/2;e*=-1,a.quadraticCurveTo(this.dataSet[c].x/this.xRatio,this.dataSet[c].y/this.yRatio*-1,d,e)}a.quadraticCurveTo(this.dataSet[c].x/this.xRatio,this.dataSet[c].y/this.yRatio*-1,this.dataSet[c+1].x/this.xRatio,this.dataSet[c+1].y/this.yRatio*-1),
a.stroke()}else"point"===b&&this.plotPoint(a,this.dataSet);for(a.fillStyle=this.pointFillStyle,c=0;c<this.dataSet.length;c++)a.beginPath(),a.arc(this.dataSet[c].x/this.xRatio,this.dataSet[c].y/this.yRatio*-1,5,0,2*Math.PI),a.fill()}}},{key:"plotLinear",value:function(a,b){for(var c=0;c<b.length;c++){a.beginPath(),a.moveTo(b[c][0].x/this.xRatio,b[c][0].y/this.yRatio);for(var d=1;d<b[c].length;d++)a.lineTo(b[c][d].x/this.xRatio,b[c][d].y/this.yRatio);
a.stroke()}}},{key:"plotCurvilinear",value:function(a,b){if(b[0].length<=2)return this.plotLinear(a,b);for(var c=0;c<b.length;c++){a.beginPath(),a.moveTo(b[c][0].x/this.xRatio,b[c][0].y/this.yRatio);for(var d=1;d<b[c].length-2;d++){var e=(b[c][d].x/this.xRatio+b[c][d+1].x/this.xRatio)/2,f=(b[c][d].y/this.yRatio+b[c][d+1].y/this.yRatio)/2;a.quadraticCurveTo(b[c][d].x/this.xRatio,b[c][d].y/this.yRatio,e,f);
}a.quadraticCurveTo(b[c][d].x/this.xRatio,b[c][d].y/this.yRatio,b[c][d+1].x/this.xRatio,b[c][d+1].y/this.yRatio),a.stroke()}}},{key:"plotPoint",value:function(a,b){for(var c=0;c<b.length;c++)for(var d=0;d<b[c].length;d++)a.beginPath(),a.arc(b[c][d].x/this.xRatio,b[c][d].y/this.yRatio,2,0,2*Math.PI),a.fill()}}]),b}(Shape),Label=function(a,b,c,d,e,f,g,h,i){this.parent=e||this,this.textAlign="left",this.wordWrap=this.wordWrap||!0,
this.fontColor=d||CogPalette.black,this.font=f||"14";try{"px"===this.font.substring(this.font.length-2)&&(this.font=this.font.substring(0,2))}catch(a){}this.fontSize=this.font,this.font+="px Open Sans",this.labelText=b,this.position=c,this.newLine=h,"left"===this.textAlign||"right"===this.textAlign?this.margin=this.position.x:"center"===this.textAlign&&(this.margin=20),this.draw=function(a){if(a.save(),
a.font=this.font,a.fillStyle=this.fontColor,this.parent!==this)if(this.parent instanceof RoundRectangle||this.parent instanceof VContainer){if(a.save(),a.translate(this.parent.position.x,this.parent.position.y),a.font=this.font,a.fillStyle=this.fontColor,this.wordWrap&&this.labelText){var b=this.lineHeight||1.5*this.fontSize;this.newLine?wrapTextNewLine(a,this.labelText,this.position.x,this.position.y,this.parent.xLength-this.margin,b,this.newLine):wrapText(a,this.labelText,this.position.x,this.position.y,this.parent.xLength-this.margin,b);
}else a.fillText(this.labelText,this.position.x,this.position.y);a.restore()}else a.fillText(this.labelText,this.parent.position.x+this.position.x,this.parent.position.y+this.position.y);else this.wordWrap&&this.wrapLength?(a.textAlign=this.textAlign,this.newLine?wrapTextNewLine(a,this.labelText,this.position.x,this.position.y,this.wrapLength,this.fontSize+this.fontSize/2,this.newLine):wrapText(a,this.labelText,this.position.x,this.position.y,this.wrapLength,this.fontSize+this.fontSize/2),
a.textAlign="left"):a.fillText(this.labelText,this.position.x,this.position.y);a.restore()}},Point=function(a,b,c,d){this.xPosition=a,this.yPosition=b,this.radius=c,this.fill=d,this.stroke=null,this.draw=function(a){a.beginPath(),a.arc(this.xPosition,this.yPosition,this.radius,0,2*Math.PI,!0),a.closePath(),a.fillStyle=this.fill,a.fill(),this.stroke&&(a.save(),a.lineWidth=this.lineWidth||8,a.strokeStyle=this.stroke,
a.stroke(),a.restore())}},_createClass=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),ProgressMarker=function(){function a(b,c,d,e){_classCallCheck(this,a),this.position=b,this.totalCount=c,this.fillStyle=CogPalette.CBGrey500,
this.progress=0,this.faCheck=d,this.faExclamation=e,this.answered=[]}return _createClass(a,[{key:"next",value:function(){this.progress<this.totalCount&&this.progress++}},{key:"draw",value:function(a,b,c){a.lineWidth=4;for(var d=1;d<=this.totalCount;d++)a.beginPath(),d-1!==this.progress||b?b&&d<this.progress?(a.strokeStyle=this.answered[d-1]?CogPalette.CBGreen500:CogPalette.CBRed500,a.fillStyle=this.answered[d-1]?CogPalette.CBGreen100:CogPalette.CBRed100):d-1<this.progress||c?(a.strokeStyle=this.answered[d-1]?CogPalette.CBGreen500:CogPalette.CBRed500,
a.fillStyle=this.answered[d-1]?CogPalette.CBGreen100:CogPalette.CBRed100):(a.strokeStyle=CogPalette.CBGrey500,a.fillStyle=CogPalette.white):(a.strokeStyle=CogPalette.CBBlue700,a.fillStyle=CogPalette.CBBlue300),a.arc(this.position.x+25*d,this.position.y,8,0,2*Math.PI),a.stroke(),a.fill(),a.closePath(),this.answered[d-1]>-1&&(1===this.answered[d-1]?a.drawImage(this.faCheck,this.position.x+25*d-5,this.position.y-5,10,10):a.drawImage(this.faExclamation,this.position.x+25*d-5,this.position.y-5,10,10));
}}]),a}(),RoundRectangle=function(a,b,c,d,e,f,g,h,i){this.xPosition=b,this.yPosition=c,this.xLength=d,this.yLength=e,this.radius=f,this.fill=g,this.stroke=h,this.strokeWeight=i,this.lineStyle="solid",this.setFill=function(a){this.fill=a},this.draw=function(a,b){var c=b||{x:this.xPosition,y:this.yPosition};a.beginPath(),a.moveTo(c.x+this.radius,c.y),a.lineTo(c.x+this.xLength-this.radius,c.y),a.quadraticCurveTo(c.x+this.xLength,c.y,c.x+this.xLength,c.y+this.radius),
a.lineTo(c.x+this.xLength,c.y+this.yLength-this.radius),a.quadraticCurveTo(c.x+this.xLength,c.y+this.yLength,c.x+this.xLength-this.radius,c.y+this.yLength),a.lineTo(c.x+this.radius,c.y+this.yLength),a.quadraticCurveTo(c.x,c.y+this.yLength,c.x,c.y+this.yLength-this.radius),a.lineTo(c.x,c.y+this.radius),a.quadraticCurveTo(c.x,c.y,c.x+this.radius,c.y),"dashed"===this.lineStyle&&void 0!==a.setLineDash&&a.setLineDash([4,4]),
"undefined"!=typeof this.stroke&&(a.strokeStyle=this.stroke,"undefined"!=typeof this.strokeWeight&&(a.lineWidth=this.strokeWeight),a.stroke()),this.fill&&(a.fillStyle=this.fill,a.fill()),a.closePath(),"dashed"===this.lineStyle&&void 0!==a.setLineDash&&a.setLineDash([])}},SwitchButton=function(a,b,c,d,e,f,g){this.switched=g||!1,this.lineWidth=1,this.container=new VContainer(a,d,e,f,2,CogPalette.white,null,this.lineWidth),
this.onContainer=new VContainer(a,d,e/2,f,2,CogPalette.correctBorder,null),this.offContainer=new VContainer(a,{x:d.x+e/2,y:d.y},e/2,f,2,CogPalette.draggable,null),this.onLabel=new Label(a,b,{x:22,y:1},CogPalette.white,this.onContainer,14,!0,"\n","center"),this.offLabel=new Label(a,c,{x:17,y:1},CogPalette.white,this.offContainer,14,!0,"\n","center"),this.init=function(){this.updateSwitch()},this.draw=function(a){
this.container.draw(a),this.offContainer.draw(a),this.onContainer.draw(a),this.onLabel.draw(a),this.offLabel.draw(a)},this.isSwitched=function(){return this.switched},this.toggleSwitch=function(){this.switched=!this.switched,this.updateSwitch()},this.updateSwitch=function(){this.switched?(this.offContainer.fillStyle=CogPalette.white,this.container.fillStyle=CogPalette.white,this.onContainer.fillStyle=CogPalette.correctBorder,
this.container.strokeStyle=CogPalette.correctBorder,this.onLabel.fontColor=CogPalette.white,this.offLabel.fontColor=CogPalette.CBGrey500):(this.offContainer.fillStyle=CogPalette.draggableBorder,this.onContainer.fillStyle=CogPalette.white,this.container.fillStyle=CogPalette.white,this.container.strokeStyle=CogPalette.draggableBorder,this.offLabel.fontColor=CogPalette.white,this.onLabel.fontColor=CogPalette.CBGrey500);
},this.init()},_createClass=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),VContainer=function(){function a(b,c,d,e,f,g,h,i){_classCallCheck(this,a),this.position=c,this.xLength=d,this.yLength=e,this.radius=f,
this.fillStyle=g,this.lineWidth=i||4,this.lineStyle="solid",this.shapeType=ShapeType.RECTILINEAR,this.strokeStyle=h,this.position.xMax=this.position.x+this.xLength,this.position.yMax=this.position.y+this.yLength}return _createClass(a,[{key:"draw",value:function(a){"dashed"===this.lineStyle&&void 0!==a.setLineDash&&a.setLineDash([2*this.lineWidth,2*this.lineWidth]),a.beginPath(),this.radius?(a.moveTo(this.position.x+this.radius,this.position.y),
a.lineTo(this.position.x+this.xLength-this.radius,this.position.y),a.quadraticCurveTo(this.position.x+this.xLength,this.position.y,this.position.x+this.xLength,this.position.y+this.radius),a.lineTo(this.position.x+this.xLength,this.position.y+this.yLength-this.radius),a.quadraticCurveTo(this.position.x+this.xLength,this.position.y+this.yLength,this.position.x+this.xLength-this.radius,this.position.y+this.yLength),
a.lineTo(this.position.x+this.radius,this.position.y+this.yLength),a.quadraticCurveTo(this.position.x,this.position.y+this.yLength,this.position.x,this.position.y+this.yLength-this.radius),a.lineTo(this.position.x,this.position.y+this.radius),a.quadraticCurveTo(this.position.x,this.position.y,this.position.x+this.radius,this.position.y),a.closePath(),a.lineWidth=this.lineWidth,this.fillStyle&&(a.fillStyle=this.fillStyle,
a.fill()),this.strokeStyle&&this.lineWidth&&(a.strokeStyle=this.strokeStyle,a.stroke())):(a.rect(this.position.x,this.position.y,this.xLength,this.yLength),this.fillStyle&&(a.fillStyle=this.fillStyle,a.fill()),this.strokeStyle&&this.lineWidth&&(a.lineWidth=this.lineWidth,a.strokeStyle=this.strokeStyle,a.stroke())),a.closePath(),void 0!==a.setLineDash&&a.setLineDash([])}}]),a}(),_createClass=function(){
function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),_get=function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d);
}if("value"in e)return e.value;var g=e.get;if(void 0!==g)return g.call(d)},GraphSet=function(a){function b(a,c){_classCallCheck(this,b);var d=_possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c));return d.dataSet=[],d.pointFillStyle=CogPalette.CBBlue700,d.itemType="GraphSet",d}return _inherits(b,a),_createClass(b,[{key:"draw",value:function(a){_get(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"draw",this).call(this,a);
}},{key:"plot",value:function(a,b){a.fillStyle=this.pointFillStyle;for(var c=0;c<this.dataSet.length;c++)a.beginPath(),a.arc(this.dataSet[c].x/this.xRatio,this.dataSet[c].y/this.yRatio*-1,5,0,2*Math.PI),a.fill()}}]),b}(Graph),SimpleText=function(a,b,c,d,e,f,g,h){this.value=a,this.fontSize=d||"14",this.fontStyle=f||"",this.fontColor=e||CogPalette.text,this.font=g||"Open Sans",this.position=b||{x:0,y:0
},this.parent=c,this.noWrap=h||!1,this.setStyle=function(a){a.fontSize=this.fontSize,a.fillStyle=this.fontColor,a.font=this.fontStyle+" "+this.fontSize+"px "+this.font},this.draw=function(a){this.setStyle(a),this.parent?wrapText(a,this.value,this.position.x+this.parent.position.x,this.position.y+this.parent.position.y,this.parent.xLength-20,1.5*this.fontSize):a.fillText(this.value,this.position.x,this.position.y);
}},_createClass=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),Text=function(){function a(b,c,d){_classCallCheck(this,a),this.position=b,this.textArray=[],this.textAlign=c,this.parent=d,this.lineHeight=18}
return _createClass(a,[{key:"addItem",value:function(a,b){b&&(a.dropShadow=!0,a.dropColor=b),this.textArray.push(a)}},{key:"setFontColor",value:function(a,b){if(b)return void(this.textArray[b].fontColor=a);for(var c=0;c<this.textArray.length;c++)this.textArray[c].fontColor=a}},{key:"draw",value:function(a){a.textAlign=this.textAlign;for(var b=0;b<this.textArray.length;b++)this.textArray[b].draw(a,this.position,this.parent);
a.textAlign="left"}},{key:"calculatePosition",value:function(a){for(var b={x:0,y:0},c=0;c<this.textArray.length;){var d=this.calculateItemPosition(a,b,this.textArray[c],c,this.parent.xLength);d.y===b.y&&"center"===this.textArray[c].align&&(b.x+=Math.floor(.6*d.x),this.textArray[c].scriptStyle&&(b.x+=a.measureText(" ").width)),c++}return b}},{key:"calculateItemPosition",value:function(a,b,c,d,e){return c.position.x=b.x,
c.setStyle(a),wrapText(a,c.value,b.x,b.y,e-b.x,this.lineHeight,c.scriptStyle)}}]),a}(),_createClass=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),TextItem=function(){function a(b,c,d,e,f,g,h,i,j,k,l,m){_classCallCheck(this,a),
this.value=c,this.fontSize=e||"12",this.fontStyle=g||"",this.fontColor=f||CogPalette.text,this.font=i||"Open Sans",this.position=d||{x:0+m,y:0},this.align=h||"left",this.underline=k||!1,this.scriptStyle=l,this.shadowColor=CogPalette.black,this.dropShadow=!1,this.indent=m,this.internalWidth=0,this.metricWidth=0,this.configure(b)}return _createClass(a,[{key:"configure",value:function(a){if(this.setStyle(a),
this.internalWidth=a.measureText(this.value).width,this.internalWidth-=a.measureText(" ").width,this.scriptStyle){this.usablefontSize=Math.floor(this.fontSize/1.2),a.font=this.usablefontSize+"px Open Sans";var b=a.measureText(this.value).width;this.metricWidth=b,"super"===this.scriptStyle?this.vOffset=.7*-this.usablefontSize:"sub"===this.scriptStyle&&(this.vOffset=.4*this.usablefontSize)}else a.font=this.fontSize+"px Open Sans",
this.metricWidth=a.measureText(this.value).width,this.usablefontSize=this.fontSize;this.underline&&this.setUnderline(a)}},{key:"setStyle",value:function(a){this.usablefontSize=this.usablefontSize||this.fontSize,a.fillStyle=this.fontColor,a.font=this.fontStyle+" "+this.usablefontSize+"px "+this.font}},{key:"setUnderline",value:function(){this.lineOffset={start:0,end:0},"right"===this.align?(this.lineOffset.start=-3,
this.lineOffset.end=-1*(this.internalWidth+3)):"center"===this.align?(this.lineOffset.start=this.internalWidth/-2-1,this.lineOffset.end=this.internalWidth/2-2):this.lineOffset.end=this.internalWidth}},{key:"draw",value:function(a,b,c){this.setStyle(a),a.textAlign=this.align,c?(this.dropShadow&&(a.fillStyle=this.shadowColor,wrapText(a,this.value,b.x+this.position.x+c.position.x+1,b.y+this.position.y+c.position.y+1,c.xLength-20,1.2*this.usablefontSize,this.scriptStyle),
a.fillStyle=this.fontColor),this.scriptStyle?a.fillText(this.value,b.x+this.position.x+c.position.x,b.y+this.position.y+c.position.y+this.vOffset):a.fillText(this.value,b.x+this.position.x+c.position.x,b.y+this.position.y+c.position.y),this.underline&&this.drawUnderline(a,b,c)):(this.dropShadow&&(a.fillStyle=this.shadowColor,a.fillText(this.value,b.x+this.position.x+1,b.y+this.position.y+1)),a.fillText(this.value,b.x+this.position.x,b.y+this.position.y));
}},{key:"drawUnderline",value:function(a,b,c){a.strokeStyle=this.fontColor,a.lineWidth=1,a.beginPath(),a.moveTo(b.x+this.position.x+c.position.x+this.lineOffset.start,b.y+this.position.y+c.position.y+.2*this.fontSize),a.lineTo(b.x+this.position.x+c.position.x+this.lineOffset.end,b.y+this.position.y+c.position.y+.2*this.fontSize),a.stroke()}}]),a}(),_createClass=function(){function a(a,b){for(var c=0;c<b.length;c++){
var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),_get=function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;
if(void 0!==g)return g.call(d)},Draggable=function(a){function b(a,c,d,e){_classCallCheck(this,b);var f=_possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c,d,e));return f.dragClass=void 0,f}return _inherits(b,a),_createClass(b,[{key:"setModelAnswers",value:function(){for(var a=0;a<this.responseArray.length;a++)for(var b=0;b<this.dockingArray.length;b++)if(this.responseArray[a].arrayGroup===this.dockingArray[b].arrayGroup){
var c=new ClientDOMBox(this,this.dockingArray[b].position,this.dockingArray[b].xLength,this.dockingArray[b].yLength,this.responseArray.length+this.modelAnswers.length);c.addElement(null,null,!1,"modelAnswer"),c.dockIndex=b,c.responseIndex=a;for(var d=!1,e=0;e<this.modelAnswers.length;e++)this.modelAnswers[e].dockIndex!==b&&this.modelAnswers[e].responseIndex!==a||(d=!0);d||(c.dropShadow=!0,c.shadowColor=CogPalette.correctBorder,
this.responseArray[a].hasText&&c.setText(this.responseArray[a].content),this.responseArray[a].image&&(c.image=this.responseArray[a].image),this.modelAnswers.push(c))}this.switchButton.toggle(),this.switchResponseButton.toggle()}},{key:"mouseDown",value:function(a){this.eventManager.mouseDown(this.context,a,{dragging:this.dragging,dragObject:this.dragObject,answered:this.answered,submitable:this.submitable
}),_get(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"mouseDown",this).call(this,a),!this.dragging||this.answered||this.showFeedback||this.responseIndex>-1&&this.setHelp(HelpStage.TASK),2===this.helpStage&&boxIsHit(this.gotItButton,a)&&(this.showHelp("off"),this.limitedHelp=!0,this.setHelp(HelpStage.LIMITED_HELP))}},{key:"setStackItem",value:function(){if(this.stacked){this.stackIndex>-1&&(this.responseArray[this.stackIndex].stackIndex=!1);
for(var a=this.responseArray.length-1;a>=0;a--)if(this.responseArray[a].position.x===this.responseArray[a].originalPosition.x&&this.responseArray[a].position.y===this.responseArray[a].originalPosition.y){this.stackIndex=a,this.responseArray[a].showRollover=!0;break}}}},{key:"setResponseStyle",value:function(a){var b=this.repositionIncorrectAnswers&&a?this.className+" correct":this.className+" mouse",c=this.repositionIncorrectAnswers&&a?this.className+" incorrect":this.className+" mouse",d=!0,e=!1,f=void 0;
try{for(var g,h=this.responseArray[Symbol.iterator]();!(d=(g=h.next()).done);d=!0){var i=g.value;i.correct?i.element.setAttribute("class",b):i.element.setAttribute("class",c),a&&i.setItemFeedback()}}catch(a){e=!0,f=a}finally{try{!d&&h.return&&h.return()}finally{if(e)throw f}}}},{key:"checkDockedItems",value:function(){for(var a=0,b=0;b<this.dockingArray.length;b++)for(var c=0;c<this.responseArray.length;c++)this.responseArray[c].position.x===this.dockingArray[b].position.x&&this.responseArray[c].position.y===this.dockingArray[b].position.y&&a++;
a>=this.passThreshold&&!this.answered&&(this.submitable=!0,this.submitButton.element.removeAttribute("disabled"))}},{key:"controlKey",value:function(){this.controlIndex=this.controlIndex<this.responseArray.length-1?this.controlIndex+=1:0;for(var a=0;a<this.responseArray.length;a++)if(this.responseArray[a].index===this.controlIndex){if(this.responseArray[a].correct)return this.controlKey();this.responseIndex=a,
this.responseArray[this.responseIndex].fillStyle=this.palette.dnd_active_fill_inverse,this.responseArray[this.responseIndex].strokeStyle=this.palette.dnd_active_stroke_inverse,this.responseArray[this.responseIndex].text.setFontColor(this.palette.black)}else this.responseArray[a].correct||(this.responseArray[a].fillStyle=this.palette.dnd_fill,this.responseArray[a].strokeStyle=this.palette.dnd_stroke,
this.responseArray[a].text.setFontColor(this.palette.white));this.setRolloverKey()}},{key:"checkDock",value:function(a){if(a===-1)return!1;for(var b=!1,c=0;c<this.responseArray.length;c++)if(this.responseArray[c].dockPosition===a&&this.responseArray[c]!==this.responseArray[this.responseIndex])return!0;return b}},{key:"leftKey",value:function(){if(this.responseIndex>-1&&!this.answered){var a;a=this.responseArray[this.responseIndex].dockPosition>-1?this.responseArray[this.responseIndex].dockPosition:-1,
a=a>-1?a-=1:this.responseArray.length-1;for(var b=0;this.checkDock(a);){if(!(a>=0)){a=this.responseArray.length-1;break}a--,b++}this.move(a)}}},{key:"rightKey",value:function(){if(this.responseIndex>-1&&!this.answered){var a;a=this.responseArray[this.responseIndex].dockPosition>-1?this.responseArray[this.responseIndex].dockPosition:-1,a=a<this.dockingArray.length-1?a+=1:-1;for(var b=0;this.checkDock(a);){
if(!(a<this.dockingArray.length-1)){a=-1;break}a++,b++}this.move(a)}}},{key:"move",value:function(a){if(a>-1){this.responseArray[this.responseIndex].dockPosition=a;var b={x:this.dockingArray[a].position.x,y:this.dockingArray[a].position.y};this.responseArray[this.responseIndex].setPosition(b),this.displayHelp||(this.limitedHelp=!0),this.anyDocked||(this.setHelp(HelpStage.TASK),this.anyDocked=!0)}else this.responseArray[this.responseIndex].dockPosition=void 0,
this.responseArray[this.responseIndex].setToOrigin();this.checkDockedItems()}},{key:"setIndex",value:function(){$("."+this.className).removeClass("mouse"),void 0!==document.activeElement.getAttribute("index")?this.responseIndex=Number(document.activeElement.getAttribute("index")):this.responseIndex=-1,this.anyDocked&&this.displayHelp&&(this.setHelp(HelpStage.TASK_COMPLETE),this.gotItButton.element.style.display="block");
}},{key:"keyUp",value:function(a){switch(a.key){case"m":a.ctrlKey&&this.setIndex();break;case"Tab":this.setIndex();break;case" ":this.toggleAnswers();break;case"ArrowLeft":this.leftKey();break;case"ArrowRight":this.rightKey();break;case"I":this.rollOverKey()}}}]),b}(CanvasObject),_createClass=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,
"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),ClientAbstractDOM=function(){function a(b){_classCallCheck(this,a),this.parent=b}return _createClass(a,[{key:"focus",value:function(){}},{key:"mouseUp",value:function(){}},{key:"mouseDown",value:function(){}},{key:"touchEnd",value:function(a){this.touchOffset=20,a.preventDefault();
var b=a.changedTouches;this.lastPos=b[b.length-1];var c=getTouchPos(this.parent.canvas,this.lastPos);this.parent.dragging?this.mouseUp(c)&&(this.parent.dragging=!1):this.mouseDown(c)}},{key:"touchMove",value:function(a){a.preventDefault();var b=a.changedTouches,c=getTouchPos(this.parent.canvas,b[0]);this.parent.dragging?this.mouseMove(c):this.mouseDown(c)}},{key:"setListeners",value:function(){this.element&&(!1 in this&&this.element.addEventListener("mousedown",this.mouseDown.bind(this)),
!1 in this&&this.element.addEventListener("mouseup",this.mouseUp.bind(this)),!1 in this&&this.element.addEventListener("mousemove",this.mouseMove.bind(this)),!1 in this&&this.element.addEventListener("touchmove",this.touchMove.bind(this)),!1 in this&&this.element.addEventListener("touchend",this.touchEnd.bind(this)))}}]),a}(),_createClass=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];
d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),_get=function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;if(void 0!==g)return g.call(d);
},ClientBox=function(a){function b(a,c,d,e,f,g,h){_classCallCheck(this,b);var i=_possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c,d,e,2,f,g,h));return i.position=c,i.xLength=d,i.yLength=e,i.fillStyle=f,i.strokeStyle=g,i.lineWidth=h,i.shapeType=ShapeType.RECTILINEAR,i.originalPosition={x:i.position.x,y:i.position.y},i}return _inherits(b,a),_createClass(b,[{key:"addImage",
value:function(a,b,c){this.image=new Image,this.image.src=b.replace(/\"/g,""),this.scale=this.xLength/this.image.width,this.image.onload=function(){c.imageLoaded()}}},{key:"draw",value:function(a,c){_get(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"draw",this).call(this,a),this.image&&(c&&this.mouseOver?(a.globalAlpha=.25,a.drawImage(this.image,this.position.x,this.position.y,this.xLength,this.yLength),
a.globalAlpha=1):a.drawImage(this.image,this.position.x,this.position.y,this.xLength,this.yLength)),this.text&&this.text.draw(a)}},{key:"setFontColor",value:function(a){if(this.text)for(var b=0;b<this.text.textArray.length;b++)this.text.textArray[b].fontColor=a}}]),b}(VContainer),_createClass=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,
"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),ClientCircle=function(){function a(b,c,d,e,f){_classCallCheck(this,a),this.position=b,this.radius=c,this.fillStyle=d,this.strokeStyle=e||CogPalette.black,this.lineWidth=f||1}return _createClass(a,[{key:"draw",value:function(a){a.beginPath(),a.arc(this.position.x,this.position.y,this.radius,0,2*Math.PI),
this.fillStyle&&(a.fillStyle=this.fillStyle,a.fill()),this.strokeStyle&&this.lineWidth>0&&(a.lineWidth=this.lineWidth,a.strokeStyle=this.strokeStyle,a.stroke())}}]),a}(),_createClass=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),
d&&a(b,d),b}}(),showRollover=function(a){$(a.element).find(".rollover").css("display","block")},ClientDOMBox=function(a){function b(a,c,d,e,f,g,h,i){_classCallCheck(this,b);var j=_possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).call(this));return j.parent=a,j.position=c,j.xLength=d,j.yLength=e,j.lineWidth=f,j.hasImage=!1,j.hasText=!1,j.options=i||{relative:!1},j.stylable=!0,j;
}return _inherits(b,a),_createClass(b,[{key:"toggle",value:function(){var a=this.element.style.display;this.element.style.display="block"===a?"none":"block"}},{key:"removeElement",value:function(){this.options&&this.options.element?$(this.options.element).parent().removeChild(this.element):this.parent.container.removeChild(this.element)}},{key:"addElement",value:function(a,b,c,d){this.element=document.createElement("div"),
this.element.style.background=a,this.element.style.color=b,this.options.relative||(this.element.style.top=this.position.y+"px",this.element.style.left=this.position.x+"px",this.element.style.width=this.xLength+"px",this.yLength&&(this.element.style.height=this.yLength+"px")),this.element.style.display=c?"block":"none",d&&this.element.setAttribute("class",d),this.lineWidth&&(this.element.style.border=this.lineWidth+"px solid "+b),
this.options&&this.options.element?this.options.element.append(this.element):this.parent.container?this.parent.container.append(this.element):this.parent.parent.container.append(this.element)}},{key:"addText",value:function(a,b){b&&(this.vAlign=b),this.rawText=a,this.addTextDiv(a,b),this.textContent=[],this.setTextContent(a,b),this.hasText=!0}},{key:"scaleText",value:function(){for(var a=$(this.textDiv);a[0].scrollHeight>a.innerHeight();){
var b=!0,c=!1,d=void 0;try{for(var e,f=this.textContent[Symbol.iterator]();!(b=(e=f.next()).done);b=!0){var g=e.value,h=window.getComputedStyle(g,null).getPropertyValue("font-size");h=h.replace("px","");var i=.95*Number(h)+"px";g.style.fontSize=i}}catch(a){c=!0,d=a}finally{try{!b&&f.return&&f.return()}finally{if(c)throw d}}}}},{key:"addTextDiv",value:function(a,b){this.textDiv=document.createElement("div");
var c=!0,d=!1,e=void 0;try{for(var f,g=a[Symbol.iterator]();!(c=(f=g.next()).done);c=!0){var h=f.value;h.align?this.textDiv.style.textAlign=h.align:this.textDiv.style.textAlign="left"}}catch(a){d=!0,e=a}finally{try{!c&&g.return&&g.return()}finally{if(d)throw e}}b&&(this.textDiv.style.display="table"),this.textDiv.setAttribute("class","textContainer"),this.hasImage&&(this.textDiv.style.zIndex=2),this.element.append(this.textDiv);
}},{key:"setTextContent",value:function(a,b){this.content=a;var c=!0,d=!1,e=void 0;try{for(var f,g=a[Symbol.iterator]();!(c=(f=g.next()).done);c=!0){var h=f.value;h.text=h.text.replace(new RegExp("\n\n","g"),"<br><br>"),h.text=h.text.replace(new RegExp("\n","g"),"<br>");var i=document.createElement("span");i.innerHTML=h.text,this.setTextStyle(i,h),b&&(i.style.display="table-cell",i.style.verticalAlign="middle"),
this.textDiv.append(i),this.textContent.push(i)}}catch(a){d=!0,e=a}finally{try{!c&&g.return&&g.return()}finally{if(d)throw e}}}},{key:"setTextAlert",value:function(){this.element.focus()}},{key:"setTextStatus",value:function(){this.element.setAttribute("role","alert")}},{key:"setText",value:function(a,b){for("string"==typeof a&&(a=[{text:a}]),this.textDiv||this.addTextDiv(a,b),this.textContent=[];this.textDiv.firstChild;)this.textDiv.removeChild(this.textDiv.firstChild);
this.setTextContent(a,b)}},{key:"setTextStyle",value:function(a,b){b.bold&&(a.style.fontWeight=700),b.italic&&(a.style.fontStyle="italic"),b.script&&(a.innerHTML="<"+b.script+">"+a.innerHTML+"</"+b.script+">"),b.size&&(a.style.fontSize=b.size+"pt"),this.stylable&&(a.style.color=b.color||"black")}},{key:"mouseDown",value:function(){this.hasRollover&&(clearTimeout(this.roll),$(this.element).find(".rollover").hide());
}},{key:"mouseEnter",value:function(){if(this.hasRollover&&!this.answered&&!this.parent.dragging){var a=this;this.roll=setTimeout(function(){showRollover(a)},1e3)}}},{key:"mouseLeave",value:function(){this.hasRollover&&(clearTimeout(this.roll),$(this.element).find(".rollover").hide())}},{key:"addImage",value:function(a,b){var c;try{a=JSON.parse(a),c=a.image}catch(b){c=a}var d=document.createElement("img");
a.alt&&d.setAttribute("alt",a.alt),d.src=c,d.onload=function(){b.imageLoaded()},d.style.width="100%",this.element.append(d),this.hasImage=!0}},{key:"load",value:function(a,b,c,d){var e;if(3===b.contentType){e="";try{e=JSON.parse(b.content)}catch(a){e="Error displaying content"}this.addImage(e.image),this.addText(e.text,b.itemAlignment)}else if(1===b.contentType){e={};try{e=JSON.parse(b.content)}catch(a){
e={text:"Error displaying content."}}this.addText(e,b.itemAlignment,d.white)}else if(2===b.contentType){try{e=JSON.parse(b.content)}catch(a){e=b.content}this.fillStyle=void 0,this.strokeStyle=void 0,this.isImageOnly=!0,this.addImage(e),this.lineWidth=b.lineWidth>0?3:0}}},{key:"destroy",value:function(){}}]),b}(ClientAbstractDOM),_createClass=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];
d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),_get=function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;if(void 0!==g)return g.call(d);
},ClientHotImage=function(a){function b(a,c,d,e,f,g,h){_classCallCheck(this,b);var i=_possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c,d,e,2,f,g,h));return i.position=c,i.xLength=d,i.yLength=e,i.fillStyle=f,i.strokeStyle=g,i.lineWidth=h,i.shadowData=void 0,i.selectionType=SelectionType.Box,i.originalPosition={x:i.position.x,y:i.position.y},i.shadowType="replace",
i}return _inherits(b,a),_createClass(b,[{key:"addImage",value:function(a,b,c,d,e){this.image=new Image,this.image.onload=this.processImage.bind(this,a,b,c,d,e),this.image.src=b}},{key:"processImage",value:function(a,b,c,d,e){this.scale=this.xLength/this.image.width,this.generateAlphaShadow(a,d,e),c.imageLoaded()}},{key:"generateAlphaShadow",value:function(a,b,c){c||(c=[0,0,0]);try{a.clearRect(0,0,736,600),
a.drawImage(this.image,0,0,this.xLength,this.yLength);var d=a.getImageData(0,0,this.xLength*b,this.yLength*b),e=this.xLength*b,f=this.yLength*b;this.shadowData=a.createImageData(e,f);for(var g=0,h=0;h<f;h++)for(var i=0;i<e;i++)this.shadowData.data[4*(h*e+i)]=c[0],this.shadowData.data[4*(h*e+i)+1]=c[1],this.shadowData.data[4*(h*e+i)+2]=c[2],this.shadowData.data[4*(h*e+i)+3]=d.data[4*(h*e+i)+3],d.data[h*e*i*4+3]>0||g++;
}catch(a){}this.scaleFactor=b}},{key:"draw",value:function(a,c){_get(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"draw",this).call(this,a),this.image&&(this.shadowData&&this.mouseOver?"replace"===this.shadowType?a.putImageData(this.shadowData,this.position.x*this.scaleFactor,this.position.y*this.scaleFactor):"shadow"===this.shadowType?a.putImageData(this.shadowData,this.position.x+5,this.position.y+5):"halo"===this.shadowType&&a.putImageData(this.shadowData,this.position.x+5,this.position.y+5):c&&this.mouseOver?(a.globalAlpha=.25,
a.drawImage(this.image,this.position.x,this.position.y,this.xLength,this.yLength),a.globalAlpha=1):a.drawImage(this.image,this.position.x,this.position.y,this.xLength,this.yLength)),this.text&&this.text.draw(a)}},{key:"setFontColor",value:function(a){for(var b=0;b<this.text.textArray.length;b++)this.text.textArray[b].fontColor=a}}]),b}(VContainer),_createClass=function(){function a(a,b){for(var c=0;c<b.length;c++){
var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),ClientLine=function(){function a(b){_classCallCheck(this,a),this.startPosition={x:b.x,y:b.y},this.endPosition={}}return _createClass(a,[{key:"draw",value:function(a){a.lineWidth=this.lineWidth,a.strokeStyle=this.strokeStyle,
a.beginPath(),a.moveTo(this.startPosition.x,this.startPosition.y),a.lineTo(this.endPosition.x,this.endPosition.y),a.stroke()}}]),a}(),_createClass=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),ClientPen=function(){
function a(b){_classCallCheck(this,a),this.position=b,this.points=[],this.lineStyle="solid",this.strokeStyle=CogPalette.CBGrey700,this.lineWidth=1,this.shapeType=ShapeType.VECTOR,this.selectionType=SelectionType.MultiLine}return _createClass(a,[{key:"draw",value:function(a){"dashed"===this.lineStyle&&void 0!==a.setLineDash&&a.setLineDash([4,4]),a.lineWidth=this.lineWidth,a.strokeStyle=this.strokeStyle,
a.beginPath(),a.moveTo(this.position.x,this.position.y);for(var b=0;b<this.points.length;b++)a.lineTo(this.points[b].x,this.points[b].y);a.stroke(),void 0!==a.setLineDash&&a.setLineDash([])}}]),a}(),_createClass=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){
return c&&a(b.prototype,c),d&&a(b,d),b}}(),ClientRollover=function(a){function b(a,c,d,e,f,g,h){_classCallCheck(this,b);var i=_possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c,d,e,2,f,g,h));return i.position=c,i.xLength=d,i.yLength=e,i.fillStyle=f,i.strokeStyle=g,i.lineWidth=h,i.originalPosition={x:i.position.x,y:i.position.y},i}return _inherits(b,a),_createClass(b,[{
key:"draw",value:function(a,b){"dashed"===this.lineStyle&&void 0!==a.setLineDash&&a.setLineDash([2*this.lineWidth,2*this.lineWidth]),a.beginPath(),a.moveTo(this.position.x+this.radius,this.position.y),a.lineTo(this.position.x+this.xLength-this.radius,this.position.y),a.quadraticCurveTo(this.position.x+this.xLength,this.position.y,this.position.x+this.xLength,this.position.y+this.radius),a.lineTo(this.position.x+this.xLength,this.position.y+this.yLength-this.radius),
a.quadraticCurveTo(this.position.x+this.xLength,this.position.y+this.yLength,this.position.x+this.xLength-this.radius,this.position.y+this.yLength),a.lineTo(this.position.x+this.radius,this.position.y+this.yLength),a.quadraticCurveTo(this.position.x,this.position.y+this.yLength,this.position.x,this.position.y+this.yLength-this.radius),a.lineTo(this.position.x,this.position.y+this.radius),a.quadraticCurveTo(this.position.x,this.position.y,this.position.x+this.radius,this.position.y),
a.closePath(),a.lineWidth=this.lineWidth,a.shadowColor="#555",a.shadowBlur=30,a.shadowOffsetX=5,a.shadowOffsetY=5,this.strokeStyle&&this.lineWidth&&(a.strokeStyle=this.strokeStyle,a.stroke()),a.shadowBlur=0,a.shadowOffsetX=0,a.shadowOffsetY=0,this.fillStyle&&(a.fillStyle=this.fillStyle,a.fill()),a.closePath(),void 0!==a.setLineDash&&a.setLineDash([]),this.image&&(b&&this.mouseOver?(a.globalAlpha=.25,
a.drawImage(this.image,this.position.x,this.position.y,this.xLength,this.yLength),a.globalAlpha=1):a.drawImage(this.image,this.position.x,this.position.y,this.xLength,this.yLength)),this.text&&this.text.draw(a)}}]),b}(VContainer),_createClass=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d);
}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),DOMButton=function(){function a(b,c,d,e,f,g,h,i){_classCallCheck(this,a),this.parent=b,this.position=c,this.eventFunction=h,this.createElement(e,d,f,g,h,i)}return _createClass(a,[{key:"createElement",value:function(a,b,c,d,e,f){a&&(this.id=a),this.element=document.createElement("button"),this.element.setAttribute("id",a),this.element.setAttribute("class",c),
this.position&&(f&&f.vAlign?this.element.style[f.vAlign]=this.position.y+"px":this.element.style.top=this.position.y+"px",this.element.style.left=this.position.x+"px"),this.element.innerHTML=b,f&&(f.disabled&&this.element.setAttribute("disabled",f.disabled),f.hidden&&(this.element.style.display=f.hidden?"none":"block"),f.tabIndex&&this.element.setAttribute("tabIndex",0)),f&&f.element?f.element.append(this.element):this.parent.container?this.parent.container.append(this.element):this.parent.element.append(this.element),
d&&c&&this.setStyle(a,d,c),this.addListeners(e)}},{key:"setStyle",value:function(a,b,c){var d=document.createElement("style"),e=document.getElementsByTagName("head")[0];e.appendChild(d);var f=[];f.push("#"+a+" { color: "+b[c].text+"; }"),f.push("#"+a+":disabled { background: "+b[c].disabled+"; }"),f.push("#"+a+":enabled { background: "+b[c].background+"; }"),f.push("#"+a+":hover:enabled { background: "+b[c].hover+"; }"),
f.push("#"+a+":focus:enabled { background: "+b[c].hover+"; }"),f.push("#"+a+":hover:active:enabled { background: "+b[c].active+"; }"),f.push("#"+a+":focus:active:enabled { background: "+b[c].active+"; }");var g=d.sheet?d.sheet:d.styleSheet,h=!0,i=!1,j=void 0;try{for(var k,l=f[Symbol.iterator]();!(h=(k=l.next()).done);h=!0){var m=k.value;g.insertRule?g.insertRule(m,0):g.addRule(m,0)}}catch(a){i=!0,j=a;
}finally{try{!h&&l.return&&l.return()}finally{if(i)throw j}}}},{key:"toggle",value:function(){var a=this.element.style.display;this.element.style.display="block"===a?"none":"block"}},{key:"keyPressFunction",value:function(a,b,c){"Enter"!==c.key&&" "!==c.key&&"Spacebar"!==c.key||b.eventFunction.call(a,b,c)}},{key:"addListeners",value:function(a){this.element.addEventListener("mouseup",a.bind(this.parent,this,event)),
this.element.addEventListener("keydown",this.keyPressFunction.bind(null,this.parent,this))}},{key:"destroy",value:function(){this.element.removeEventListener("click",this.eventFunction)}}]),a}(),_createClass=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){
return c&&a(b.prototype,c),d&&a(b,d),b}}(),DOMClose=function(){function a(b,c,d,e,f){_classCallCheck(this,a),this.eventFunction=f,this.addElement(b,c,d,e,f)}return _createClass(a,[{key:"addElement",value:function(a,b,c,d,e){this.element=document.createElement("i"),this.element.setAttribute("class",d),this.element.style.position="absolute",this.element.style.top=c.y+"px",this.element.style.left=c.x+"px",
a.element.append(this.element),this.element.addEventListener("click",e.bind(b))}},{key:"destroy",value:function(){this.element.removeEventListener("click",this.eventFunction)}}]),a}(),_createClass=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),
d&&a(b,d),b}}(),FeedbackBox=function(){function a(b,c,d){_classCallCheck(this,a),this.parent=b,this.feedbackDialogLabel="feedbackDialog",this.feedbackDialogText="feedbackText",this.setup(b,c,d)}return _createClass(a,[{key:"toggle",value:function(){var a=this.feedbackContainer.element.style.display;this.feedbackContainer.element.style.display="block"===a?"none":"block"}},{key:"show",value:function(){
this.feedbackContainer.element.style.display="block"}},{key:"setText",value:function(a){this.feedbackText.setText(a)}},{key:"setup",value:function(a,b,c){this.feedbackContainer=new ClientDOMBox(a,{x:150,y:b/2-.4*b},436,150,0,this.palette),this.feedbackContainer.addElement(c.feedback_fill,c.feedback_text,!1,"feedback dialog"),this.feedbackTitle=new ClientDOMBox(a,{x:0,y:0},100,30,0,0,null,{element:this.feedbackContainer.element
}),this.feedbackTitle.addElement(null,null,!0,"feedbackTitle"),this.feedbackTitle.setText("Hint:"),this.feedbackTitle.element.setAttribute("id",this.feedbackDialogLabel),this.feedbackText=new ClientDOMBox(a,{x:0,y:25},100,30,0,0,null,{element:this.feedbackContainer.element}),this.feedbackText.addElement(null,null,!0),this.feedbackText.setText("[feedback]"),this.feedbackText.element.setAttribute("id",this.feedbackDialogText);
var d=function(){this.showFeedback=!1,this.feedbackBox.toggle()};this.feedbackCloseButton=new DOMButton(a,{x:350,y:10},"Got It","feedbackDialogClose","feedbackHint",null,d,{element:this.feedbackContainer.element,vAlign:"bottom"}),this.setARIATags()}},{key:"setARIATags",value:function(){this.feedbackContainer.element.setAttribute("role","dialog"),this.feedbackContainer.element.setAttribute("aria-labelledby",this.feedbackDialogLabel),
this.feedbackContainer.element.setAttribute("aria-describedby",this.feedbackDialogText)}}]),a}(),_createClass=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),NotificationBox=function(){function a(b,c,d,e,f,g){
_classCallCheck(this,a),this.parent=b,this.xLength=e,this.addElement(c,d,e,f,g)}return _createClass(a,[{key:"addElement",value:function(a,b,c,d,e){this.element=document.createElement("div"),this.element.setAttribute("class","notificationBox"),this.element.setAttribute("aria-label","Activity Notice"),this.element.style.top=b.y+"px",this.element.style.left=b.x+"px",this.element.style.width=c+"px",this.element.style.height=d+"px",
this.textSpan=document.createElement("span"),this.textSpan.setAttribute("tabIndex","-1"),this.element.append(this.textSpan);var f=document.createElement("style"),g=document.getElementsByTagName("head")[0];g.appendChild(f);var h=[];h.push("div.notificationBox { background: "+e.informational_fill+"; }"),h.push("div.notificationBox { color: "+e.informational_font_fill+"; }"),h.push("div.notificationBox.correct { background: "+e.correct_fill+"; }"),
h.push("div.notificationBox.correct { color: "+e.correct_stroke+"; }"),h.push("div.notificationBox.incorrect { background: "+e.incorrect_fill+"; }"),h.push("div.notificationBox.incorrect { color: "+e.incorrect_stroke+"; }");var i=f.sheet?f.sheet:f.styleSheet,j=!0,k=!1,l=void 0;try{for(var m,n=h[Symbol.iterator]();!(j=(m=n.next()).done);j=!0){var o=m.value;i.insertRule?i.insertRule(o,0):i.addRule(o,0);
}}catch(a){k=!0,l=a}finally{try{!j&&n.return&&n.return()}finally{if(k)throw l}}a.element.append(this.element)}},{key:"setText",value:function(a){this.textSpan.innerHTML=a}}]),a}(),_createClass=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),
d&&a(b,d),b}}(),ClientAnswerBox=function(a){function b(a,c,d,e){return _classCallCheck(this,b),_possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c,d,e,"#fff",CogPalette.CBGrey500,2))}return _inherits(b,a),_createClass(b,[{key:"load",value:function(a,b,c,d){this.itemOrder=b.itemOrder,this.arrayGroup=b.arrayGroup,this.rollIndex=b.rollIndex;var e={};try{e=JSON.parse(b.content);
}catch(a){e={text:"Error displaying content."}}this.text=c.processText(a,this,e,b.itemAlignment,d.dnd_answer_stroke)}}]),b}(ClientBox),_createClass=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),_get=function a(b,c,d){
null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;if(void 0!==g)return g.call(d)},ClientArrow=function(a){function b(a){_classCallCheck(this,b);var c=_possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return c.yScale=1,c.fillStyle=c.strokeStyle,
c}return _inherits(b,a),_createClass(b,[{key:"draw",value:function(a){_get(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"draw",this).call(this,a);var c=this.endPosition.x-this.startPosition.x,d=this.endPosition.y-this.startPosition.y,e=Math.sqrt(c*c+d*d),f=Math.atan2(d,c),g=e>100?1:.5;this.forceSize&&(g=this.size),a.save(),a.translate(this.startPosition.x,this.startPosition.y),a.moveTo(0,0),
a.rotate(f),a.beginPath(),a.moveTo(e-20*g,5*g),a.lineTo(e,0),a.lineTo(e-20*g,-(5*g)),a.lineTo(e-20*g,5*g),a.closePath(),this.strokeStyle?(a.fillStyle=this.strokeStyle,a.strokeStyle=this.strokeStyle):a.strokeStyle=CogPalette.draggableBorder50,a.stroke(),a.fill(),a.restore()}}]),b}(ClientLine),_createClass=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,
d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),_get=function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;if(void 0!==g)return g.call(d)},ClientBoxConnector=function(a){
function b(a,c,d,e){return _classCallCheck(this,b),_possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c,d,e,CogPalette.white,CogPalette.CBBlue700,2))}return _inherits(b,a),_createClass(b,[{key:"draw",value:function(a){_get(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"draw",this).call(this,a),this.connector.draw(a)}}]),b}(ClientBox),_createClass=function(){
function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),_get=function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d);
}if("value"in e)return e.value;var g=e.get;if(void 0!==g)return g.call(d)},ClientBoxReceiver=function(a){function b(a,c,d,e){return _classCallCheck(this,b),_possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c,d,e,CogPalette.white,CogPalette.CBBlue500,2))}return _inherits(b,a),_createClass(b,[{key:"draw",value:function(a){_get(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"draw",this).call(this,a),
this.connector.draw(a)}}]),b}(ClientBox),_createClass=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),_get=function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){
var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;if(void 0!==g)return g.call(d)},ClientDOMHotSpot=function(a){function b(a,c,d,e,f,g,h,i){_classCallCheck(this,b);var j=_possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c,d,e,f,g,h,i));return j.arrayGroup=-1,j.stylable=!1,j}return _inherits(b,a),_createClass(b,[{
key:"addElement",value:function(a,b){this.element=document.createElement("button"),this.element.setAttribute("class","hotspot hot mouse"),this.element.setAttribute("index",this.arrayGroup),this.element.style.top=this.position.y+"px",this.element.style.left=this.position.x+"px",this.element.style.width=this.xLength+"px",this.element.style.height=this.yLength+"px",a.container.append(this.element),this.setListeners();
}},{key:"setStyle",value:function(a,b){var c=document.createElement("style"),d=document.getElementsByTagName("head")[0];d.appendChild(c);var e=[];e.push("button.hotspot { border-color: "+a.hotspot_stroke+"; }"),e.push("button.hotspot.active { background: "+a.hotspot_active_fill+"; }"),e.push("button.hotspot.active { color: "+a.hotspot_active_font+"; }"),b.interactionType===Config.hotspot.interactionType.CLICKED?e.push("button.hotspot:hover { background: "+a.hotspot_hover_fill+"; }"):(e.push("button.hotspot:hover { background: "+a.hotspot_active_fill+"; }"),
e.push("button.hotspot:hover { color: "+a.hotspot_active_font+"; }"));var f=c.sheet?c.sheet:c.styleSheet,g=!0,h=!1,i=void 0;try{for(var j,k=e[Symbol.iterator]();!(g=(j=k.next()).done);g=!0){var l=j.value;f.insertRule?f.insertRule(l,0):f.addRule(l,0)}}catch(a){h=!0,i=a}finally{try{!g&&k.return&&k.return()}finally{if(h)throw i}}}},{key:"activate",value:function(a){this.parent.displayItem=this.arrayGroup,
this.parent.responseArray[this.arrayGroup].element.style.display="block",a&&$(this.element).addClass("active")}},{key:"deactivateHotSpots",value:function(){var a=!0,b=!1,c=void 0;try{for(var d,e=this.parent.hotspotArray[Symbol.iterator]();!(a=(d=e.next()).done);a=!0){var f=d.value;$(f.element).removeClass("active")}}catch(a){b=!0,c=a}finally{try{!a&&e.return&&e.return()}finally{if(b)throw c}}}},{key:"deactivateHotBoxes",
value:function(){var a=!0,b=!1,c=void 0;try{for(var d,e=this.parent.responseArray[Symbol.iterator]();!(a=(d=e.next()).done);a=!0){var f=d.value;$(f.element).removeClass("active"),$(f.element).hide()}}catch(a){b=!0,c=a}finally{try{!a&&e.return&&e.return()}finally{if(b)throw c}}}},{key:"mouseUp",value:function(a){this.parent.interactionType===Config.hotspot.interactionType.CLICKED&&(this.deactivateHotBoxes(),
this.deactivateHotSpots(),this.activate(!0))}},{key:"mouseEnter",value:function(a){this.parent.interactionType===Config.hotspot.interactionType.MOUSEOVER&&(this.deactivateHotBoxes(),this.deactivateHotSpots(),this.activate(!1))}},{key:"mouseLeave",value:function(a){this.parent.interactionType===Config.hotspot.interactionType.MOUSEOVER&&(this.deactivateHotBoxes(),this.deactivateHotSpots())}},{key:"setListeners",
value:function(){this.element.addEventListener("mouseleave",this.mouseLeave.bind(this)),this.element.addEventListener("mouseenter",this.mouseEnter.bind(this)),this.element.addEventListener("mouseup",this.mouseUp.bind(this)),_get(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"setListeners",this).call(this)}}]),b}(ClientDOMBox),_createClass=function(){function a(a,b){for(var c=0;c<b.length;c++){
var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),ClientDataTable=function(a){function b(a,c,d,e){return _classCallCheck(this,b),_possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c,d,e,CogPalette.CBGrey100,CogPalette.CBGrey100,1));
}return _inherits(b,a),_createClass(b,[{key:"setData",value:function(a,b,c){this.dataSet=b;var d=document.getElementsByTagName("body")[0];this.div=document.createElement("div"),this.div.setAttribute("name","dataSet"),this.div.setAttribute("class","dataSetDiv"),this.div.style.position="absolute",this.div.style.top=a.y+this.position.y+10+"px",this.div.style.left=a.x+this.position.x+20+"px",this.div.style.width=this.xLength-40+"px",
this.addTable(b,c),d.appendChild(this.div)}},{key:"addTable",value:function(a,b){var c=document.createElement("div");c.setAttribute("class","dataSetTable"),this.addHeader(c,b);for(var d=0;d<a.length;d++)this.addRow(c,a[d]);this.div.appendChild(c)}},{key:"addHeader",value:function(a,b){var c=document.createElement("div");c.setAttribute("class","dataSetHeaderRow row");var d=document.createElement("div");
d.setAttribute("class","dataSetHeaderCell col-xs-6"),d.innerHTML=b[0];var e=document.createElement("div");e.setAttribute("class","dataSetHeaderCell col-xs-6"),e.innerHTML=b[1],c.appendChild(d),c.appendChild(e),a.appendChild(c);var f=document.createElement("div");f.setAttribute("class","row");var g=document.createElement("div");g.setAttribute("class","col-xs-12"),g.setAttribute("colSpan",2),g.innerHTML="<hr>",
f.appendChild(g),a.appendChild(f)}},{key:"addRow",value:function(a,b){var c=document.createElement("div");c.setAttribute("class","dataSetRow row"),a.appendChild(c),this.addCell(c,b.x),this.addCell(c,b.y)}},{key:"addCell",value:function(a,b){var c=document.createElement("div");c.setAttribute("class","dataSetCell col-xs-6"),c.innerHTML=b,a.appendChild(c)}}]),b}(ClientBox),_createClass=function(){function a(a,b){
for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),_get=function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;
var g=e.get;if(void 0!==g)return g.call(d)},ClientDockingBox=function(a){function b(a,c,d,e){_classCallCheck(this,b);var f=_possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c,d,e,"#fff",CogPalette.CBBlue700,2));return f.lineStyle="dashed",f}return _inherits(b,a),_createClass(b,[{key:"draw",value:function(a){_get(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"draw",this).call(this,a),
this.backgroundImage&&(this.mouseOver||(a.globalAlpha=.5),a.drawImage(this.backgroundImage,this.position.x+10,this.position.y+10,this.xLength-20,this.yLength-20),a.globalAlpha=1)}},{key:"addImage",value:function(a,b,c){this.backgroundImage=new Image,this.backgroundImage.src=b,this.backgroundImage.onload=function(){c.imageLoaded()}}}]),b}(ClientBox),_createClass=function(){function a(a,b){for(var c=0;c<b.length;c++){
var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),ClientGraph=function(a){function b(a,c){return _classCallCheck(this,b),_possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c))}return _inherits(b,a),_createClass(b,[{key:"setOptions",
value:function(a){a.showGrid&&(this.showGrid=!0),a.showLabels&&(this.showAxisLabels=!0),a.axesValue&&this.setAxesValues(a.axesValue)}}]),b}(Graph),_createClass=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),_get=function a(b,c,d){
null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;if(void 0!==g)return g.call(d)},ClientGraphBox=function(a){function b(a,c,d,e,f,g){_classCallCheck(this,b);var h=_possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c,d,e,CogPalette.white,CogPalette.black,0));
return h.plotType=f,h.configType=g,h.xLength=d,h.yLength=e,h.graph=void 0,"GraphSet"===g?h.graph=new ClientGraphSet({x:0,y:h.yLength},h):h.graph=new ClientGraph({x:0,y:h.yLength},h),h.plotPoints=[],h.plotPointFill=CogPalette.CBBlue700,h.activePlotFill=CogPalette.CBBlue500,h}return _inherits(b,a),_createClass(b,[{key:"setDimensions",value:function(a,b,c,d){this.graph.setSize(0,this.xLength,0,this.yLength),
this.graph.setRange(a,b,c,d),this.graph.updateRatio()}},{key:"getActivePlotPosition",value:function(a){var b={x:a.x-this.position.x,y:(a.y-this.position.y-this.yLength)*-1};return this.snap||(b.x=b.x/this.graph.gridInterval,b.y=b.y/this.graph.gridInterval,b.x=Number(parseFloat(b.x).toFixed(0))*this.graph.gridInterval,b.y=Number(parseFloat(b.y).toFixed(0))*this.graph.gridInterval),b={x:b.x+this.position.x,
y:b.y*-1+this.position.y+this.yLength}}},{key:"setAxesLabels",value:function(a,b){this.graph.axesLabels={},this.graph.axesLabels.x=new Label(this.context,a,{x:0,y:0},CogPalette.CBGrey700,this.graph),this.graph.axesLabels.y=new Label(this.context,b,{x:0,y:0},CogPalette.CBGrey700,this.graph)}},{key:"draw",value:function(a){_get(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"draw",this).call(this,a),
this.graph.draw(a)}},{key:"drawHoverPoint",value:function(a,b){a.fillStyle=this.activePlotFill,a.beginPath(),a.arc(b.x,b.y,5,0,2*Math.PI),a.fill()}},{key:"drawPlotPoints",value:function(a,b){for(var c=0;c<b.length;c++)a.fillStyle=b[c].fillStyle,a.beginPath(),a.arc(b[c].x,b[c].y,5,0,2*Math.PI),a.fill()}},{key:"translatePlotPoints",value:function(a){for(var b=a||this.plotPoints,c=[],d=0;d<b.length;d++)c.push({
x:Number((b[d].x-this.position.x)/this.graph.gridInterval+Number(this.graph.range.x.min)),y:Number((b[d].y-this.position.y-this.yLength)*-1)/this.graph.gridInterval+Number(this.graph.range.y.min)});return c}}]),b}(ClientBox),_createClass=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d);
}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),ClientGraphSet=function(a){function b(a,c){return _classCallCheck(this,b),_possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c))}return _inherits(b,a),_createClass(b,[{key:"setOptions",value:function(a){a.showGrid&&(this.showGrid=!0),a.showLabels&&(this.showAxisLabels=!0),a.axesValue&&this.setAxesValues(a.axesValue);
}}]),b}(GraphSet),_createClass=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),_get=function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);
return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;if(void 0!==g)return g.call(d)},ClientHotArea=function(a){function b(a){_classCallCheck(this,b);var c=_possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return c.highlighted=!1,c}return _inherits(b,a),_createClass(b,[{key:"draw",value:function(a){_get(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"draw",this).call(this,a);
}},{key:"toggleHighlight",value:function(){this.highlighted=!this.highlighted}},{key:"intersect",value:function(a){for(var b=0,c=1;c<this.points.length;c++)linearIntersect({x:-1,y:-1},a,{x:this.points[c-1].x,y:this.points[c-1].y},{x:this.points[c].x,y:this.points[c].y})&&b++;return b%2>0}}]),b}(ClientPen),_createClass=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,
d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),ClientHotQuestion=function(){function a(b){_classCallCheck(this,a),this.position=b,this.text=""}return _createClass(a,[{key:"draw",value:function(a,b){b&&(a.fillStyle=CogPalette.CBBlue700,this.text.draw(a))}}]),a}(),_createClass=function(){function a(a,b){
for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),_get=function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;
var g=e.get;if(void 0!==g)return g.call(d)},ClientHotSpot=function(a){function b(a,c,d,e){_classCallCheck(this,b);var f=_possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c,d,e,"#fff",CogPalette.CBBlue700,2));return f.itemType="ClientHotSpot",f}return _inherits(b,a),_createClass(b,[{key:"draw",value:function(a){_get(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"draw",this).call(this,a),
this.text&&this.text.draw(a)}},{key:"addImage",value:function(a,b){this.image=new Image,this.image.src=b}},{key:"setFontColor",value:function(a){if(this.text)for(var b=0;b<this.text.textArray.length;b++)this.text.textArray[b].fontColor=a}},{key:"load",value:function(a,b,c,d){this.arrayGroup=b.arrayGroup,0===b.contentType?(this.fillStyle=d.void,this.defaultFill=d.void,this.strokeStyle=d.hotspot_stroke,
this.lineStyle="dashed"):1===b.contentType?(this.text=c.processText(a,this,JSON.parse(b.content),b.itemAlignment,d.text),this.text&&this.text.setFontColor(d.hotspot_stroke),this.fillStyle=d.void,this.defaultFill=d.void,this.strokeStyle=d.hotspot_stroke):2===b.contentType&&(this.addImage(a,b.content),this.lineWidth=4)}}]),b}(ClientBox),_createClass=function(){function a(a,b){for(var c=0;c<b.length;c++){
var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),ClientListDock=function(a){function b(a,c,d,e){_classCallCheck(this,b);var f=_possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c,d,e));return f.lineStyle="dashed",f.drawPosition={
x:c.x+1,y:c.y+1},f.drawXLength=d-2,f.drawYLength=e-2,f}return _inherits(b,a),_createClass(b,[{key:"draw",value:function(a){"dashed"===this.lineStyle&&void 0!==a.setLineDash&&a.setLineDash([2*this.lineWidth,2*this.lineWidth]),a.beginPath(),this.radius&&(a.moveTo(this.drawPosition.x+this.radius,this.drawPosition.y),a.lineTo(this.drawPosition.x+this.drawXLength-this.radius,this.drawPosition.y),a.quadraticCurveTo(this.drawPosition.x+this.drawXLength,this.drawPosition.y,this.drawPosition.x+this.drawXLength,this.drawPosition.y+this.radius),
a.lineTo(this.drawPosition.x+this.drawXLength,this.drawPosition.y+this.drawYLength-this.radius),a.quadraticCurveTo(this.drawPosition.x+this.drawXLength,this.drawPosition.y+this.drawYLength,this.drawPosition.x+this.drawXLength-this.radius,this.drawPosition.y+this.drawYLength),a.lineTo(this.drawPosition.x+this.radius,this.drawPosition.y+this.drawYLength),a.quadraticCurveTo(this.drawPosition.x,this.drawPosition.y+this.drawYLength,this.drawPosition.x,this.drawPosition.y+this.drawYLength-this.radius),
a.lineTo(this.drawPosition.x,this.drawPosition.y+this.radius),a.quadraticCurveTo(this.drawPosition.x,this.drawPosition.y,this.drawPosition.x+this.radius,this.drawPosition.y),a.closePath(),a.lineWidth=this.lineWidth,this.fillStyle&&(a.fillStyle=this.fillStyle,a.fill()),this.strokeStyle&&this.lineWidth&&(a.strokeStyle=this.strokeStyle,a.stroke())),void 0!==a.setLineDash&&a.setLineDash([]),this.backgroundImage&&(this.mouseOver||(a.globalAlpha=.5),
a.drawImage(this.backgroundImage,this.position.x+10,this.position.y+10,this.xLength-20,this.yLength-20),a.globalAlpha=1)}}]),b}(ClientDockingBox),ClientPlacementImage=function(a){function b(a,c,d,e){_classCallCheck(this,b);var f=_possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c,d,e,null,null,2));return f.selectionType=SelectionType.Box,f}return _inherits(b,a),b}(ClientBox),_createClass=function(){
function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),_get=function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d);
}if("value"in e)return e.value;var g=e.get;if(void 0!==g)return g.call(d)},ClientResponseBox=function(a){function b(a,c,d,e,f){_classCallCheck(this,b);var g=_possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c,d,e,CogPalette.CBBlue700,CogPalette.CBBlue700,f));return g.leftMargin=15,g.rightMargin=15,g}return _inherits(b,a),_createClass(b,[{key:"draw",value:function(a,c){
_get(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"draw",this).call(this,a),this.hasRollover&&c&&a.drawImage(c,this.position.x+this.xLength-28,this.position.y+this.yLength-15,25,18)}},{key:"load",value:function(a,b,c,d,e){var f;if(this.fillStyle=d.dnd_fill,this.strokeStyle=d.dnd_stroke,3===b.contentType){f="";try{f=JSON.parse(b.content)}catch(a){f="Error displaying content"}this.text=c.processText(a,this,f.text,b.itemAlignment,d.white,e),
this.addImage(this.context,f.image)}else if(1===b.contentType){f={};try{f=JSON.parse(b.content)}catch(a){f={text:"Error displaying content."}}this.text=c.processText(a,this,f,b.itemAlignment,d.white)}else 2===b.contentType&&(this.fillStyle=void 0,this.strokeStyle=void 0,this.isImageOnly=!0,this.addImage(a,b.content),this.lineWidth=b.lineWidth>0?3:0);this.setFontColor(d.dnd_font),this.arrayGroup=b.arrayGroup,
this.rollIndex=b.rollIndex}}]),b}(ClientBox),_createClass=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),ListView=function(){function a(b,c,d,e,f,g,h,i){_classCallCheck(this,a),this.listItemArray=[],this.interval=h,
this.width=d,this.length=e,this.itemWidth=f,this.itemLength=g,this.maxItems=i||3,this.position=c,this.container=new VContainer(b,c.x,c.y,d,e,4,CogPalette.CBGrey200),this.dragItem=void 0,this.dragItemOriginIndex=void 0}return _createClass(a,[{key:"addItem",value:function a(b,c){var a=!0;this.maxItems&&!c&&this.maxItems===this.listItemArray.length&&(a=!1),a&&(b.parent=this,this.listItemArray.push(b),
this.dragItem=b,b.newItem=!0,this.moveStart(this.listItemArray.length-1),this.dragItemOriginIndex=this.listItemArray.length-1)}},{key:"removeItem",value:function(a,b){if(this.dragItem)this.dragItem=void 0,this.dragItemOriginIndex=-1;else if(b)for(var c=0;c<this.listItemArray.length;c++)a.index===this.listItemArray[c].index&&this.listItemArray.splice(c,1)}},{key:"getAbsoluteItemPosition",value:function(a){
return{xPosition:this.position.x+this.listItemArray[a].container.xPosition,yPosition:this.position.y+this.listItemArray[a].container.yPosition+(this.listItemArray[a].container.yLength+this.interval)*a,xLength:this.listItemArray[a].container.xLength,yLength:this.listItemArray[a].container.yLength}}},{key:"moveStart",value:function(a){this.dragItemOriginIndex=a,this.dragItem=this.listItemArray.splice(a,1)[0];
}},{key:"moveEnd",value:function(a,b){if(boxIsHit(this.container,a)){var c=this.getDragIndexPosition(a.y);this.listItemArray.splice(c,0,this.dragItem),this.dragItem=void 0,this.dragItemOriginIndex=-1}else this.listItemArray.splice(this.dragItemOriginIndex,0,this.dragItem),this.dragItem=void 0,this.dragItemOriginIndex=-1}},{key:"getDragIndexPosition",value:function(a){var b=0,c=0;for(a-=this.container.yPosition;c<this.listItemArray.length&&(b+=this.listItemArray[c].container.yLength+this.interval,
!(a<b));)c++;return c}},{key:"draw",value:function(a,b,c){this.container.draw(a),void 0!==a.setLineDash&&a.setLineDash([4,4]);var d={};d.x=this.position.x+this.width/2-this.itemWidth/2+2;for(var e=0;e<this.maxItems;e++)d.y=this.position.y+e*(this.itemLength+this.interval)+2*this.interval+2,drawRoundRectangle(a,d,this.itemWidth-4,this.itemLength-4,4,CogPalette.CBGrey100,null);void 0!==a.setLineDash&&a.setLineDash([]),
this.dragItem&&(this.dragItem.container.draw(a,c),a.fillStyle=CogPalette.text,a.font=this.dragItem.label.font,wrapTextNewLine(a,this.dragItem.label.labelText,c.x+this.dragItem.label.position.x,c.y+this.dragItem.label.position.y,this.dragItem.container.xLength-this.dragItem.label.position.x,1.5*this.dragItem.label.fontSize,"\n"));var f=0,g=999,h=0;this.dragItem&&(f=this.dragItem.container.yLength,g=this.getDragIndexPosition(c.y));
for(var i=0;i<this.listItemArray.length;i++)i>=g&&(h=f),this.listItemArray[i].container.draw(a,{x:this.position.x+this.listItemArray[i].container.xPosition,y:h+this.position.y+this.listItemArray[i].container.yPosition+(this.listItemArray[i].container.yLength+this.interval)*i}),a.fillStyle=CogPalette.text,a.beginPath(),a.font=this.listItemArray[i].label.font,wrapTextNewLine(a,this.listItemArray[i].label.labelText,this.position.x+this.listItemArray[i].container.xPosition+this.listItemArray[i].label.position.x,h+this.position.y+this.listItemArray[i].container.yPosition+(this.listItemArray[i].container.yLength+this.interval)*i+this.listItemArray[i].label.position.y,this.listItemArray[i].container.xLength-this.listItemArray[i].label.position.x,1.5*this.listItemArray[i].label.fontSize,"\n");
this.dragItem&&(h=0,this.dragItem.container.lineStyle="dashed",this.dragItem.container.fill=null,this.dragItem.container.draw(a,{x:this.position.x+this.dragItem.container.xPosition,y:h+this.position.y+this.dragItem.container.yPosition+(this.dragItem.container.yLength+this.interval)*g}),this.dragItem.container.fill=CogPalette.draggable,this.dragItem.container.lineStyle="solid")}}]),a}(),_createClass=function(){
function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),ClientTextHighlight=function(){function a(b,c,d,e,f){_classCallCheck(this,a),this.allowMultiple=e||!1,this.position=b,this.xLength=c,this.font=f,this.fillStyle="#fff",this.lineSpacing=20,
this.scrolling=!1,this.scrollPosition=0,this.padding=10,this.paddingTop=10,this.paddingBottom=10,this.length=d+this.paddingTop+this.paddingBottom,this.scrollOffset=60,this.crossSize=10,this.isHighlighted=-1,this.scrollWidth=20,this.textArray=[],this.highlightArray=[],this.highlightResults=[],this.selectArray=[],this.textHitBox={},this.textHeight=0,this.answered=!1,this.modelAnswers=[],this.answers=[],
this.faCheck=new Image,this.faExclamation=new Image,this.faTimes=new Image,this.faCheck.src=DataPath.supportImages+"/fa-check.png",this.faExclamation.src=DataPath.supportImages+"/fa-exclamation.png",this.faTimes.src=DataPath.supportImages+"/fa-times.png",this.calculateItemPosition=calculateItemPosition}return _createClass(a,[{key:"addTextItem",value:function(a){this.textArray.push(a)}},{key:"setText",
value:function(a,b){for(var c=0;c<b.length;c++)this.textArray.push(new TextItem(a,b[c].value,{x:b[c].position.x,y:b[c].position.y},b[c].fontSize,b[c].fontColor,b[c].fontStyle))}},{key:"setTextHitBox",value:function(a){this.textHitBox={position:{x:a.position.x,y:a.position.y+this.paddingTop+9},xLength:a.xLength,yLength:a.yLength}}},{key:"getVPadding",value:function(){return this.paddingTop+this.paddingBottom;
}},{key:"draw",value:function(a,b,c,d,e,f){var g,h;for(a.lineWidth=1,a.strokeStyle=CogPalette.CBGrey400,a.strokeRect(this.position.x,this.position.y,this.xLength,this.length+this.paddingTop+this.paddingBottom),h=0;h<this.textArray.length;h++)this.textArray[h].position.y>this.scrollPosition&&this.textArray[h].position.y<this.length+this.getVPadding()+20+this.scrollPosition&&this.textArray[h].draw(a,{
x:this.position.x,y:this.position.y-this.scrollPosition});if(this.dragging)for(h=0;h<this.selectArray.length;h++)a.beginPath(),a.fillStyle=CogPalette.CBYellow30050,a.rect(this.selectArray[h].xPosition,this.selectArray[h].yPosition-this.scrollPosition,this.selectArray[h].xLength,this.selectArray[h].yLength),a.fill();for(e&&this.drawModelAnswers(a),h=0;h<this.highlightArray.length;h++){if(!e&&c?(a.fillStyle=this.highlightArray[h].correct?CogPalette.CBGreen30050:CogPalette.CBRed60050,
this.highlightArray[h][0].yPosition>this.scrollPosition+this.paddingTop+this.lineSpacing&&this.highlightArray[h][0].yPosition<this.length+60+this.scrollPosition&&(this.highlightArray[h].correct?a.drawImage(this.faCheck,this.highlightArray[h][0].xPosition-20,this.highlightArray[h][0].yPosition-this.scrollPosition,16,16):a.drawImage(this.faExclamation,this.highlightArray[h][0].xPosition-20,this.highlightArray[h][0].yPosition-this.scrollPosition,16,16))):this.highlightArray[h].correct?a.fillStyle=CogPalette.CBGreen30050:this.highlightArray[h].highlighted?a.fillStyle=CogPalette.CBYellow50050:a.fillStyle=CogPalette.CBYellow30050,
!e)for(var i=0;i<this.highlightArray[h].length;i++)this.highlightArray[h][i].yPosition>this.scrollPosition+this.paddingTop+this.lineSpacing&&this.highlightArray[h][i].yPosition<this.length+60+this.scrollPosition&&(a.beginPath(),a.rect(this.highlightArray[h][i].xPosition,this.highlightArray[h][i].yPosition-this.scrollPosition,this.highlightArray[h][i].xLength,this.highlightArray[h][i].yLength),a.fill());
this.highlightArray[h].highlighted&&(g=this.highlightArray[h][this.highlightArray[h].length-1],a.drawImage(this.faTimes,g.xPosition+g.xLength-this.crossSize,g.yPosition+3-this.scrollPosition,this.crossSize,this.crossSize))}this.scrolling&&(a.fillStyle="white",a.fillRect(this.position.x,this.position.y-20,this.xLength+this.scrollWidth,20),a.fillRect(this.position.x,this.position.y+this.length+this.paddingTop+this.paddingBottom,this.xLength+this.scrollWidth,25),
a.strokeStyle=CogPalette.CBGrey500,a.strokeRect(this.position.x+this.xLength,this.position.y,20,this.length+this.paddingTop+this.paddingBottom),this.scrollControl.draw(a))}},{key:"drawTextHover",value:function(a,b){this.isHighlighted=-1;for(var c=0;c<this.highlightArray.length;c++){this.highlightArray[c].highlighted=!1;for(var d=0;d<this.highlightArray[c].length;d++){var e={xPosition:this.highlightArray[c][d].xPosition,
yPosition:this.highlightArray[c][d].yPosition-this.scrollPosition,xLength:this.highlightArray[c][d].xLength,yLength:this.highlightArray[c][d].yLength};boxIsHitMargin(e,3,1,b)&&(this.highlightArray[c].highlighted=!0,this.isHighlighted=c)}}}},{key:"drawModelAnswers",value:function(a){for(var b=0;b<this.modelAnswers.length;b++){this.modelAnswers[b][0].yPosition>this.scrollPosition+this.paddingTop+this.lineSpacing&&this.modelAnswers[b][0].yPosition<this.length+60+this.scrollPosition&&(a.fillStyle=CogPalette.CBGreen30050,
a.drawImage(this.faCheck,this.modelAnswers[b][0].xPosition-20,this.modelAnswers[b][0].yPosition-this.scrollPosition,16,16)),a.fillStyle=CogPalette.CBGreen30050;for(var c=0;c<this.modelAnswers[b].length;c++)this.modelAnswers[b][c].yPosition>this.scrollPosition+this.paddingTop+this.lineSpacing&&this.modelAnswers[b][c].yPosition<this.length+60+this.scrollPosition&&(a.beginPath(),a.rect(this.modelAnswers[b][c].xPosition,this.modelAnswers[b][c].yPosition-this.scrollPosition,this.modelAnswers[b][c].xLength,this.modelAnswers[b][c].yLength),
a.fill())}}},{key:"clearSelection",value:function(){this.selectArray=[],this.highlightArray=[]}},{key:"calculatePosition",value:function(a,b){a.font="12px Open Sans";for(var c={x:this.padding,y:this.paddingTop+20},d=0;d<this.textArray.length;)c=this.calculateItemPosition(a,c,this.textArray[d],d),d++;c.y>this.yLength-(this.paddingTop+this.paddingBottom)?this.scrolling=!0:this.scrolling=!1,this.scrolling?(this.controlDragOffset={
x:0,y:0},this.scrollWidth=20,this.wholeLength=this.getVPadding()+this.textArray[this.textArray.length-1].position.y,this.scrollControlHeight=this.length/this.wholeLength,this.scrollControl=new VContainer(a,{x:this.position.x+this.xLength-this.scrollWidth,y:this.position.y},this.scrollWidth,this.scrollControlHeight,1,CogPalette.CBGrey500,null,1)):this.scrolling||(this.scrollWidth=0)}},{key:"setScroll",
value:function(a,b){this.scrolling=b,this.scrolling?(this.controlDragOffset={x:0,y:0},this.scrollWidth=20,this.wholeLength=this.textArray[this.textArray.length-1].position.y,this.scrollControlHeight=this.length*this.length/this.wholeLength,this.scrollControl=new VContainer(a,{x:this.position.x+this.xLength,y:this.position.y},this.scrollWidth,this.scrollControlHeight,1,CogPalette.CBGrey500,null,1)):this.scrolling||(this.scrollWidth=0);
}},{key:"getTextBySelection",value:function(a){for(var b=20,c=[],d=0;d<this.highlightArray.length;d++){for(var e=0,f=this.highlightArray[d],g=0;g<f.length;g++)for(var h=0;h<this.modelAnswers.length;h++)for(var i=this.modelAnswers[h],j=0;j<i.length;j++)f[g].xPosition-b<=i[j].xPosition&&f[g].xPosition+b>=i[j].xPosition&&f[g].xLength-b<=i[j].xLength&&f[g].xLength+b>=i[j].xLength&&e++;e===f.length&&(c[d]=!0);
}}},{key:"getText",value:function(a,b){var c=b||this.highlightArray;this.highlightResults=[];for(var d=0;d<c.length;d++){for(var e=[],f=0;f<c[d].length;f++)for(var g=0;g<this.textArray.length;g++)c[d][f].yPosition-this.position.y===this.textArray[g].position.y-12&&(c[d][f].xPosition>=this.textArray[g].position.x?e=e.concat(this.getWords(a,this.textArray[g].value,this.textArray[g].position.x,c[d][f].xPosition-this.position.x,c[d][f].xLength)):c[d][f].xPosition+c[d][f].xLength>=this.textArray[g].position.x&&(e=e.concat(this.getWords(a,this.textArray[g].value,this.textArray[g].position.x,c[d][f].xPosition-this.position.x,c[d][f].xLength))));
this.highlightResults.push(e)}return this.highlightResults}},{key:"getWords",value:function(a,b,c,d,e){for(var f=0,g=c,h=b.split(" ");g<=d&&f<h.length;)g+=a.measureText(h[f]+" ").width,f++;g=Math.floor(c);for(var i=0;g<=d+e&&i<h.length;)g+=a.measureText(h[i]).width,i++;return i===f&&++i,h.slice(f,i+1)}},{key:"mouseDown",value:function(a,b,c){if(!c)if(this.isHighlighted===-1)boxIsHit(this.textHitBox,a)&&(this.allowMultiple||(this.highlightArray=[]),
this.dragStart={},this.dragging=!0,this.dragStart.x=a.x,this.dragStart.y=a.y);else if(this.isHighlighted>-1){var d={position:{x:this.highlightArray[this.isHighlighted][this.highlightArray[this.isHighlighted].length-1].xPosition,y:this.highlightArray[this.isHighlighted][this.highlightArray[this.isHighlighted].length-1].yPosition-this.scrollPosition},xLength:this.highlightArray[this.isHighlighted][this.highlightArray[this.isHighlighted].length-1].xLength,
yLength:this.highlightArray[this.isHighlighted][this.highlightArray[this.isHighlighted].length-1].yLength};if(boxIsHit(d,a)){var e=this.highlightArray[this.isHighlighted][this.highlightArray[this.isHighlighted].length-1],f={position:{x:e.xPosition+e.xLength-this.crossSize,y:e.yPosition+3-this.scrollPosition},xLength:e.xLength,yLength:e.yLength};boxIsHit(f,a)&&(this.highlightArray.splice(this.isHighlighted,1),
this.isHighlighted=-1)}}this.scrolling&&boxIsHit(this.scrollControl,a)&&(b.style.cursor="default",this.controlDragOffset={},this.controlDrag=!0,this.controlDragOffset.x=a.x-this.scrollControl.position.x,this.controlDragOffset.y=a.y-this.scrollControl.position.y)}},{key:"isOverlap",value:function(a){for(var b=0;b<this.highlightArray.length;b++)for(var c=0;c<this.highlightArray[b].length;c++)if(boxIsHitMargin(this.highlightArray[b][c],5,1,a))return!0;
return!1}},{key:"getTextHeight",value:function(){return this.textArray.length*this.lineSpacing}},{key:"selectText",value:function(a){var b={};if(a.x-this.position.x+20<=this.xLength&&a.y<=this.position.y+this.length+this.getVPadding()&&a.y>=this.position.y-this.scrollPosition+this.paddingTop&&(this.allowMultiple?this.isOverlap(a)||(b.x=a.x,b.y=a.y):(b.x=a.x,b.y=a.y)),b.x){var c={},d={};a.x<this.dragStart.x&&a.y<=this.dragStart.y?(c.x=a.x,
c.y=a.y,d.x=this.dragStart.x,d.y=this.dragStart.y):(c.x=this.dragStart.x,c.y=this.dragStart.y,d.x=a.x,d.y=a.y);var e=Math.ceil((c.y-(this.position.y-this.scrollPosition+20+this.getVPadding()))/this.lineSpacing),f=Math.ceil((d.y-(this.position.y-this.scrollPosition+20+this.getVPadding()))/this.lineSpacing),g=e,h=f-e;this.selectArray=[];var i=Math.ceil(this.textArray[this.textArray.length-1].position.y/this.lineSpacing),j=!1;
for(h>0?this.selectArray.push({xPosition:c.x,yPosition:this.position.y+20+this.lineSpacing*g-2,xLength:this.xLength-(c.x-this.position.x),yLength:this.lineSpacing-4,rowIndex:g}):this.selectArray.push({xPosition:c.x,yPosition:this.position.y+20+this.lineSpacing*g-2,xLength:d.x-c.x,yLength:this.lineSpacing-4,rowIndex:g}),e++;e<f;){if(!(e+2<i)){j=!0;break}this.selectArray.push({xPosition:this.position.x,
yPosition:this.position.y+20+this.lineSpacing*e-2,xLength:this.xLength,yLength:this.lineSpacing-4,rowIndex:e}),e++}h>0&&this.selectArray.push({xPosition:this.position.x,yPosition:this.position.y+20+this.lineSpacing*e-2,xLength:d.x-this.position.x,yLength:this.lineSpacing-4,rowIndex:e})}}},{key:"mouseMove",value:function(a,b,c){c||(this.dragging?this.selectText(b):this.allowMultiple&&this.drawTextHover(a,b)),
this.controlDrag&&b.y-this.controlDragOffset.y>=this.position.y&&b.y-this.controlDragOffset.y<=this.position.y+this.length+this.getVPadding()-this.scrollControl.yLength&&(this.scrollControl.position.y=b.y-this.controlDragOffset.y,this.scrollPosition=(this.scrollControl.position.y-this.position.y)*(this.wholeLength/this.length))}},{key:"mouseUp",value:function(a,b){var c=!1;return this.selectArray.length>0&&!b&&(this.selectArray.length>=1&&Math.abs(this.selectArray[0].xLength)>10&&(this.highlightArray.push(this.selectArray),
c=!0),this.selectArray=[]),this.dragging=!1,this.controlDrag=!1,this.selectArray.length||c}}]),a}(),_createClass=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),_get=function a(b,c,d){null===b&&(b=Function.prototype);
var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;if(void 0!==g)return g.call(d)},ClientDOMBoxConnect=function(a){function b(a,c,d,e){return _classCallCheck(this,b),_possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c,d,e))}return _inherits(b,a),_createClass(b,[{
key:"toggleConnector",value:function(a){var b=!0,c=!1,d=void 0;try{for(var e,f=a[Symbol.iterator]();!(b=(e=f.next()).done);b=!0){var g=e.value;g===this?this.connector.fillStyle=CogPalette.CBBlue700:!this.isDocked}}catch(a){c=!0,d=a}finally{try{!b&&f.return&&f.return()}finally{if(c)throw d}}}},{key:"addElement",value:function(){this.setListeners()}},{key:"mouseDown",value:function(a){var c=getMousePos(this.parent.canvas,a);
_get(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"mouseDown",this).call(this),this.parent.mouseDown(c)}},{key:"mouseMove",value:function(a){var b=getMousePos(this.parent.canvas,a);this.parent.mouseMove(b)}},{key:"mouseUp",value:function(a){var b=getMousePos(this.parent.canvas,a);this.parent.mouseUp(b)}},{key:"setListeners",value:function(){this.element.addEventListener("mousedown",this.mouseDown.bind(this)),
this.element.addEventListener("mousemove",this.mouseMove.bind(this)),this.element.addEventListener("mouseup",this.mouseUp.bind(this)),this.element.addEventListener("mouseenter",this.mouseEnter.bind(this)),this.element.addEventListener("mouseleave",this.mouseLeave.bind(this))}}]),b}(ClientDOMBox),_createClass=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,
d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),ClientDOMBoxConnector=function(a){function b(a,c,d,e,f){_classCallCheck(this,b);var g=_possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c,d,e));return g.index=f,g.offset={},g.origin={x:c.x,y:c.y},g.position={x:c.x,y:c.y},
g}return _inherits(b,a),_createClass(b,[{key:"draw",value:function(a){this.connector.draw(a)}},{key:"addElement",value:function(a,b){this.element=document.createElement("div"),this.element.setAttribute("class","connector"),this.element.setAttribute("tabIndex",0),this.element.setAttribute("index",this.index),this.element.style.top=this.position.y+"px",this.element.style.left=this.position.x+"px",this.element.style.width=this.xLength+"px",
this.element.style.height=this.yLength+"px",this.element.style.position="absolute",a.container.append(this.element),this.setStyle(b),this.setListeners()}},{key:"setStyle",value:function(a){var b=document.createElement("style"),c=document.getElementsByTagName("head")[0];c.appendChild(b);var d=[];d.push("div.connector { color: "+a.connector_stroke+"; }"),d.push("div.connector { border: 1px solid "+a.connector_stroke+"; }");
var e=b.sheet?b.sheet:b.styleSheet,f=!0,g=!1,h=void 0;try{for(var i,j=d[Symbol.iterator]();!(f=(i=j.next()).done);f=!0){var k=i.value;e.insertRule?e.insertRule(k,0):e.addRule(k,0)}}catch(a){g=!0,h=a}finally{try{!f&&j.return&&j.return()}finally{if(g)throw h}}}}]),b}(ClientDOMBoxConnect),_createClass=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,
"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),_get=function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;if(void 0!==g)return g.call(d)},ClientDOMBoxReceiver=function(a){
function b(a,c,d,e){_classCallCheck(this,b);var f=_possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c,d,e));return f.offset={},f.origin={x:c.x,y:c.y},f.position={x:c.x,y:c.y},f}return _inherits(b,a),_createClass(b,[{key:"draw",value:function(a){this.connector.draw(a)}},{key:"setPosition",value:function(a){this.position.x=a.x,this.position.y=a.y,this.element.style.left=a.x+"px",
this.element.style.top=a.y+"px"}},{key:"addElement",value:function(a,c){this.element=document.createElement("div"),this.element.setAttribute("class","receiver"),this.index&&this.element.setAttribute("index",this.index),this.element.setAttribute("tabIndex",-1),this.element.setAttribute("live-region","assertive"),this.element.style.top=this.position.y+"px",this.element.style.left=this.position.x+"px",
this.element.style.width=this.xLength+"px",this.element.style.height=this.yLength+"px",this.element.style.position="absolute",a.container.append(this.element),this.setStyle(c),_get(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"addElement",this).call(this)}},{key:"setItemFeedback",value:function(){var a=document.createElement("div");a.setAttribute("class","feedback-icon-container"),a.style.top=this.yLength/2-12+"px";
var b=this.correct?"fa fa-check-circle":"fa fa-exclamation-circle",c=document.createElement("i");c.setAttribute("class",b+" feedback-icon");var d=document.createElement("div");d.setAttribute("class","feedback-icon-background"),a.appendChild(d),a.appendChild(c),this.element.appendChild(a)}},{key:"setStyle",value:function(a){var b=document.createElement("style"),c=document.getElementsByTagName("head")[0];
c.appendChild(b);var d=[];d.push("div.receiver { color: "+a.connector_stroke+"; }"),d.push("div.receiver { border: 1px solid "+a.connector_stroke+"; }"),d.push("div.receiver.correct { color: "+a.correct_stroke+"; }"),d.push("div.receiver.incorrect { color: "+a.incorrect_stroke+"; }");var e=b.sheet?b.sheet:b.styleSheet,f=!0,g=!1,h=void 0;try{for(var i,j=d[Symbol.iterator]();!(f=(i=j.next()).done);f=!0){
var k=i.value;e.insertRule?e.insertRule(k,0):e.addRule(k,0)}}catch(a){g=!0,h=a}finally{try{!f&&j.return&&j.return()}finally{if(g)throw h}}}}]),b}(ClientDOMBoxConnect),_createClass=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),
d&&a(b,d),b}}(),_get=function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;if(void 0!==g)return g.call(d)},ClientDOMLabelBox=function(a){function b(a,c,d){_classCallCheck(this,b);var e=_possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,c,{
x:d.itemX,y:d.itemY},d.itemXOffset,d.itemYOffset));return e.elementData=d,e.position={x:d.itemX,y:d.itemY},e.stylable=!0,e.offset={},e.origin={x:e.position.x,y:e.position.y},e.originalPosition={x:e.position.x,y:e.position.y},e.addElement(c,c.palette,!0),e.load(a,e.elementData,c.textLoader,c.palette,"black"),2===d.contentType&&e.addImage(a,d.content,e),e}return _inherits(b,a),_createClass(b,[{key:"addElement",
value:function(a,b){this.element=document.createElement("div"),this.element.setAttribute("class","label"),this.element.style.top=this.position.y+"px",this.element.style.left=this.position.x+"px",this.element.style.width=this.xLength+"px",this.element.style.height=this.yLength+"px",this.element.style.position="absolute",a.container.append(this.element),this.setStyle(b),this.setListeners()}},{key:"setStyle",
value:function(a){var b=document.createElement("style"),c=document.getElementsByTagName("head")[0];c.appendChild(b);var d=[];d.push("div.label { background: "+a.white+"; }"),d.push("div.label { color: "+a.black+"; }"),d.push("div.label { border: 1px solid "+a.dnd_stroke+"; }");var e=b.sheet?b.sheet:b.styleSheet,f=!0,g=!1,h=void 0;try{for(var i,j=d[Symbol.iterator]();!(f=(i=j.next()).done);f=!0){var k=i.value;
e.insertRule?e.insertRule(k,0):e.addRule(k,0)}}catch(a){g=!0,h=a}finally{try{!f&&j.return&&j.return()}finally{if(g)throw h}}}},{key:"setPosition",value:function(a){this.position.x=a.x,this.position.y=a.y,this.element.style.left=a.x+"px",this.element.style.top=a.y+"px"}},{key:"setToOrigin",value:function(a){a?(this.setPosition(this.originalPosition),this.resetOrigin()):this.setPosition(this.origin)}
},{key:"resetOrigin",value:function(){this.origin={x:this.position.x,y:this.position.y}}},{key:"setListeners",value:function(){this.element.addEventListener("mouseenter",this.focus.bind(this)),this.element.addEventListener("mouseleave",this.blur.bind(this)),this.element.addEventListener("mousedown",this.mouseDown.bind(this)),this.element.addEventListener("mouseup",this.mouseUp.bind(this)),this.element.addEventListener("mousemove",this.mouseMove.bind(this)),
_get(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"setListeners",this).call(this)}},{key:"mouseDown",value:function(a){this.selected=!0,this.parent.responseIndex=this.index,this.parent.dragging=!0;var c=getMousePos(this.parent.canvas,a);this.offset.x=c.x-this.position.x,this.offset.y=c.y-this.position.y,this.oldZIndex=this.element.style.zIndex,this.element.style.zIndex=1e3,this.parent.mouseDown(c),
_get(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"mouseDown",this).call(this)}},{key:"mouseUp",value:function(a){var b=getMousePos(this.parent.canvas,a);this.element.style.zIndex=this.oldZIndex,this.parent.mouseUp(b),this.selected=!1}},{key:"mouseMove",value:function(a){this.parent.canvas.style.cursor="default",this.selected&&!this.answered&&this.move(getMousePos(this.parent.canvas,a));
}},{key:"move",value:function(a,b){this.position.x=a.x-this.offset.x,this.position.y=a.y-this.offset.y,this.element.style.left=this.position.x+"px",this.element.style.top=this.position.y+"px",b||this.parent.mouseMove(a)}},{key:"focus",value:function(){_get(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"mouseEnter",this).call(this)}},{key:"blur",value:function(a){this.mouseMove(a),_get(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"mouseLeave",this).call(this);
}},{key:"draw",value:function(a,b){this.hasRollover&&b&&a.drawImage(b,this.position.x+this.xLength-28,this.position.y+this.yLength-15,25,18)}},{key:"load",value:function(a,c,d,e,f){this.fillStyle=e.dnd_fill,this.strokeStyle=e.dnd_stroke,_get(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"load",this).call(this,a,c,d,e,f),this.arrayGroup=c.arrayGroup,this.rollIndex=c.rollIndex}}]),b}(ClientDOMBox),_createClass=function(){
function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),_get=function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d);
}if("value"in e)return e.value;var g=e.get;if(void 0!==g)return g.call(d)},ClientDOMResponseBox=function(a){function b(a,c,d,e,f){_classCallCheck(this,b);var g=_possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c,d,e,CogPalette.CBBlue700,CogPalette.CBBlue700));return g.index=f,g.stylable=!1,g.offset={},g.origin={x:c.x,y:c.y},g.originalPosition={x:c.x,y:c.y},g}return _inherits(b,a),
_createClass(b,[{key:"addElement",value:function(a,b){this.element=document.createElement("div"),this.element.setAttribute("class","response mouse"),this.element.setAttribute("tabIndex",0),this.element.setAttribute("index",this.index),this.element.style.top=this.position.y+"px",this.element.style.left=this.position.x+"px",this.element.style.width=this.xLength+"px",this.element.style.height=this.yLength+"px",
this.element.style.position="absolute",a.container.append(this.element),this.setStyle(b),this.setListeners()}},{key:"setStyle",value:function(a){var b=document.createElement("style"),c=document.getElementsByTagName("head")[0];c.appendChild(b);var d=[];d.push("div.response { background: "+a.dnd_fill+"; }"),d.push("div.response { color: "+a.white+"; }"),d.push("div.response { border: 1px solid "+a.dnd_fill+"; }"),
d.push("div.response:active { box-shadow: 6px 6px 3px rgba(0,0,0,0.4)}"),d.push("div.response.correct { background: "+a.correct_fill+"; }"),d.push("div.response.correct { color: "+a.correct_stroke+"; }"),d.push("div.response.correct { border: 2px solid "+a.correct_stroke+"; }"),d.push("div.response.incorrect { background: "+a.incorrect_fill+"; }"),d.push("div.response.incorrect { color: "+a.incorrect_stroke+"; }"),
d.push("div.response.incorrect { border: 2px solid "+a.incorrect_stroke+"; }");var e=b.sheet?b.sheet:b.styleSheet,f=!0,g=!1,h=void 0;try{for(var i,j=d[Symbol.iterator]();!(f=(i=j.next()).done);f=!0){var k=i.value;e.insertRule?e.insertRule(k,0):e.addRule(k,0)}}catch(a){g=!0,h=a}finally{try{!f&&j.return&&j.return()}finally{if(g)throw h}}}},{key:"setItemFeedback",value:function(){var a=document.createElement("div");
a.setAttribute("class","feedback-icon-container"),a.style.top=this.yLength/2-10+"px";var b=this.correct?"fa fa-check-circle":"fa fa-exclamation-circle",c=document.createElement("i");c.setAttribute("class",b+" feedback-icon");var d=document.createElement("div");d.setAttribute("class","feedback-icon-background"),a.appendChild(d),a.appendChild(c),this.element.appendChild(a)}},{key:"setPosition",value:function(a){
this.position.x=a.x,this.position.y=a.y,this.element.style.left=a.x+"px",this.element.style.top=a.y+"px"}},{key:"setToOrigin",value:function(a){a?(this.setPosition(this.originalPosition),this.resetOrigin()):this.setPosition(this.origin)}},{key:"resetOrigin",value:function(){this.origin={x:this.position.x,y:this.position.y}}},{key:"setListeners",value:function(){this.element.addEventListener("mouseenter",this.focus.bind(this)),
this.element.addEventListener("mouseleave",this.blur.bind(this)),this.element.addEventListener("mousedown",this.mouseDown.bind(this)),this.element.addEventListener("mouseup",this.mouseUp.bind(this)),this.element.addEventListener("mousemove",this.mouseMove.bind(this)),_get(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"setListeners",this).call(this)}},{key:"mouseDown",value:function(a){this.selected=!0,
this.parent.responseIndex=this.index,this.parent.dragging=!0;var c=getMousePos(this.parent.canvas,a);this.offset.x=c.x-this.position.x,this.offset.y=c.y-this.position.y,this.oldZIndex=this.element.style.zIndex,this.element.style.zIndex=1e3,this.parent.mouseDown(c),_get(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"mouseDown",this).call(this)}},{key:"mouseUp",value:function(a){var b=getMousePos(this.parent.canvas,a);
this.element.style.zIndex=this.oldZIndex,this.parent.mouseUp(b),this.selected=!1}},{key:"mouseMove",value:function(a){this.parent.canvas.style.cursor="default",this.selected&&!this.answered&&this.move(getMousePos(this.parent.canvas,a))}},{key:"move",value:function(a,b){this.position.x=a.x-this.offset.x,this.position.y=a.y-this.offset.y,this.element.style.left=this.position.x+"px",this.element.style.top=this.position.y+"px",
b||this.parent.mouseMove(a)}},{key:"focus",value:function(){_get(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"mouseEnter",this).call(this)}},{key:"blur",value:function(a){this.mouseMove(a),_get(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"mouseLeave",this).call(this)}},{key:"draw",value:function(a,b){this.hasRollover&&b&&a.drawImage(b,this.position.x+this.xLength-28,this.position.y+this.yLength-15,25,18);
}},{key:"load",value:function(a,c,d,e,f){this.fillStyle=e.dnd_fill,this.strokeStyle=e.dnd_stroke,_get(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"load",this).call(this,a,c,d,e,f),this.arrayGroup=c.arrayGroup,this.rollIndex=c.rollIndex}}]),b}(ClientDOMBox),_createClass=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),
Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),ClientDOMHotArea=function(a){function b(a,c,d,e,f,g,h,i,j){_classCallCheck(this,b);var k=_possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,d,e,f,g,h,i,j));return k.position={x:d.x,y:d.y},k.arrayGroup=-1,k.points=[],k.active=!1,k.hotArea=new ClientHotArea(c),k}return _inherits(b,a),
_createClass(b,[{key:"addElement",value:function(a,b){this.element=document.createElement("button"),this.element.setAttribute("class","hotarea hot hidden"),this.element.setAttribute("index",this.arrayGroup),a.container.append(this.element)}},{key:"display",value:function(){this.active||this.parent.setHotSpot(),this.active=!0}},{key:"setup",value:function(a,b){this.hotArea.position={x:this.position.x,
y:this.position.y},this.hotArea.strokeStyle=b.hotspot_stroke,this.hotArea.lineWidth=2,this.hotArea.lineStyle="dashed";for(var c=0;c<a.length;c++)this.hotArea.points.push({x:a[c].x+this.hotArea.position.x,y:a[c].y+this.hotArea.position.y});this.hotArea.points[this.hotArea.points.length-1]={x:this.hotArea.points[0].x,y:this.hotArea.points[0].y},this.addElement(this.parent,b)}},{key:"setPolygon",value:function(){
var a="(",b=!0,c=!1,d=void 0;try{for(var e,f=this.points[Symbol.iterator]();!(b=(e=f.next()).done);b=!0){var g=e.value;a+=g.x+", "+g.y+", "}}catch(a){c=!0,d=a}finally{try{!b&&f.return&&f.return()}finally{if(c)throw d}}a=a.substring(0,a.length-2),a+=")",this.element.style.shapeOutside="polygon(0,0,100, 100, 200,200)"}}]),b}(ClientDOMHotSpot),_createClass=function(){function a(a,b){for(var c=0;c<b.length;c++){
var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),ClientDOMHotBox=function(a){function b(a,c,d,e,f,g,h,i){_classCallCheck(this,b);var j=_possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c,d,e,f,g,h,i));return j.active=!1,j.stylable=!0,
j}return _inherits(b,a),_createClass(b,[{key:"addElement",value:function(a,b,c,d){this.element=document.createElement("div"),this.element.setAttribute("class","hot hotbox"),this.element.style.top=this.position.y+"px",this.element.style.left=this.position.x+"px",this.element.style.width=this.xLength+"px",this.element.style.height=this.yLength+"px",this.element.style.zIndex=this.index,this.parent.drawResponseFrame===Config.hotspot.RESPONSE_FRAMED&&(this.element.style.border="1px solid "+this.parent.palette.hotspot_active_stroke),
this.parent.container.append(this.element)}},{key:"focus",value:function(){this.toggle(),this.parent.drawItem=this.index}},{key:"blur",value:function(){this.toggle(),this.parent.drawItem=-1}},{key:"toggle",value:function(){this.active=!this.active}},{key:"hide",value:function(){this.element.style.display="none"}},{key:"setListeners",value:function(){}}]),b}(ClientDOMBox),_createClass=function(){function a(a,b){
for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),_get=function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;
var g=e.get;if(void 0!==g)return g.call(d)},ClientDOMListItem=function(a){function b(a,c,d,e,f){_classCallCheck(this,b);var g=_possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c,d,e,CogPalette.CBBlue700,CogPalette.CBBlue700));return g.index=f,g.offset={},g.origin={x:c.x,y:c.y},g.originalPosition={x:c.x,y:c.y},g}return _inherits(b,a),_createClass(b,[{key:"addElement",
value:function(a,b){this.element=document.createElement("div"),this.element.setAttribute("class","listitem mouse"),this.element.setAttribute("tabIndex",0),this.element.setAttribute("index",this.index),this.element.style.top=this.position.y+"px",this.element.style.left=this.position.x+"px",this.element.style.width=this.xLength+"px",this.element.style.height=this.yLength+"px",this.element.style.position="absolute",
a.container.append(this.element),this.setStyle(b),this.setListeners()}},{key:"setStyle",value:function(a){var b=document.createElement("style"),c=document.getElementsByTagName("head")[0];c.appendChild(b);var d=[];d.push("div.listitem { background: "+a.dnd_fill+"; }"),d.push("div.listitem { color: "+a.white+"; }"),d.push("div.listitem { border: 1px solid "+a.dnd_fill+"; }"),d.push("div.listitem:active { box-shadow: 6px 6px 3px rgba(0,0,0,0.4)}"),
d.push("div.listitem.correct { background: "+a.correct_fill+"; }"),d.push("div.listitem.correct { color: "+a.correct_stroke+"; }"),d.push("div.listitem.correct { border: 2px solid "+a.correct_stroke+"; }"),d.push("div.listitem.incorrect { background: "+a.incorrect_fill+"; }"),d.push("div.listitem.incorrect { color: "+a.incorrect_stroke+"; }"),d.push("div.listitem.incorrect { border: 2px solid "+a.incorrect_stroke+"; }");
var e=b.sheet?b.sheet:b.styleSheet,f=!0,g=!1,h=void 0;try{for(var i,j=d[Symbol.iterator]();!(f=(i=j.next()).done);f=!0){var k=i.value;e.insertRule?e.insertRule(k,0):e.addRule(k,0)}}catch(a){g=!0,h=a}finally{try{!f&&j.return&&j.return()}finally{if(g)throw h}}}},{key:"draw",value:function(a,b){this.hasRollover&&b&&a.drawImage(b,this.position.x+this.xLength-28,this.position.y+this.yLength-15,25,18)}},{
key:"load",value:function(a,c,d,e,f){this.fillStyle=e.dnd_fill,this.strokeStyle=e.dnd_stroke,_get(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"load",this).call(this,a,c,d,e,f),this.arrayGroup=c.arrayGroup,this.rollIndex=c.rollIndex}}]),b}(ClientDOMResponseBox),_createClass=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,
"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),TextLoader=function(){function a(){_classCallCheck(this,a)}return _createClass(a,[{key:"setTextSize",value:function(a){a.newLineSpacing&&(1.7===a.newLineSpacing?a.newLineSpacing=1.6:2.6===a.newLineSpacing&&(a.newLineSpacing=2));var b=10;return a.size?(a.size=Number(a.size),
7===a.size?(a.size=9,a.lineHeight=Number(a.newLineSpacing*a.size*1.2)||10):8===a.size?(a.size=10.6,a.lineHeight=Number(a.newLineSpacing*a.size*1.1)||11):9===a.size?(a.size=11.6,a.lineHeight=Number(a.newLineSpacing*a.size*1.08)||12):10===a.size?(a.size=13,a.lineHeight=Number(a.newLineSpacing*a.size)||16):12===a.size?(a.size=15.5,a.lineHeight=Number(a.newLineSpacing*a.size)||18):(a.size=13,a.lineHeight=Number(a.newLineSpacing*b)||20)):(a.size=11.6,
a.lineHeight=Number(a.newLineSpacing*a.size*1.06)||14),a.lineSpacing&&(a.lineHeight=Number(a.lineSpacing)),a}},{key:"processText",value:function(a,b,c,d,e,f,g){if(0!==c.length){var h=g||0,i=0,j=/^\t/,k=/^\n/,l=/([\t]).*\1/;0===d?i+=19:2===d&&(i+=b.yLength);var m=new Text({x:h,y:i},d,b);m.width=b.xLength;for(var n="",o=b.leftMargin||10,p=b.rightMargin||9,q={x:o||10,y:0},r=!1,s=0;s<c.length;s++){c[s].textItems=c[s].text.split("\n"),
c[s]=this.setTextSize(c[s]),m.lineHeight=c[s].lineHeight,c[s].color&&!e&&(e=c[s].color),e=c[s].color&&!e?c[s].color:e,e||(e="black"),n="on"===c[s].bold?"700":"";for(var t,u=c[s],v=0;v<u.textItems.length;v++){var w=u.color||e,x=0;if(j.exec(u.textItems[v])){var y=l.exec(u.textItems[v]);if(y){var z=!0,A=!1,B=void 0;try{for(var C,D=y[Symbol.iterator]();!(z=(C=D.next()).done);z=!0){var E=C.value;x+=E.length;
}}catch(a){A=!0,B=a}finally{try{!z&&D.return&&D.return()}finally{if(A)throw B}}}else x=2;q.x+=20*(x-1)}var F=n?n+" ":"",G=u.script?Math.floor(u.size/1.2):u.size;a.font=F+G+"px Open Sans";for(var H,I="",J=u.textItems[v].trim().split(" "),K=m.width-q.x-p,L=0;L<J.length;L++){var M=I+J[L]+" ";H=a.measureText(M);var N=H.width;N>K&&L>=0?(t=new TextItem(a,I,{x:q.x,y:q.y},u.size,w,n,u.align,u.font,null,u.underline,u.script,u.lineHeight),
m.addItem(t,f),I=J[L]+" ",q.x=o,x&&(q.x+=20*(x-1),x=0),K=m.width-q.x-p,q.y+=u.lineHeight):I=M}if(t=new TextItem(a,I,{x:q.x,y:q.y},u.size,w,n,u.align,u.font,null,u.underline,u.script,u.lineHeight),m.addItem(t,f),"700"===n&&(u.script||(t.metricWidth+=.075*t.metricWidth)),u.script){var O=a.measureText(" ").width;r||(m.textArray[m.textArray.length-1].position.x-=O,m.textArray[m.textArray.length-1].metricWidth-=O);
}q.x+=t.metricWidth,v!==u.textItems.length-1?(q.y+=u.lineHeight,q.x=o):k.exec(u.textItems[v])?v>0&&k.exec(u.textItems[v])&&(q.x=o):""===u.textItems[v]&&(q.x=o)}}for(var P=!1,Q=!1,R=0;R<m.textArray.length;R++)"center"===m.textArray[R].align?P=!0:"right"===m.textArray[R].align&&(Q=!0);P?this.centreAlignText(b,m,o):Q&&this.rightAlignText(b,m,p);var S;return 1===d?(S=0,S=m.textArray[m.textArray.length-1].position.y,
S+=m.textArray[m.textArray.length-1].fontSize/2,m.position.y=b.yLength/2-S/2,m.position.y+=m.textArray[0].fontSize/2):2===d&&(S=m.textArray[m.textArray.length-1].position.y,m.position.y=b.yLength-10-S),m.textArray.length&&(m.maxHeight=m.textArray[m.textArray.length-1].position.y+m.textArray[m.textArray.length-1].fontSize),m}}},{key:"setCentreAlign",value:function(a,b,c,d,e){d=d||1;for(var f=(b-20)/2-c/2,g=0;g<d;g++){
var h=a.textArray[e+g];h.position.x+=h.metricWidth/2,h.position.x+=f}}},{key:"centreAlignText",value:function(a,b,c){for(var d=0,e=0,f=0,g=0,h=0;h<b.textArray.length;h++)e===b.textArray[h].position.y?(d++,g+=b.textArray[h].metricWidth):e!==b.textArray[h].position.y&&(this.setCentreAlign(b,a.xLength,g,d,f),d=1,g=b.textArray[h].metricWidth,f=h),e=b.textArray[h].position.y,h+1===b.textArray.length&&this.setCentreAlign(b,a.xLength,g,d,f);
}},{key:"rightAlignText",value:function(a,b,c){for(var d,e=[],f=0,g=0,h=0,i=0;i<b.textArray.length;i++){if(f===b.textArray[i].position.y)e.push(b.textArray[i].position.x),h=b.textArray[i].position.x;else if(f!==b.textArray[i].position.y){var j=0;for(d=e.length-1;d>=0;d--)b.textArray[d+g].position.x=a.xLength-c-j,j+=b.textArray[d+g].metricWidth;e=[],h=b.textArray[i].position.x,e.push(b.textArray[i].position.x),
g=i}if(f=b.textArray[i].position.y,i+1===b.textArray.length){var k=0;for(d=e.length-1;d>=0;d--)b.textArray[d+g].position.x=a.xLength-c-k,k+=b.textArray[d+g].metricWidth}}}}]),a}(),calculateItemPosition=function(a,b,c,d){c.setStyle(a),c.newLine&&(b.x=this.padding,b.y+=this.lineSpacing);var e=a.measureText(c.value+" ").width;if(!(e<this.xLength-(b.x+this.padding+this.scrollWidth+20))){var f="",g=c.value.split(" ");
f=" ";var h=0;for(e=0;e<this.xLength-(b.x+this.padding+this.scrollWidth)&&(e+=a.measureText(g[h]+f).width,h<g.length&&e<this.xLength-(b.x+this.padding+this.scrollWidth));)h++;var i={};return i.font=c.font,i.fontColor=c.fontColor,i.fontStyle=c.fontStyle,i.fontSize=c.fontSize,i.position={x:0,y:b.y},i.setStyle=c.setStyle,i.draw=c.draw,c.value=g.slice(0,h).join(f),c.position.x=b.x,c.position.y=b.y,i.value=g.slice(h).join(f),
i.position.x=this.padding,i.position.y+=this.lineSpacing,i.value&&this.textArray.splice(d+1,0,i),{x:this.padding,y:i.position.y}}return c.position.x=b.x,c.position.y=b.y,b.x+=e,b},_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol?"symbol":typeof a};!function(){for(var a=0,b=["webkit","moz"],c=0;c<b.length&&!window.requestAnimationFrame;++c)window.requestAnimationFrame=window[b[c]+"RequestAnimationFrame"],
window.cancelAnimationFrame=window[b[c]+"CancelAnimationFrame"]||window[b[c]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(b,c){var d=(new Date).getTime(),e=Math.max(0,16-(d-a)),f=window.setTimeout(function(){b(d+e)},e);return a=d+e,f}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(a){clearTimeout(a)})}();var getAbsPosition=function(a){
var b=a,c=0,d=0;if(document.getElementById||document.all){do for(d+=a.offsetLeft-a.scrollLeft,c+=a.offsetTop-a.scrollTop,a=a.offsetParent,b=b.parentNode;b!==a;)d-=b.scrollLeft,c-=b.scrollTop,b=b.parentNode;while(a.offsetParent)}else document.layers&&(c+=a.y,d+=a.x);return{y:c,x:d}},lineIsHit=function(a,b,c){var d=getDistanceFromLine(b.x,b.y,a.startPosition.x,a.startPosition.y,a.endPosition.x,a.endPosition.y);
return d<c&&d},getWholeOverlap=function(a,b){var c=0,d=getVertexes(b);a.points=getVertexes(a);for(var e=0;e<d.length;e++)isAreaIntersect({x:0,y:0},d[e],a,!0)&&c++;return c===d.length},getPartialOverlap=function(a,b){for(var c=0,d=getEdges(a),e=getEdges(b),f=0;f<d.length;f++)for(var g=0;g<e.length;g++)linearIntersect(d[f].start,d[f].end,e[g].start,e[g].end)&&c++;return c},getVertexes=function(a){return a.shapeType===ShapeType.RECTILINEAR?getRectangleVertexes(a):a.shapeType===ShapeType.VECTOR&&a.selectionType===SelectionType.MultiLine?a.points:void 0;
},getEdges=function(a){return a.shapeType===ShapeType.RECTILINEAR?getRectangleEdges(a):a.shapeType===ShapeType.VECTOR&&a.selectionType===SelectionType.MultiLine?getPolyLineEdges(a):void 0},getRectangleVertexes=function(a){var b=[];return b.push({x:a.position.x,y:a.position.y}),b.push({x:a.position.x+a.xLength,y:a.position.y}),b.push({x:a.position.x,y:a.position.y+a.yLength}),b.push({x:a.position.x+a.xLength,
y:a.position.y+a.yLength}),b},getRectangleEdges=function(a){var b=[];return b.push({start:{x:a.position.x,y:a.position.y},end:{x:a.position.x+a.xLength,y:a.position.y}}),b.push({start:{x:a.position.x,y:a.position.y},end:{x:a.position.x,y:a.position.y+a.yLength}}),b.push({start:{x:a.position.x+a.xLength,y:a.position.y},end:{x:a.position.x+a.xLength,y:a.position.y+a.yLength}}),b.push({start:{x:a.position.x,
y:a.position.y+a.yLength},end:{x:a.position.x+a.xLength,y:a.position.y+a.yLength}}),b},getPolyLineEdges=function(a){for(var b=[],c=0;c<a.points.length-1;c++){var d={x:a.points[c].x,y:a.points[c].y},e={x:a.points[c+1].x,y:a.points[c+1].y};b.push({start:d,end:e})}return b},shuffle=function(a){for(var b,c,d=a.length;0!==d;)c=Math.floor(Math.random()*d),d-=1,b=a[d],a[d]=a[c],a[c]=b;return a},drawRoundRectangle=function(a,b,c,d,e,f,g){
a.beginPath(),a.moveTo(b.x+e,b.y),a.lineTo(b.x+c-e,b.y),a.quadraticCurveTo(b.x+c,b.y,b.x+c,b.y+e),a.lineTo(b.x+c,b.y+d-e),a.quadraticCurveTo(b.x+c,b.y+d,b.x+c-e,b.y+d),a.lineTo(b.x+e,b.y+d),a.quadraticCurveTo(b.x,b.y+d,b.x,b.y+d-e),a.lineTo(b.x,b.y+e),a.quadraticCurveTo(b.x,b.y,b.x+e,b.y),f&&(a.fillStyle=f,a.fill()),g&&(a.strokeStyle=g,a.stroke()),a.closePath()},snapObject=function(a,b){if(b.x<0||b.y<0)return b;
var c,d,e={x:0,y:0},f=0,g=0;c=a.columns*a.spacing,d=a.rows*a.spacing;for(var h=0;h<=a.columns;h++)Math.abs(b.x-(a.position.x+h*a.spacing))<c&&(c=Math.abs(b.x-(a.position.x+h*a.spacing)),f=h);for(h=0;h<=a.rows;h++)Math.abs(b.y-(a.position.y+h*a.spacing))<d&&(d=Math.abs(b.y-(a.position.y+h*a.spacing)),g=h);return e.x=f*a.spacing+a.position.x,e.y=g*a.spacing+a.position.y,e},getLineHitPosition=function(a,b,c){
if(lineIsHit(a,b,c)<c)return getClosestPointToLine(b.x,b.y,a.startPosition.x,a.startPosition.y,a.endPosition.x,a.endPosition.y)},isHit=function(a,b){return a.shapeType===ShapeType.VECTOR?a.selectionType===SelectionType.MultiLine?isAreaIntersect({x:0,y:0},b,a):lineIsHit(a,b,Geometry.minLineDistance):a.shapeType===ShapeType.CIRCULAR?circleIsHit(a,b):boxIsHit(a,b)},showImageDialog=function(){$("#overlayCanvas").toggle(),
$("#overlay").toggle(),$("#imageGallery").toggle()},toggleDialog=function(a,b){a.toggle(),b||($("#overlayCanvas").toggle(),$("#overlay").toggle())},AJAXLoader=function(a,b,c){this.url=a,this.formData=c,this.method=b,this.questionSet=null,this.loadData=function(a){$.ajax({url:this.url,type:"GET"});var b=[];return $.ajax({url:this.url,type:this.method,dataType:"json",data:this.formData,async:!0,error:function(a){},
success:a}),b}},DataPath=function(){};DataPath.imageuploadURL="https://www.cogbooks.com/editor/uploadImage",DataPath.images="https://www.cogbooks.com/editor/editorimages",DataPath.supportImages="https://www.cogbooks.com/editor/images",DataPath.canvasURL="https://www.cogbooks.com/editor/CanvasServlet",DataPath.canvasSaveURL="https://www.cogbooks.com/editor/SaveCanvas",DataPath.imageURL="https://www.cogbooks.com/editor/imageSearch",
DataPath.imageuploadServlet="uploadImage",DataPath.canvasServlet="CanvasServlet",DataPath.imageServlet="images",DataPath.imagePath="editorimages",DataPath.supportImagePath="images";var Settings=function(){};Settings.previewPath="/editor/author/quickView";var EventManager=function(a){this.eventList=a,this.objectList=[],this.register=function(a,b){if(a.length)for(var c=0;c<a.length;c++){var d=a.slice(c);
this.objectList.push(d[0])}else this.objectList.push(a);this.objectList[this.objectList.length-1].events=b},this.unregister=function(a){for(var b=0;b<this.objectList.length;b++)this.objectList[b]===a&&(this.objectList[b].unregister(),this.objectList.splice(b,1))},this.mouseDown=function(a,b,c){for(var d=[],e=0;e<this.objectList.length;e++)if(this.objectList[e].events.indexOf("mouseDown")>-1){var f=this.objectList[e].mouseDown(a,b,c);
f&&d.push(f)}return d},this.mouseMove=function(a,b,c){for(var d=0;d<this.objectList.length;d++)this.objectList[d].events.indexOf("mouseMove")>-1&&this.objectList[d].mouseMove(a,b,c)},this.mouseUp=function(a,b,c){for(var d=0;d<this.objectList.length;d++)this.objectList[d].events.indexOf("mouseUp")>-1&&this.objectList[d].mouseUp(a,b,c)}},rectangleToVectorArray=function(a){var b=[];return b[0]={x1:a.position.x,
y1:a.position.y,x2:a.position.x+a.xLength,y2:a.position.y},b[1]={x1:a.position.x+a.xLength,y1:a.position.y,x2:a.position.x+a.xLength,y2:a.position.y+a.yLength},b[2]={x1:a.position.x,y1:a.position.y+a.yLength,x2:a.position.x+a.xLength,y2:a.position.y+a.yLength},b[3]={x1:a.position.x,y1:a.position.y,x2:a.position.x,y2:a.position.y+a.yLength},b},getRectangleEdgeMidpoints=function(a){var b=[];return b[0]={
x:a.position.x+.75*a.xLength,y:a.position.y},b[1]={x:a.position.x+a.xLength,y:a.position.y+.75*a.yLength},b[2]={x:a.position.x+.75*a.xLength,y:a.position.y+a.yLength},b[3]={x:a.position.x,y:a.position.y+.75*a.yLength},b},getAttachmentLineCoordinates=function(a,b,c){var d,e=getRectangleEdgeMidpoints(a);d="multiline"===c?getIrregularMidpoints(b):getRectangleEdgeMidpoints(b);for(var f=1e6,g=-1,h=-1,i=0;i<e.length;i++)for(var j=0;j<d.length;j++){
var k=(e[i].x-d[j].x)*(e[i].x-d[j].x)+(e[i].y-d[j].y)*(e[i].y-d[j].y);k<f&&(f=k,g=i,h=j)}var l=[e[g],d[h]];return l},getIrregularMidpoints=function(a){for(var b=[],c=1;c<a.points.length;c++){var d={},e=a.points[c].x/2+a.points[c-1].x/2,f=a.points[c].y/2+a.points[c-1].y/2;d.x=a.position.x,d.y=a.position.y,d.x+=e,d.y+=f,b.push(d)}return b},isAreaIntersect=function(a,b,c,d){var e=0,f={x:0,y:0};d||(f=c.position);
for(var g=1;g<c.points.length;g++)linearIntersect(a,b,{x:f.x+c.points[g-1].x,y:f.y+c.points[g-1].y},{x:f.x+c.points[g].x,y:f.y+c.points[g].y})&&e++;return e%2>0};
//# sourceMappingURL=sourcemap.map